{"version":3,"sources":["createAnimatableComponent.js"],"names":["INTERPOLATION_STYLE_PROPERTIES","ZERO_CLAMPED_STYLE_PROPERTIES","omit","keys","source","filtered","Object","forEach","key","indexOf","deepEquals","a","b","JSON","stringify","getAnimationTarget","iteration","direction","getAnimationOrigin","getCompiledAnimation","animation","compiledAnimation","Error","makeInterpolatedStyle","animationValue","style","interpolate","transitionToValue","property","transitionValue","toValue","duration","easing","useNativeDriver","delay","onTransitionBegin","onTransitionEnd","Animated","timing","EASING_FUNCTIONS","spring","setTimeout","start","createAnimatableComponent","WrappedComponent","wrappedComponentName","displayName","name","Animatable","createAnimatedComponent","props","ref","handleRef","Value","animationStyle","state","transitionStyle","transitionValues","currentTransitionValues","transition","initializeTransitionState","delayTimer","animationName","animate","bind","transitionKeys","styleValues","value","missingKeys","filter","length","transitionState","nativeProps","setNativeProps","onAnimationBegin","iterationDelay","startAnimation","endState","onAnimationEnd","values","transitionTo","setAnimation","then","stopAnimation","clearTimeout","callback","setState","Promise","resolve","scheduledAnimation","iterationCount","currentIteration","fromValue","setValue","reversed","Easing","out","config","isInteraction","finished","fromValues","toValues","fromValuesFlat","toValuesFlat","getTransitionState","needsInterpolation","needsZeroClamping","inputRange","outputRange","extrapolateLeft","transitionToValues","transitions","from","to","prop","currentTransitionValue","restProps","Component","propTypes","PropTypes","oneOfType","string","object","number","oneOf","func","propName","val","array","arrayOf","bool","defaultProps","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Animated, Easing } from 'react-native';\nimport wrapStyleTransforms from './wrapStyleTransforms';\nimport getStyleValues from './getStyleValues';\nimport flattenStyle from './flattenStyle';\nimport createAnimation from './createAnimation';\nimport { getAnimationByName, getAnimationNames } from './registry';\nimport EASING_FUNCTIONS from './easing';\n\n// These styles are not number based and thus needs to be interpolated\nconst INTERPOLATION_STYLE_PROPERTIES = [\n  // Transform styles\n  'rotate',\n  'rotateX',\n  'rotateY',\n  'rotateZ',\n  'skewX',\n  'skewY',\n  'transformMatrix',\n  // View styles\n  'backgroundColor',\n  'borderColor',\n  'borderTopColor',\n  'borderRightColor',\n  'borderBottomColor',\n  'borderLeftColor',\n  'shadowColor',\n  // Text styles\n  'color',\n  'textDecorationColor',\n  // Image styles\n  'tintColor',\n];\n\nconst ZERO_CLAMPED_STYLE_PROPERTIES = ['width', 'height'];\n\n// Create a copy of `source` without `keys`\nfunction omit(keys, source) {\n  const filtered = {};\n  Object.keys(source).forEach(key => {\n    if (keys.indexOf(key) === -1) {\n      filtered[key] = source[key];\n    }\n  });\n  return filtered;\n}\n\n// Yes it's absurd, but actually fast\nfunction deepEquals(a, b) {\n  return a === b || JSON.stringify(a) === JSON.stringify(b);\n}\n\n// Determine to what value the animation should tween to\nfunction getAnimationTarget(iteration, direction) {\n  switch (direction) {\n    case 'reverse':\n      return 0;\n    case 'alternate':\n      return iteration % 2 ? 0 : 1;\n    case 'alternate-reverse':\n      return iteration % 2 ? 1 : 0;\n    case 'normal':\n    default:\n      return 1;\n  }\n}\n\n// Like getAnimationTarget but opposite\nfunction getAnimationOrigin(iteration, direction) {\n  return getAnimationTarget(iteration, direction) ? 0 : 1;\n}\n\nfunction getCompiledAnimation(animation) {\n  if (typeof animation === 'string') {\n    const compiledAnimation = getAnimationByName(animation);\n    if (!compiledAnimation) {\n      throw new Error(`No animation registred by the name of ${animation}`);\n    }\n    return compiledAnimation;\n  }\n  return createAnimation(animation);\n}\n\nfunction makeInterpolatedStyle(compiledAnimation, animationValue) {\n  const style = {};\n  Object.keys(compiledAnimation).forEach(key => {\n    if (key === 'style') {\n      Object.assign(style, compiledAnimation.style);\n    } else if (key !== 'easing') {\n      style[key] = animationValue.interpolate(compiledAnimation[key]);\n    }\n  });\n  return wrapStyleTransforms(style);\n}\n\nfunction transitionToValue(\n  property,\n  transitionValue,\n  toValue,\n  duration,\n  easing,\n  useNativeDriver = false,\n  delay,\n  onTransitionBegin,\n  onTransitionEnd,\n) {\n  const animation =\n    duration || easing || delay\n      ? Animated.timing(transitionValue, {\n          toValue,\n          delay,\n          duration: duration || 1000,\n          easing:\n            typeof easing === 'function'\n              ? easing\n              : EASING_FUNCTIONS[easing || 'ease'],\n          useNativeDriver,\n        })\n      : Animated.spring(transitionValue, { toValue, useNativeDriver });\n  setTimeout(() => onTransitionBegin(property), delay);\n  animation.start(() => onTransitionEnd(property));\n}\n\n// Make (almost) any component animatable, similar to Animated.createAnimatedComponent\nexport default function createAnimatableComponent(WrappedComponent) {\n  const wrappedComponentName =\n    WrappedComponent.displayName || WrappedComponent.name || 'Component';\n\n  const Animatable = Animated.createAnimatedComponent(WrappedComponent);\n\n  return class AnimatableComponent extends Component {\n    static displayName = `withAnimatable(${wrappedComponentName})`;\n\n    static propTypes = {\n      animation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n      duration: PropTypes.number,\n      direction: PropTypes.oneOf([\n        'normal',\n        'reverse',\n        'alternate',\n        'alternate-reverse',\n      ]),\n      delay: PropTypes.number,\n      easing: PropTypes.oneOfType([\n        PropTypes.oneOf(Object.keys(EASING_FUNCTIONS)),\n        PropTypes.func,\n      ]),\n      iterationCount(props, propName) {\n        const val = props[propName];\n        if (val !== 'infinite' && !(typeof val === 'number' && val >= 1)) {\n          return new Error(\n            'iterationCount must be a positive number or \"infinite\"',\n          );\n        }\n        return null;\n      },\n      iterationDelay: PropTypes.number,\n      onAnimationBegin: PropTypes.func,\n      onAnimationEnd: PropTypes.func,\n      onTransitionBegin: PropTypes.func,\n      onTransitionEnd: PropTypes.func,\n      style: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.array,\n        PropTypes.object,\n      ]),\n      transition: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n      ]),\n      useNativeDriver: PropTypes.bool,\n    };\n\n    static defaultProps = {\n      animation: undefined,\n      delay: 0,\n      direction: 'normal',\n      duration: undefined,\n      easing: undefined,\n      iterationCount: 1,\n      iterationDelay: 0,\n      onAnimationBegin() {},\n      onAnimationEnd() {},\n      onTransitionBegin() {},\n      onTransitionEnd() {},\n      style: undefined,\n      transition: undefined,\n      useNativeDriver: false,\n    };\n\n    constructor(props) {\n      super(props);\n\n      const animationValue = new Animated.Value(\n        getAnimationOrigin(0, this.props.direction),\n      );\n      let animationStyle = {};\n      let compiledAnimation = {};\n      if (props.animation) {\n        compiledAnimation = getCompiledAnimation(props.animation);\n        animationStyle = makeInterpolatedStyle(\n          compiledAnimation,\n          animationValue,\n        );\n      }\n      this.state = {\n        animationValue,\n        animationStyle,\n        compiledAnimation,\n        transitionStyle: {},\n        transitionValues: {},\n        currentTransitionValues: {},\n      };\n\n      if (props.transition) {\n        this.state = {\n          ...this.state,\n          ...this.initializeTransitionState(props.transition),\n        };\n      }\n      this.delayTimer = null;\n\n      // Alias registered animations for backwards compatibility\n      getAnimationNames().forEach(animationName => {\n        if (!(animationName in this)) {\n          this[animationName] = this.animate.bind(this, animationName);\n        }\n      });\n    }\n\n    initializeTransitionState(transitionKeys) {\n      const transitionValues = {};\n      const styleValues = {};\n\n      const currentTransitionValues = getStyleValues(\n        transitionKeys,\n        this.props.style,\n      );\n      Object.keys(currentTransitionValues).forEach(key => {\n        const value = currentTransitionValues[key];\n        if (\n          INTERPOLATION_STYLE_PROPERTIES.indexOf(key) !== -1 ||\n          typeof value !== 'number'\n        ) {\n          transitionValues[key] = new Animated.Value(0);\n          styleValues[key] = value;\n        } else {\n          const animationValue = new Animated.Value(value);\n          transitionValues[key] = animationValue;\n          styleValues[key] = animationValue;\n        }\n      });\n\n      return {\n        currentTransitionValues,\n        transitionStyle: styleValues,\n        transitionValues,\n      };\n    }\n\n    getTransitionState(keys) {\n      const transitionKeys = typeof keys === 'string' ? [keys] : keys;\n      let {\n        transitionValues,\n        currentTransitionValues,\n        transitionStyle,\n      } = this.state;\n      const missingKeys = transitionKeys.filter(\n        key => !this.state.transitionValues[key],\n      );\n      if (missingKeys.length) {\n        const transitionState = this.initializeTransitionState(missingKeys);\n        transitionValues = {\n          ...transitionValues,\n          ...transitionState.transitionValues,\n        };\n        currentTransitionValues = {\n          ...currentTransitionValues,\n          ...transitionState.currentTransitionValues,\n        };\n        transitionStyle = {\n          ...transitionStyle,\n          ...transitionState.transitionStyle,\n        };\n      }\n      return { transitionValues, currentTransitionValues, transitionStyle };\n    }\n\n    ref = null;\n\n    handleRef = ref => {\n      this.ref = ref;\n    };\n\n    setNativeProps(nativeProps) {\n      if (this.ref) {\n        this.ref.setNativeProps(nativeProps);\n      }\n    }\n\n    componentDidMount() {\n      const {\n        animation,\n        duration,\n        delay,\n        onAnimationBegin,\n        iterationDelay,\n      } = this.props;\n      if (animation) {\n        const startAnimation = () => {\n          onAnimationBegin();\n          this.startAnimation(duration, 0, iterationDelay, endState =>\n            this.props.onAnimationEnd(endState),\n          );\n          this.delayTimer = null;\n        };\n        if (delay) {\n          this.delayTimer = setTimeout(startAnimation, delay);\n        } else {\n          startAnimation();\n        }\n      }\n    }\n\n    // eslint-disable-next-line camelcase\n    UNSAFE_componentWillReceiveProps(props) {\n      const {\n        animation,\n        delay,\n        duration,\n        easing,\n        iterationDelay,\n        transition,\n        onAnimationBegin,\n      } = props;\n\n      if (transition) {\n        const values = getStyleValues(transition, props.style);\n        this.transitionTo(values, duration, easing, delay);\n      } else if (!deepEquals(animation, this.props.animation)) {\n        if (animation) {\n          if (this.delayTimer) {\n            this.setAnimation(animation);\n          } else {\n            onAnimationBegin();\n            this.animate(animation, duration, iterationDelay).then(endState =>\n              this.props.onAnimationEnd(endState),\n            );\n          }\n        } else {\n          this.stopAnimation();\n        }\n      }\n    }\n\n    componentWillUnmount() {\n      if (this.delayTimer) {\n        clearTimeout(this.delayTimer);\n      }\n    }\n\n    setAnimation(animation, callback) {\n      const compiledAnimation = getCompiledAnimation(animation);\n      this.setState(\n        state => ({\n          animationStyle: makeInterpolatedStyle(\n            compiledAnimation,\n            state.animationValue,\n          ),\n          compiledAnimation,\n        }),\n        callback,\n      );\n    }\n\n    animate(animation, duration, iterationDelay) {\n      return new Promise(resolve => {\n        this.setAnimation(animation, () => {\n          this.startAnimation(duration, 0, iterationDelay, resolve);\n        });\n      });\n    }\n\n    stopAnimation() {\n      this.setState({\n        scheduledAnimation: false,\n        animationStyle: {},\n      });\n      this.state.animationValue.stopAnimation();\n      if (this.delayTimer) {\n        clearTimeout(this.delayTimer);\n        this.delayTimer = null;\n      }\n    }\n\n    startAnimation(duration, iteration, iterationDelay, callback) {\n      const { animationValue, compiledAnimation } = this.state;\n      const { direction, iterationCount, useNativeDriver } = this.props;\n      let easing = this.props.easing || compiledAnimation.easing || 'ease';\n      let currentIteration = iteration || 0;\n      const fromValue = getAnimationOrigin(currentIteration, direction);\n      const toValue = getAnimationTarget(currentIteration, direction);\n      animationValue.setValue(fromValue);\n\n      if (typeof easing === 'string') {\n        easing = EASING_FUNCTIONS[easing];\n      }\n      // Reverse easing if on the way back\n      const reversed =\n        direction === 'reverse' ||\n        (direction === 'alternate' && !toValue) ||\n        (direction === 'alternate-reverse' && !toValue);\n      if (reversed) {\n        easing = Easing.out(easing);\n      }\n      const config = {\n        toValue,\n        easing,\n        isInteraction: iterationCount <= 1,\n        duration: duration || this.props.duration || 1000,\n        useNativeDriver,\n        delay: iterationDelay || 0,\n      };\n\n      Animated.timing(animationValue, config).start(endState => {\n        currentIteration += 1;\n        if (\n          endState.finished &&\n          this.props.animation &&\n          (iterationCount === 'infinite' || currentIteration < iterationCount)\n        ) {\n          this.startAnimation(\n            duration,\n            currentIteration,\n            iterationDelay,\n            callback,\n          );\n        } else if (callback) {\n          callback(endState);\n        }\n      });\n    }\n\n    transition(fromValues, toValues, duration, easing) {\n      const fromValuesFlat = flattenStyle(fromValues);\n      const toValuesFlat = flattenStyle(toValues);\n      const transitionKeys = Object.keys(toValuesFlat);\n      const {\n        transitionValues,\n        currentTransitionValues,\n        transitionStyle,\n      } = this.getTransitionState(transitionKeys);\n\n      transitionKeys.forEach(property => {\n        const fromValue = fromValuesFlat[property];\n        const toValue = toValuesFlat[property];\n        let transitionValue = transitionValues[property];\n        if (!transitionValue) {\n          transitionValue = new Animated.Value(0);\n        }\n        const needsInterpolation =\n          INTERPOLATION_STYLE_PROPERTIES.indexOf(property) !== -1 ||\n          typeof value !== 'number';\n        const needsZeroClamping =\n          ZERO_CLAMPED_STYLE_PROPERTIES.indexOf(property) !== -1;\n        if (needsInterpolation) {\n          transitionValue.setValue(0);\n          transitionStyle[property] = transitionValue.interpolate({\n            inputRange: [0, 1],\n            outputRange: [fromValue, toValue],\n          });\n          currentTransitionValues[property] = toValue;\n          toValuesFlat[property] = 1;\n        } else {\n          if (needsZeroClamping) {\n            transitionStyle[property] = transitionValue.interpolate({\n              inputRange: [0, 1],\n              outputRange: [0, 1],\n              extrapolateLeft: 'clamp',\n            });\n            currentTransitionValues[property] = toValue;\n          } else {\n            transitionStyle[property] = transitionValue;\n          }\n          transitionValue.setValue(fromValue);\n        }\n      });\n      this.setState(\n        { transitionValues, transitionStyle, currentTransitionValues },\n        () => {\n          this.transitionToValues(\n            toValuesFlat,\n            duration || this.props.duration,\n            easing,\n            this.props.delay,\n          );\n        },\n      );\n    }\n\n    transitionTo(toValues, duration, easing, delay) {\n      const { currentTransitionValues } = this.state;\n      const toValuesFlat = flattenStyle(toValues);\n      const transitions = {\n        from: {},\n        to: {},\n      };\n\n      Object.keys(toValuesFlat).forEach(property => {\n        const toValue = toValuesFlat[property];\n        const needsInterpolation =\n          INTERPOLATION_STYLE_PROPERTIES.indexOf(property) !== -1 ||\n          typeof value !== 'number';\n        const needsZeroClamping =\n          ZERO_CLAMPED_STYLE_PROPERTIES.indexOf(property) !== -1;\n        const transitionStyle = this.state.transitionStyle[property];\n        const transitionValue = this.state.transitionValues[property];\n        if (\n          !needsInterpolation &&\n          !needsZeroClamping &&\n          transitionStyle &&\n          transitionStyle === transitionValue\n        ) {\n          transitionToValue(\n            property,\n            transitionValue,\n            toValue,\n            duration,\n            easing,\n            this.props.useNativeDriver,\n            delay,\n            prop => this.props.onTransitionBegin(prop),\n            prop => this.props.onTransitionEnd(prop),\n          );\n        } else {\n          let currentTransitionValue = currentTransitionValues[property];\n          if (\n            typeof currentTransitionValue === 'undefined' &&\n            this.props.style\n          ) {\n            const style = getStyleValues(property, this.props.style);\n            currentTransitionValue = style[property];\n          }\n          transitions.from[property] = currentTransitionValue;\n          transitions.to[property] = toValue;\n        }\n      });\n\n      if (Object.keys(transitions.from).length) {\n        this.transition(transitions.from, transitions.to, duration, easing);\n      }\n    }\n\n    transitionToValues(toValues, duration, easing, delay) {\n      Object.keys(toValues).forEach(property => {\n        const transitionValue = this.state.transitionValues[property];\n        const toValue = toValues[property];\n        transitionToValue(\n          property,\n          transitionValue,\n          toValue,\n          duration,\n          easing,\n          this.props.useNativeDriver,\n          delay,\n          prop => this.props.onTransitionBegin(prop),\n          prop => this.props.onTransitionEnd(prop),\n        );\n      });\n    }\n\n    render() {\n      const { style, animation, transition } = this.props;\n      if (animation && transition) {\n        throw new Error('You cannot combine animation and transition props');\n      }\n      const restProps = omit(\n        [\n          'animation',\n          'duration',\n          'direction',\n          'delay',\n          'easing',\n          'iterationCount',\n          'iterationDelay',\n          'onAnimationBegin',\n          'onAnimationEnd',\n          'onTransitionBegin',\n          'onTransitionEnd',\n          'style',\n          'transition',\n          'useNativeDriver',\n        ],\n        this.props,\n      );\n\n      return (\n        <Animatable\n          ref={this.handleRef}\n          style={[\n            style,\n            this.state.animationStyle,\n            wrapStyleTransforms(this.state.transitionStyle),\n          ]}\n          {...restProps}\n        />\n      );\n    }\n  };\n}\n"]}