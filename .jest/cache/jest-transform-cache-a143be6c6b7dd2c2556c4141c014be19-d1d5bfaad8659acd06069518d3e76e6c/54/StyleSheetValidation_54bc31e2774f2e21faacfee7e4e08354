691c0ee150f3c435b93758cc02e4ac8e
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var DeprecatedImageStylePropTypes = require("../DeprecatedPropTypes/DeprecatedImageStylePropTypes");

var DeprecatedTextStylePropTypes = require("../DeprecatedPropTypes/DeprecatedTextStylePropTypes");

var DeprecatedViewStylePropTypes = require("../DeprecatedPropTypes/DeprecatedViewStylePropTypes");

var invariant = require('invariant');

var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';

var StyleSheetValidation = function () {
  function StyleSheetValidation() {
    (0, _classCallCheck2.default)(this, StyleSheetValidation);
  }

  (0, _createClass2.default)(StyleSheetValidation, null, [{
    key: "validateStyleProp",
    value: function validateStyleProp(prop, style, caller) {
      if (!__DEV__ || global.__RCTProfileIsProfiling) {
        return;
      }

      if (allStylePropTypes[prop] === undefined) {
        var message1 = '"' + prop + '" is not a valid style property.';
        var message2 = '\nValid style props: ' + JSON.stringify(Object.keys(allStylePropTypes).sort(), null, '  ');
        styleError(message1, style, caller, message2);
      }

      var error = allStylePropTypes[prop](style, prop, caller, 'prop', null, ReactPropTypesSecret);

      if (error) {
        styleError(error.message, style, caller);
      }
    }
  }, {
    key: "validateStyle",
    value: function validateStyle(name, styles) {
      if (!__DEV__ || global.__RCTProfileIsProfiling) {
        return;
      }

      if (!styles[name]) {
        return;
      }

      var styleProps = Object.keys(styles[name]);

      for (var _i = 0, _styleProps = styleProps; _i < _styleProps.length; _i++) {
        var prop = _styleProps[_i];
        StyleSheetValidation.validateStyleProp(prop, styles[name], 'StyleSheet ' + name);
      }
    }
  }, {
    key: "addValidStylePropTypes",
    value: function addValidStylePropTypes(stylePropTypes) {
      if (!__DEV__ || global.__RCTProfileIsProfiling) {
        return;
      }

      for (var key in stylePropTypes) {
        allStylePropTypes[key] = stylePropTypes[key];
      }
    }
  }]);
  return StyleSheetValidation;
}();

var styleError = function styleError(message1, style, caller, message2) {
  invariant(false, message1 + '\n' + (caller || '<<unknown>>') + ': ' + JSON.stringify(style, null, '  ') + (message2 || ''));
};

var allStylePropTypes = {};

if (__DEV__ && !global.__RCTProfileIsProfiling) {
  StyleSheetValidation.addValidStylePropTypes(DeprecatedImageStylePropTypes);
  StyleSheetValidation.addValidStylePropTypes(DeprecatedTextStylePropTypes);
  StyleSheetValidation.addValidStylePropTypes(DeprecatedViewStylePropTypes);
}

module.exports = StyleSheetValidation;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN0eWxlU2hlZXRWYWxpZGF0aW9uLmpzIl0sIm5hbWVzIjpbIkRlcHJlY2F0ZWRJbWFnZVN0eWxlUHJvcFR5cGVzIiwicmVxdWlyZSIsIkRlcHJlY2F0ZWRUZXh0U3R5bGVQcm9wVHlwZXMiLCJEZXByZWNhdGVkVmlld1N0eWxlUHJvcFR5cGVzIiwiaW52YXJpYW50IiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJTdHlsZVNoZWV0VmFsaWRhdGlvbiIsInByb3AiLCJzdHlsZSIsImNhbGxlciIsIl9fREVWX18iLCJnbG9iYWwiLCJfX1JDVFByb2ZpbGVJc1Byb2ZpbGluZyIsImFsbFN0eWxlUHJvcFR5cGVzIiwidW5kZWZpbmVkIiwibWVzc2FnZTEiLCJtZXNzYWdlMiIsIkpTT04iLCJzdHJpbmdpZnkiLCJPYmplY3QiLCJrZXlzIiwic29ydCIsInN0eWxlRXJyb3IiLCJlcnJvciIsIm1lc3NhZ2UiLCJuYW1lIiwic3R5bGVzIiwic3R5bGVQcm9wcyIsInZhbGlkYXRlU3R5bGVQcm9wIiwic3R5bGVQcm9wVHlwZXMiLCJrZXkiLCJhZGRWYWxpZFN0eWxlUHJvcFR5cGVzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBVUE7Ozs7Ozs7O0FBRUEsSUFBTUEsNkJBQTZCLEdBQUdDLE9BQU8sd0RBQTdDOztBQUNBLElBQU1DLDRCQUE0QixHQUFHRCxPQUFPLHVEQUE1Qzs7QUFDQSxJQUFNRSw0QkFBNEIsR0FBR0YsT0FBTyx1REFBNUM7O0FBRUEsSUFBTUcsU0FBUyxHQUFHSCxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFNQSxJQUFNSSxvQkFBb0IsR0FBRyw4Q0FBN0I7O0lBRU1DLG9COzs7Ozs7O1dBQ0osMkJBQXlCQyxJQUF6QixFQUF1Q0MsS0FBdkMsRUFBc0RDLE1BQXRELEVBQXNFO0FBQ3BFLFVBQUksQ0FBQ0MsT0FBRCxJQUFZQyxNQUFNLENBQUNDLHVCQUF2QixFQUFnRDtBQUM5QztBQUNEOztBQUNELFVBQUlDLGlCQUFpQixDQUFDTixJQUFELENBQWpCLEtBQTRCTyxTQUFoQyxFQUEyQztBQUN6QyxZQUFNQyxRQUFRLEdBQUcsTUFBTVIsSUFBTixHQUFhLGtDQUE5QjtBQUNBLFlBQU1TLFFBQVEsR0FDWiwwQkFDQUMsSUFBSSxDQUFDQyxTQUFMLENBQWVDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZUCxpQkFBWixFQUErQlEsSUFBL0IsRUFBZixFQUFzRCxJQUF0RCxFQUE0RCxJQUE1RCxDQUZGO0FBR0FDLFFBQUFBLFVBQVUsQ0FBQ1AsUUFBRCxFQUFXUCxLQUFYLEVBQWtCQyxNQUFsQixFQUEwQk8sUUFBMUIsQ0FBVjtBQUNEOztBQUNELFVBQU1PLEtBQUssR0FBR1YsaUJBQWlCLENBQUNOLElBQUQsQ0FBakIsQ0FDWkMsS0FEWSxFQUVaRCxJQUZZLEVBR1pFLE1BSFksRUFJWixNQUpZLEVBS1osSUFMWSxFQU1aSixvQkFOWSxDQUFkOztBQVFBLFVBQUlrQixLQUFKLEVBQVc7QUFDVEQsUUFBQUEsVUFBVSxDQUFDQyxLQUFLLENBQUNDLE9BQVAsRUFBZ0JoQixLQUFoQixFQUF1QkMsTUFBdkIsQ0FBVjtBQUNEO0FBQ0Y7OztXQUVELHVCQUFxQmdCLElBQXJCLEVBQW1DQyxNQUFuQyxFQUFtRDtBQUNqRCxVQUFJLENBQUNoQixPQUFELElBQVlDLE1BQU0sQ0FBQ0MsdUJBQXZCLEVBQWdEO0FBQzlDO0FBQ0Q7O0FBQ0QsVUFBSSxDQUFDYyxNQUFNLENBQUNELElBQUQsQ0FBWCxFQUFtQjtBQUNqQjtBQUNEOztBQUNELFVBQU1FLFVBQVUsR0FBR1IsTUFBTSxDQUFDQyxJQUFQLENBQVlNLE1BQU0sQ0FBQ0QsSUFBRCxDQUFsQixDQUFuQjs7QUFDQSxxQ0FBbUJFLFVBQW5CLGlDQUErQjtBQUExQixZQUFNcEIsSUFBSSxrQkFBVjtBQUNIRCxRQUFBQSxvQkFBb0IsQ0FBQ3NCLGlCQUFyQixDQUNFckIsSUFERixFQUVFbUIsTUFBTSxDQUFDRCxJQUFELENBRlIsRUFHRSxnQkFBZ0JBLElBSGxCO0FBS0Q7QUFDRjs7O1dBS0QsZ0NBQThCSSxjQUE5QixFQUE4QztBQUM1QyxVQUFJLENBQUNuQixPQUFELElBQVlDLE1BQU0sQ0FBQ0MsdUJBQXZCLEVBQWdEO0FBQzlDO0FBQ0Q7O0FBQ0QsV0FBSyxJQUFNa0IsR0FBWCxJQUFrQkQsY0FBbEIsRUFBa0M7QUFDaENoQixRQUFBQSxpQkFBaUIsQ0FBQ2lCLEdBQUQsQ0FBakIsR0FBeUJELGNBQWMsQ0FBQ0MsR0FBRCxDQUF2QztBQUNEO0FBQ0Y7Ozs7O0FBR0gsSUFBTVIsVUFBVSxHQUFHLFNBQWJBLFVBQWEsQ0FBU1AsUUFBVCxFQUFtQlAsS0FBbkIsRUFBMEJDLE1BQTFCLEVBQW1DTyxRQUFuQyxFQUE4QztBQUMvRFosRUFBQUEsU0FBUyxDQUNQLEtBRE8sRUFFUFcsUUFBUSxHQUNOLElBREYsSUFFR04sTUFBTSxJQUFJLGFBRmIsSUFHRSxJQUhGLEdBSUVRLElBQUksQ0FBQ0MsU0FBTCxDQUFlVixLQUFmLEVBQXNCLElBQXRCLEVBQTRCLElBQTVCLENBSkYsSUFLR1EsUUFBUSxJQUFJLEVBTGYsQ0FGTyxDQUFUO0FBU0QsQ0FWRDs7QUFZQSxJQUFNSCxpQkFBaUIsR0FBRyxFQUExQjs7QUFFQSxJQUFJSCxPQUFPLElBQUksQ0FBQ0MsTUFBTSxDQUFDQyx1QkFBdkIsRUFBZ0Q7QUFDOUNOLEVBQUFBLG9CQUFvQixDQUFDeUIsc0JBQXJCLENBQTRDL0IsNkJBQTVDO0FBQ0FNLEVBQUFBLG9CQUFvQixDQUFDeUIsc0JBQXJCLENBQTRDN0IsNEJBQTVDO0FBQ0FJLEVBQUFBLG9CQUFvQixDQUFDeUIsc0JBQXJCLENBQTRDNUIsNEJBQTVDO0FBQ0Q7O0FBRUQ2QixNQUFNLENBQUNDLE9BQVAsR0FBaUIzQixvQkFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIEBmbG93XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBEZXByZWNhdGVkSW1hZ2VTdHlsZVByb3BUeXBlcyA9IHJlcXVpcmUoJy4uL0RlcHJlY2F0ZWRQcm9wVHlwZXMvRGVwcmVjYXRlZEltYWdlU3R5bGVQcm9wVHlwZXMnKTtcbmNvbnN0IERlcHJlY2F0ZWRUZXh0U3R5bGVQcm9wVHlwZXMgPSByZXF1aXJlKCcuLi9EZXByZWNhdGVkUHJvcFR5cGVzL0RlcHJlY2F0ZWRUZXh0U3R5bGVQcm9wVHlwZXMnKTtcbmNvbnN0IERlcHJlY2F0ZWRWaWV3U3R5bGVQcm9wVHlwZXMgPSByZXF1aXJlKCcuLi9EZXByZWNhdGVkUHJvcFR5cGVzL0RlcHJlY2F0ZWRWaWV3U3R5bGVQcm9wVHlwZXMnKTtcblxuY29uc3QgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbi8vIEhhcmRjb2RlZCBiZWNhdXNlIHRoaXMgaXMgYSBsZWdpdCBjYXNlIGJ1dCB3ZSBkb24ndCB3YW50IHRvIGxvYWQgaXQgZnJvbVxuLy8gYSBwcml2YXRlIEFQSS4gV2UgbWlnaHQgbGlrZWx5IHdhbnQgdG8gdW5pZnkgc3R5bGUgc2hlZXQgY3JlYXRpb24gd2l0aCBob3cgaXRcbi8vIGlzIGRvbmUgaW4gdGhlIERPTSBzbyB0aGlzIG1pZ2h0IG1vdmUgaW50byBSZWFjdC4gSSBrbm93IHdoYXQgSSdtIGRvaW5nIHNvXG4vLyBwbHogZG9uJ3QgZmlyZSBtZS5cbmNvbnN0IFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxuY2xhc3MgU3R5bGVTaGVldFZhbGlkYXRpb24ge1xuICBzdGF0aWMgdmFsaWRhdGVTdHlsZVByb3AocHJvcDogc3RyaW5nLCBzdHlsZTogT2JqZWN0LCBjYWxsZXI6IHN0cmluZykge1xuICAgIGlmICghX19ERVZfXyB8fCBnbG9iYWwuX19SQ1RQcm9maWxlSXNQcm9maWxpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGFsbFN0eWxlUHJvcFR5cGVzW3Byb3BdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UxID0gJ1wiJyArIHByb3AgKyAnXCIgaXMgbm90IGEgdmFsaWQgc3R5bGUgcHJvcGVydHkuJztcbiAgICAgIGNvbnN0IG1lc3NhZ2UyID1cbiAgICAgICAgJ1xcblZhbGlkIHN0eWxlIHByb3BzOiAnICtcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmtleXMoYWxsU3R5bGVQcm9wVHlwZXMpLnNvcnQoKSwgbnVsbCwgJyAgJyk7XG4gICAgICBzdHlsZUVycm9yKG1lc3NhZ2UxLCBzdHlsZSwgY2FsbGVyLCBtZXNzYWdlMik7XG4gICAgfVxuICAgIGNvbnN0IGVycm9yID0gYWxsU3R5bGVQcm9wVHlwZXNbcHJvcF0oXG4gICAgICBzdHlsZSxcbiAgICAgIHByb3AsXG4gICAgICBjYWxsZXIsXG4gICAgICAncHJvcCcsXG4gICAgICBudWxsLFxuICAgICAgUmVhY3RQcm9wVHlwZXNTZWNyZXQsXG4gICAgKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHN0eWxlRXJyb3IoZXJyb3IubWVzc2FnZSwgc3R5bGUsIGNhbGxlcik7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHZhbGlkYXRlU3R5bGUobmFtZTogc3RyaW5nLCBzdHlsZXM6IE9iamVjdCkge1xuICAgIGlmICghX19ERVZfXyB8fCBnbG9iYWwuX19SQ1RQcm9maWxlSXNQcm9maWxpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzdHlsZXNbbmFtZV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3R5bGVQcm9wcyA9IE9iamVjdC5rZXlzKHN0eWxlc1tuYW1lXSk7XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIHN0eWxlUHJvcHMpIHtcbiAgICAgIFN0eWxlU2hlZXRWYWxpZGF0aW9uLnZhbGlkYXRlU3R5bGVQcm9wKFxuICAgICAgICBwcm9wLFxuICAgICAgICBzdHlsZXNbbmFtZV0sXG4gICAgICAgICdTdHlsZVNoZWV0ICcgKyBuYW1lLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKiAkRmxvd0ZpeE1lKD49MC44NS4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhbiBlcnJvclxuICAgKiBmb3VuZCB3aGVuIEZsb3cgdjAuODUgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yLCBkZWxldGUgdGhpcyBjb21tZW50XG4gICAqIGFuZCBydW4gRmxvdy4gKi9cbiAgc3RhdGljIGFkZFZhbGlkU3R5bGVQcm9wVHlwZXMoc3R5bGVQcm9wVHlwZXMpIHtcbiAgICBpZiAoIV9fREVWX18gfHwgZ2xvYmFsLl9fUkNUUHJvZmlsZUlzUHJvZmlsaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIHN0eWxlUHJvcFR5cGVzKSB7XG4gICAgICBhbGxTdHlsZVByb3BUeXBlc1trZXldID0gc3R5bGVQcm9wVHlwZXNba2V5XTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVFcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UxLCBzdHlsZSwgY2FsbGVyPywgbWVzc2FnZTI/KSB7XG4gIGludmFyaWFudChcbiAgICBmYWxzZSxcbiAgICBtZXNzYWdlMSArXG4gICAgICAnXFxuJyArXG4gICAgICAoY2FsbGVyIHx8ICc8PHVua25vd24+PicpICtcbiAgICAgICc6ICcgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkoc3R5bGUsIG51bGwsICcgICcpICtcbiAgICAgIChtZXNzYWdlMiB8fCAnJyksXG4gICk7XG59O1xuXG5jb25zdCBhbGxTdHlsZVByb3BUeXBlcyA9IHt9O1xuXG5pZiAoX19ERVZfXyAmJiAhZ2xvYmFsLl9fUkNUUHJvZmlsZUlzUHJvZmlsaW5nKSB7XG4gIFN0eWxlU2hlZXRWYWxpZGF0aW9uLmFkZFZhbGlkU3R5bGVQcm9wVHlwZXMoRGVwcmVjYXRlZEltYWdlU3R5bGVQcm9wVHlwZXMpO1xuICBTdHlsZVNoZWV0VmFsaWRhdGlvbi5hZGRWYWxpZFN0eWxlUHJvcFR5cGVzKERlcHJlY2F0ZWRUZXh0U3R5bGVQcm9wVHlwZXMpO1xuICBTdHlsZVNoZWV0VmFsaWRhdGlvbi5hZGRWYWxpZFN0eWxlUHJvcFR5cGVzKERlcHJlY2F0ZWRWaWV3U3R5bGVQcm9wVHlwZXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFN0eWxlU2hlZXRWYWxpZGF0aW9uO1xuIl19