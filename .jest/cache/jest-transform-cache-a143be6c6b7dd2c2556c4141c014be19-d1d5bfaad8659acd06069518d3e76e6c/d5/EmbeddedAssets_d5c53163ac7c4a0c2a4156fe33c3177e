76804575058a5a299d7bc0de6337910e
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getEmbeddedAssetUri = getEmbeddedAssetUri;

var _expoConstants = _interopRequireDefault(require("expo-constants"));

var FileSystem = _interopRequireWildcard(require("expo-file-system"));

var _PlatformUtils = require("./PlatformUtils");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var bundledAssets = new Set(FileSystem.bundledAssets || []);
var localAssets = (0, _PlatformUtils.getLocalAssets)();

function getEmbeddedAssetUri(hash, type) {
  var _localAssets$localAss;

  var localAssetsKey = hash + "." + (type != null ? type : '');

  if (!localAssets.hasOwnProperty(localAssetsKey) && !__DEV__) {
    var assetName = "asset_" + hash + (type ? "." + type : '');

    if (_expoConstants.default.appOwnership !== 'standalone' || !bundledAssets.has(assetName)) {
      return null;
    }

    return "" + FileSystem.bundleDirectory + assetName;
  }

  return (_localAssets$localAss = localAssets[localAssetsKey]) != null ? _localAssets$localAss : null;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9FbWJlZGRlZEFzc2V0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBRUE7Ozs7OztBQUdBLElBQU0sYUFBYSxHQUFHLElBQUksR0FBSixDQUFRLFVBQVUsQ0FBQyxhQUFYLElBQTRCLEVBQXBDLENBQXRCO0FBR0EsSUFBTSxXQUFXLEdBQUcsb0NBQXBCOztBQU1NLFNBQVUsbUJBQVYsQ0FBOEIsSUFBOUIsRUFBNEMsSUFBNUMsRUFBK0Q7QUFBQTs7QUFDbkUsTUFBTSxjQUFjLEdBQU0sSUFBTixVQUFjLElBQWQsV0FBYyxJQUFkLEdBQXNCLEVBQXRCLENBQXBCOztBQUNBLE1BQUksQ0FBQyxXQUFXLENBQUMsY0FBWixDQUEyQixjQUEzQixDQUFELElBQStDLENBQUMsT0FBcEQsRUFBNkQ7QUFHM0QsUUFBTSxTQUFTLGNBQVksSUFBWixJQUFtQixJQUFJLFNBQU8sSUFBUCxHQUFnQixFQUF2QyxDQUFmOztBQUNBLFFBQUksdUJBQVUsWUFBVixLQUEyQixZQUEzQixJQUEyQyxDQUFDLGFBQWEsQ0FBQyxHQUFkLENBQWtCLFNBQWxCLENBQWhELEVBQThFO0FBQzVFLGFBQU8sSUFBUDtBQUNEOztBQUNELGdCQUFVLFVBQVUsQ0FBQyxlQUFyQixHQUF1QyxTQUF2QztBQUNEOztBQUNELGtDQUFPLFdBQVcsQ0FBQyxjQUFELENBQWxCLG9DQUFzQyxJQUF0QztBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbnN0YW50cyBmcm9tICdleHBvLWNvbnN0YW50cyc7XG5pbXBvcnQgKiBhcyBGaWxlU3lzdGVtIGZyb20gJ2V4cG8tZmlsZS1zeXN0ZW0nO1xuXG5pbXBvcnQgeyBnZXRMb2NhbEFzc2V0cyB9IGZyb20gJy4vUGxhdGZvcm1VdGlscyc7XG5cbi8vIEZhc3QgbG9va3VwIGNoZWNrIGlmIGFzc2V0cyBhcmUgYXZhaWxhYmxlIGluIHRoZSBsb2NhbCBidW5kbGUgaW4gbWFuYWdlZCBhcHBzXG5jb25zdCBidW5kbGVkQXNzZXRzID0gbmV3IFNldChGaWxlU3lzdGVtLmJ1bmRsZWRBc3NldHMgfHwgW10pO1xuXG4vLyBsb2NhbEFzc2V0cyBhcmUgcHJvdmlkZWQgYnkgdGhlIGV4cG8tdXBkYXRlcyBtb2R1bGVcbmNvbnN0IGxvY2FsQXNzZXRzID0gZ2V0TG9jYWxBc3NldHMoKTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBsb2NhbCBVUkkgb2YgYW4gZW1iZWRkZWQgYXNzZXQgZnJvbSBpdHMgaGFzaCBhbmQgdHlwZSwgb3IgbnVsbCBpZiB0aGUgYXNzZXQgaXMgbm90XG4gKiBpbmNsdWRlZCBpbiB0aGUgYXBwIGJ1bmRsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVtYmVkZGVkQXNzZXRVcmkoaGFzaDogc3RyaW5nLCB0eXBlOiBzdHJpbmcgfCBudWxsKTogc3RyaW5nIHwgbnVsbCB7XG4gIGNvbnN0IGxvY2FsQXNzZXRzS2V5ID0gYCR7aGFzaH0uJHt0eXBlID8/ICcnfWA7XG4gIGlmICghbG9jYWxBc3NldHMuaGFzT3duUHJvcGVydHkobG9jYWxBc3NldHNLZXkpICYmICFfX0RFVl9fKSB7XG4gICAgLy8gY2hlY2sgbGVnYWN5IGxvY2F0aW9uIGluIGNhc2Ugd2UncmUgaW4gRXhwbyBjbGllbnQvbWFuYWdlZCB3b3JrZmxvd1xuICAgIC8vIFRPRE8oZXJpYyk6IHJlbW92ZSB0aGlzIG9uY2UgYnVuZGxlZEFzc2V0cyBpcyBubyBsb25nZXIgZXhwb3J0ZWQgZnJvbSBGaWxlU3lzdGVtXG4gICAgY29uc3QgYXNzZXROYW1lID0gYGFzc2V0XyR7aGFzaH0ke3R5cGUgPyBgLiR7dHlwZX1gIDogJyd9YDtcbiAgICBpZiAoQ29uc3RhbnRzLmFwcE93bmVyc2hpcCAhPT0gJ3N0YW5kYWxvbmUnIHx8ICFidW5kbGVkQXNzZXRzLmhhcyhhc3NldE5hbWUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGAke0ZpbGVTeXN0ZW0uYnVuZGxlRGlyZWN0b3J5fSR7YXNzZXROYW1lfWA7XG4gIH1cbiAgcmV0dXJuIGxvY2FsQXNzZXRzW2xvY2FsQXNzZXRzS2V5XSA/PyBudWxsO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==