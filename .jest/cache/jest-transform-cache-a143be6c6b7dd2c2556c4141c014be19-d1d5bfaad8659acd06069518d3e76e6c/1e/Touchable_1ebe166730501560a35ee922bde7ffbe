36599f1ace6e4a724cec1210d35438d6
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var BoundingDimensions = require("./BoundingDimensions");

var Platform = require("../../Utilities/Platform");

var Position = require("./Position");

var React = require('react');

var ReactNative = require("../../Renderer/shims/ReactNative");

var StyleSheet = require("../../StyleSheet/StyleSheet");

var TVEventHandler = require("../AppleTV/TVEventHandler");

var UIManager = require("../../ReactNative/UIManager");

var View = require("../View/View");

var SoundManager = require("../Sound/SoundManager");

var keyMirror = require('fbjs/lib/keyMirror');

var normalizeColor = require("../../StyleSheet/normalizeColor");

var extractSingleTouch = function extractSingleTouch(nativeEvent) {
  var touches = nativeEvent.touches;
  var changedTouches = nativeEvent.changedTouches;
  var hasTouches = touches && touches.length > 0;
  var hasChangedTouches = changedTouches && changedTouches.length > 0;
  return !hasTouches && hasChangedTouches ? changedTouches[0] : hasTouches ? touches[0] : nativeEvent;
};

var States = keyMirror({
  NOT_RESPONDER: null,
  RESPONDER_INACTIVE_PRESS_IN: null,
  RESPONDER_INACTIVE_PRESS_OUT: null,
  RESPONDER_ACTIVE_PRESS_IN: null,
  RESPONDER_ACTIVE_PRESS_OUT: null,
  RESPONDER_ACTIVE_LONG_PRESS_IN: null,
  RESPONDER_ACTIVE_LONG_PRESS_OUT: null,
  ERROR: null
});
var baseStatesConditions = {
  NOT_RESPONDER: false,
  RESPONDER_INACTIVE_PRESS_IN: false,
  RESPONDER_INACTIVE_PRESS_OUT: false,
  RESPONDER_ACTIVE_PRESS_IN: false,
  RESPONDER_ACTIVE_PRESS_OUT: false,
  RESPONDER_ACTIVE_LONG_PRESS_IN: false,
  RESPONDER_ACTIVE_LONG_PRESS_OUT: false,
  ERROR: false
};

var IsActive = _objectSpread(_objectSpread({}, baseStatesConditions), {}, {
  RESPONDER_ACTIVE_PRESS_OUT: true,
  RESPONDER_ACTIVE_PRESS_IN: true
});

var IsPressingIn = _objectSpread(_objectSpread({}, baseStatesConditions), {}, {
  RESPONDER_INACTIVE_PRESS_IN: true,
  RESPONDER_ACTIVE_PRESS_IN: true,
  RESPONDER_ACTIVE_LONG_PRESS_IN: true
});

var IsLongPressingIn = _objectSpread(_objectSpread({}, baseStatesConditions), {}, {
  RESPONDER_ACTIVE_LONG_PRESS_IN: true
});

var Signals = keyMirror({
  DELAY: null,
  RESPONDER_GRANT: null,
  RESPONDER_RELEASE: null,
  RESPONDER_TERMINATED: null,
  ENTER_PRESS_RECT: null,
  LEAVE_PRESS_RECT: null,
  LONG_PRESS_DETECTED: null
});
var Transitions = {
  NOT_RESPONDER: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.RESPONDER_INACTIVE_PRESS_IN,
    RESPONDER_RELEASE: States.ERROR,
    RESPONDER_TERMINATED: States.ERROR,
    ENTER_PRESS_RECT: States.ERROR,
    LEAVE_PRESS_RECT: States.ERROR,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_INACTIVE_PRESS_IN: {
    DELAY: States.RESPONDER_ACTIVE_PRESS_IN,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_INACTIVE_PRESS_OUT: {
    DELAY: States.RESPONDER_ACTIVE_PRESS_OUT,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_ACTIVE_PRESS_IN: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.RESPONDER_ACTIVE_LONG_PRESS_IN
  },
  RESPONDER_ACTIVE_PRESS_OUT: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_ACTIVE_LONG_PRESS_IN: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_OUT,
    LONG_PRESS_DETECTED: States.RESPONDER_ACTIVE_LONG_PRESS_IN
  },
  RESPONDER_ACTIVE_LONG_PRESS_OUT: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  error: {
    DELAY: States.NOT_RESPONDER,
    RESPONDER_GRANT: States.RESPONDER_INACTIVE_PRESS_IN,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.NOT_RESPONDER,
    LEAVE_PRESS_RECT: States.NOT_RESPONDER,
    LONG_PRESS_DETECTED: States.NOT_RESPONDER
  }
};
var HIGHLIGHT_DELAY_MS = 130;
var PRESS_EXPAND_PX = 20;
var LONG_PRESS_THRESHOLD = 500;
var LONG_PRESS_DELAY_MS = LONG_PRESS_THRESHOLD - HIGHLIGHT_DELAY_MS;
var LONG_PRESS_ALLOWED_MOVEMENT = 10;
var TouchableMixin = {
  componentDidMount: function componentDidMount() {
    if (!Platform.isTV) {
      return;
    }

    this._tvEventHandler = new TVEventHandler();

    this._tvEventHandler.enable(this, function (cmp, evt) {
      var myTag = ReactNative.findNodeHandle(cmp);
      evt.dispatchConfig = {};

      if (myTag === evt.tag) {
        if (evt.eventType === 'focus') {
          cmp.touchableHandleFocus(evt);
        } else if (evt.eventType === 'blur') {
          cmp.touchableHandleBlur(evt);
        } else if (evt.eventType === 'select' && Platform.OS !== 'android') {
          cmp.touchableHandlePress && !cmp.props.disabled && cmp.touchableHandlePress(evt);
        }
      }
    });
  },
  componentWillUnmount: function componentWillUnmount() {
    if (this._tvEventHandler) {
      this._tvEventHandler.disable();

      delete this._tvEventHandler;
    }

    this.touchableDelayTimeout && clearTimeout(this.touchableDelayTimeout);
    this.longPressDelayTimeout && clearTimeout(this.longPressDelayTimeout);
    this.pressOutDelayTimeout && clearTimeout(this.pressOutDelayTimeout);
  },
  touchableGetInitialState: function touchableGetInitialState() {
    return {
      touchable: {
        touchState: undefined,
        responderID: null
      }
    };
  },
  touchableHandleResponderTerminationRequest: function touchableHandleResponderTerminationRequest() {
    return !this.props.rejectResponderTermination;
  },
  touchableHandleStartShouldSetResponder: function touchableHandleStartShouldSetResponder() {
    return !this.props.disabled;
  },
  touchableLongPressCancelsPress: function touchableLongPressCancelsPress() {
    return true;
  },
  touchableHandleResponderGrant: function touchableHandleResponderGrant(e) {
    var dispatchID = e.currentTarget;
    e.persist();
    this.pressOutDelayTimeout && clearTimeout(this.pressOutDelayTimeout);
    this.pressOutDelayTimeout = null;
    this.state.touchable.touchState = States.NOT_RESPONDER;
    this.state.touchable.responderID = dispatchID;

    this._receiveSignal(Signals.RESPONDER_GRANT, e);

    var delayMS = this.touchableGetHighlightDelayMS !== undefined ? Math.max(this.touchableGetHighlightDelayMS(), 0) : HIGHLIGHT_DELAY_MS;
    delayMS = isNaN(delayMS) ? HIGHLIGHT_DELAY_MS : delayMS;

    if (delayMS !== 0) {
      this.touchableDelayTimeout = setTimeout(this._handleDelay.bind(this, e), delayMS);
    } else {
      this._handleDelay(e);
    }

    var longDelayMS = this.touchableGetLongPressDelayMS !== undefined ? Math.max(this.touchableGetLongPressDelayMS(), 10) : LONG_PRESS_DELAY_MS;
    longDelayMS = isNaN(longDelayMS) ? LONG_PRESS_DELAY_MS : longDelayMS;
    this.longPressDelayTimeout = setTimeout(this._handleLongDelay.bind(this, e), longDelayMS + delayMS);
  },
  touchableHandleResponderRelease: function touchableHandleResponderRelease(e) {
    this.pressInLocation = null;

    this._receiveSignal(Signals.RESPONDER_RELEASE, e);
  },
  touchableHandleResponderTerminate: function touchableHandleResponderTerminate(e) {
    this.pressInLocation = null;

    this._receiveSignal(Signals.RESPONDER_TERMINATED, e);
  },
  touchableHandleResponderMove: function touchableHandleResponderMove(e) {
    if (!this.state.touchable.positionOnActivate) {
      return;
    }

    var positionOnActivate = this.state.touchable.positionOnActivate;
    var dimensionsOnActivate = this.state.touchable.dimensionsOnActivate;
    var pressRectOffset = this.touchableGetPressRectOffset ? this.touchableGetPressRectOffset() : {
      left: PRESS_EXPAND_PX,
      right: PRESS_EXPAND_PX,
      top: PRESS_EXPAND_PX,
      bottom: PRESS_EXPAND_PX
    };
    var pressExpandLeft = pressRectOffset.left;
    var pressExpandTop = pressRectOffset.top;
    var pressExpandRight = pressRectOffset.right;
    var pressExpandBottom = pressRectOffset.bottom;
    var hitSlop = this.touchableGetHitSlop ? this.touchableGetHitSlop() : null;

    if (hitSlop) {
      pressExpandLeft += hitSlop.left || 0;
      pressExpandTop += hitSlop.top || 0;
      pressExpandRight += hitSlop.right || 0;
      pressExpandBottom += hitSlop.bottom || 0;
    }

    var touch = extractSingleTouch(e.nativeEvent);
    var pageX = touch && touch.pageX;
    var pageY = touch && touch.pageY;

    if (this.pressInLocation) {
      var movedDistance = this._getDistanceBetweenPoints(pageX, pageY, this.pressInLocation.pageX, this.pressInLocation.pageY);

      if (movedDistance > LONG_PRESS_ALLOWED_MOVEMENT) {
        this._cancelLongPressDelayTimeout();
      }
    }

    var isTouchWithinActive = pageX > positionOnActivate.left - pressExpandLeft && pageY > positionOnActivate.top - pressExpandTop && pageX < positionOnActivate.left + dimensionsOnActivate.width + pressExpandRight && pageY < positionOnActivate.top + dimensionsOnActivate.height + pressExpandBottom;

    if (isTouchWithinActive) {
      var prevState = this.state.touchable.touchState;

      this._receiveSignal(Signals.ENTER_PRESS_RECT, e);

      var curState = this.state.touchable.touchState;

      if (curState === States.RESPONDER_INACTIVE_PRESS_IN && prevState !== States.RESPONDER_INACTIVE_PRESS_IN) {
        this._cancelLongPressDelayTimeout();
      }
    } else {
      this._cancelLongPressDelayTimeout();

      this._receiveSignal(Signals.LEAVE_PRESS_RECT, e);
    }
  },
  touchableHandleFocus: function touchableHandleFocus(e) {
    this.props.onFocus && this.props.onFocus(e);
  },
  touchableHandleBlur: function touchableHandleBlur(e) {
    this.props.onBlur && this.props.onBlur(e);
  },
  _remeasureMetricsOnActivation: function _remeasureMetricsOnActivation() {
    var responderID = this.state.touchable.responderID;

    if (responderID == null) {
      return;
    }

    if (typeof responderID === 'number') {
      UIManager.measure(responderID, this._handleQueryLayout);
    } else {
      responderID.measure(this._handleQueryLayout);
    }
  },
  _handleQueryLayout: function _handleQueryLayout(l, t, w, h, globalX, globalY) {
    if (!l && !t && !w && !h && !globalX && !globalY) {
      return;
    }

    this.state.touchable.positionOnActivate && Position.release(this.state.touchable.positionOnActivate);
    this.state.touchable.dimensionsOnActivate && BoundingDimensions.release(this.state.touchable.dimensionsOnActivate);
    this.state.touchable.positionOnActivate = Position.getPooled(globalX, globalY);
    this.state.touchable.dimensionsOnActivate = BoundingDimensions.getPooled(w, h);
  },
  _handleDelay: function _handleDelay(e) {
    this.touchableDelayTimeout = null;

    this._receiveSignal(Signals.DELAY, e);
  },
  _handleLongDelay: function _handleLongDelay(e) {
    this.longPressDelayTimeout = null;
    var curState = this.state.touchable.touchState;

    if (curState === States.RESPONDER_ACTIVE_PRESS_IN || curState === States.RESPONDER_ACTIVE_LONG_PRESS_IN) {
      this._receiveSignal(Signals.LONG_PRESS_DETECTED, e);
    }
  },
  _receiveSignal: function _receiveSignal(signal, e) {
    var responderID = this.state.touchable.responderID;
    var curState = this.state.touchable.touchState;
    var nextState = Transitions[curState] && Transitions[curState][signal];

    if (!responderID && signal === Signals.RESPONDER_RELEASE) {
      return;
    }

    if (!nextState) {
      throw new Error('Unrecognized signal `' + signal + '` or state `' + curState + '` for Touchable responder `' + typeof this.state.touchable.responderID === 'number' ? this.state.touchable.responderID : 'host component' + '`');
    }

    if (nextState === States.ERROR) {
      throw new Error('Touchable cannot transition from `' + curState + '` to `' + signal + '` for responder `' + typeof this.state.touchable.responderID === 'number' ? this.state.touchable.responderID : '<<host component>>' + '`');
    }

    if (curState !== nextState) {
      this._performSideEffectsForTransition(curState, nextState, signal, e);

      this.state.touchable.touchState = nextState;
    }
  },
  _cancelLongPressDelayTimeout: function _cancelLongPressDelayTimeout() {
    this.longPressDelayTimeout && clearTimeout(this.longPressDelayTimeout);
    this.longPressDelayTimeout = null;
  },
  _isHighlight: function _isHighlight(state) {
    return state === States.RESPONDER_ACTIVE_PRESS_IN || state === States.RESPONDER_ACTIVE_LONG_PRESS_IN;
  },
  _savePressInLocation: function _savePressInLocation(e) {
    var touch = extractSingleTouch(e.nativeEvent);
    var pageX = touch && touch.pageX;
    var pageY = touch && touch.pageY;
    var locationX = touch && touch.locationX;
    var locationY = touch && touch.locationY;
    this.pressInLocation = {
      pageX: pageX,
      pageY: pageY,
      locationX: locationX,
      locationY: locationY
    };
  },
  _getDistanceBetweenPoints: function _getDistanceBetweenPoints(aX, aY, bX, bY) {
    var deltaX = aX - bX;
    var deltaY = aY - bY;
    return Math.sqrt(deltaX * deltaX + deltaY * deltaY);
  },
  _performSideEffectsForTransition: function _performSideEffectsForTransition(curState, nextState, signal, e) {
    var curIsHighlight = this._isHighlight(curState);

    var newIsHighlight = this._isHighlight(nextState);

    var isFinalSignal = signal === Signals.RESPONDER_TERMINATED || signal === Signals.RESPONDER_RELEASE;

    if (isFinalSignal) {
      this._cancelLongPressDelayTimeout();
    }

    var isInitialTransition = curState === States.NOT_RESPONDER && nextState === States.RESPONDER_INACTIVE_PRESS_IN;
    var isActiveTransition = !IsActive[curState] && IsActive[nextState];

    if (isInitialTransition || isActiveTransition) {
      this._remeasureMetricsOnActivation();
    }

    if (IsPressingIn[curState] && signal === Signals.LONG_PRESS_DETECTED) {
      this.touchableHandleLongPress && this.touchableHandleLongPress(e);
    }

    if (newIsHighlight && !curIsHighlight) {
      this._startHighlight(e);
    } else if (!newIsHighlight && curIsHighlight) {
      this._endHighlight(e);
    }

    if (IsPressingIn[curState] && signal === Signals.RESPONDER_RELEASE) {
      var hasLongPressHandler = !!this.props.onLongPress;
      var pressIsLongButStillCallOnPress = IsLongPressingIn[curState] && (!hasLongPressHandler || !this.touchableLongPressCancelsPress());
      var shouldInvokePress = !IsLongPressingIn[curState] || pressIsLongButStillCallOnPress;

      if (shouldInvokePress && this.touchableHandlePress) {
        if (!newIsHighlight && !curIsHighlight) {
          this._startHighlight(e);

          this._endHighlight(e);
        }

        if (Platform.OS === 'android' && !this.props.touchSoundDisabled) {
          SoundManager.playTouchSound();
        }

        this.touchableHandlePress(e);
      }
    }

    this.touchableDelayTimeout && clearTimeout(this.touchableDelayTimeout);
    this.touchableDelayTimeout = null;
  },
  _startHighlight: function _startHighlight(e) {
    this._savePressInLocation(e);

    this.touchableHandleActivePressIn && this.touchableHandleActivePressIn(e);
  },
  _endHighlight: function _endHighlight(e) {
    var _this = this;

    if (this.touchableHandleActivePressOut) {
      if (this.touchableGetPressOutDelayMS && this.touchableGetPressOutDelayMS()) {
        this.pressOutDelayTimeout = setTimeout(function () {
          _this.touchableHandleActivePressOut(e);
        }, this.touchableGetPressOutDelayMS());
      } else {
        this.touchableHandleActivePressOut(e);
      }
    }
  },
  withoutDefaultFocusAndBlur: {}
};
var touchableHandleFocus = TouchableMixin.touchableHandleFocus,
    touchableHandleBlur = TouchableMixin.touchableHandleBlur,
    TouchableMixinWithoutDefaultFocusAndBlur = (0, _objectWithoutProperties2.default)(TouchableMixin, ["touchableHandleFocus", "touchableHandleBlur"]);
TouchableMixin.withoutDefaultFocusAndBlur = TouchableMixinWithoutDefaultFocusAndBlur;
var Touchable = {
  Mixin: TouchableMixin,
  TOUCH_TARGET_DEBUG: false,
  renderDebugView: function renderDebugView(_ref) {
    var color = _ref.color,
        hitSlop = _ref.hitSlop;

    if (!Touchable.TOUCH_TARGET_DEBUG) {
      return null;
    }

    if (!__DEV__) {
      throw Error('Touchable.TOUCH_TARGET_DEBUG should not be enabled in prod!');
    }

    var debugHitSlopStyle = {};
    hitSlop = hitSlop || {
      top: 0,
      bottom: 0,
      left: 0,
      right: 0
    };

    for (var key in hitSlop) {
      debugHitSlopStyle[key] = -hitSlop[key];
    }

    var normalizedColor = normalizeColor(color);

    if (typeof normalizedColor !== 'number') {
      return null;
    }

    var hexColor = '#' + ('00000000' + normalizedColor.toString(16)).substr(-8);
    return React.createElement(View, {
      pointerEvents: "none",
      style: [styles.debug, _objectSpread({
        borderColor: hexColor.slice(0, -2) + '55',
        backgroundColor: hexColor.slice(0, -2) + '0F'
      }, debugHitSlopStyle)]
    });
  }
};
var styles = StyleSheet.create({
  debug: {
    position: 'absolute',
    borderWidth: 1,
    borderStyle: 'dashed'
  }
});
module.exports = Touchable;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRvdWNoYWJsZS5qcyJdLCJuYW1lcyI6WyJCb3VuZGluZ0RpbWVuc2lvbnMiLCJyZXF1aXJlIiwiUGxhdGZvcm0iLCJQb3NpdGlvbiIsIlJlYWN0IiwiUmVhY3ROYXRpdmUiLCJTdHlsZVNoZWV0IiwiVFZFdmVudEhhbmRsZXIiLCJVSU1hbmFnZXIiLCJWaWV3IiwiU291bmRNYW5hZ2VyIiwia2V5TWlycm9yIiwibm9ybWFsaXplQ29sb3IiLCJleHRyYWN0U2luZ2xlVG91Y2giLCJuYXRpdmVFdmVudCIsInRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsImhhc1RvdWNoZXMiLCJsZW5ndGgiLCJoYXNDaGFuZ2VkVG91Y2hlcyIsIlN0YXRlcyIsIk5PVF9SRVNQT05ERVIiLCJSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU4iLCJSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VUIiwiUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTiIsIlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VUIiwiUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOIiwiUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVCIsIkVSUk9SIiwiYmFzZVN0YXRlc0NvbmRpdGlvbnMiLCJJc0FjdGl2ZSIsIklzUHJlc3NpbmdJbiIsIklzTG9uZ1ByZXNzaW5nSW4iLCJTaWduYWxzIiwiREVMQVkiLCJSRVNQT05ERVJfR1JBTlQiLCJSRVNQT05ERVJfUkVMRUFTRSIsIlJFU1BPTkRFUl9URVJNSU5BVEVEIiwiRU5URVJfUFJFU1NfUkVDVCIsIkxFQVZFX1BSRVNTX1JFQ1QiLCJMT05HX1BSRVNTX0RFVEVDVEVEIiwiVHJhbnNpdGlvbnMiLCJlcnJvciIsIkhJR0hMSUdIVF9ERUxBWV9NUyIsIlBSRVNTX0VYUEFORF9QWCIsIkxPTkdfUFJFU1NfVEhSRVNIT0xEIiwiTE9OR19QUkVTU19ERUxBWV9NUyIsIkxPTkdfUFJFU1NfQUxMT1dFRF9NT1ZFTUVOVCIsIlRvdWNoYWJsZU1peGluIiwiY29tcG9uZW50RGlkTW91bnQiLCJpc1RWIiwiX3R2RXZlbnRIYW5kbGVyIiwiZW5hYmxlIiwiY21wIiwiZXZ0IiwibXlUYWciLCJmaW5kTm9kZUhhbmRsZSIsImRpc3BhdGNoQ29uZmlnIiwidGFnIiwiZXZlbnRUeXBlIiwidG91Y2hhYmxlSGFuZGxlRm9jdXMiLCJ0b3VjaGFibGVIYW5kbGVCbHVyIiwiT1MiLCJ0b3VjaGFibGVIYW5kbGVQcmVzcyIsInByb3BzIiwiZGlzYWJsZWQiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImRpc2FibGUiLCJ0b3VjaGFibGVEZWxheVRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJsb25nUHJlc3NEZWxheVRpbWVvdXQiLCJwcmVzc091dERlbGF5VGltZW91dCIsInRvdWNoYWJsZUdldEluaXRpYWxTdGF0ZSIsInRvdWNoYWJsZSIsInRvdWNoU3RhdGUiLCJ1bmRlZmluZWQiLCJyZXNwb25kZXJJRCIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsInJlamVjdFJlc3BvbmRlclRlcm1pbmF0aW9uIiwidG91Y2hhYmxlSGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJ0b3VjaGFibGVMb25nUHJlc3NDYW5jZWxzUHJlc3MiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJHcmFudCIsImUiLCJkaXNwYXRjaElEIiwiY3VycmVudFRhcmdldCIsInBlcnNpc3QiLCJzdGF0ZSIsIl9yZWNlaXZlU2lnbmFsIiwiZGVsYXlNUyIsInRvdWNoYWJsZUdldEhpZ2hsaWdodERlbGF5TVMiLCJNYXRoIiwibWF4IiwiaXNOYU4iLCJzZXRUaW1lb3V0IiwiX2hhbmRsZURlbGF5IiwiYmluZCIsImxvbmdEZWxheU1TIiwidG91Y2hhYmxlR2V0TG9uZ1ByZXNzRGVsYXlNUyIsIl9oYW5kbGVMb25nRGVsYXkiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJSZWxlYXNlIiwicHJlc3NJbkxvY2F0aW9uIiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRlIiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyTW92ZSIsInBvc2l0aW9uT25BY3RpdmF0ZSIsImRpbWVuc2lvbnNPbkFjdGl2YXRlIiwicHJlc3NSZWN0T2Zmc2V0IiwidG91Y2hhYmxlR2V0UHJlc3NSZWN0T2Zmc2V0IiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwicHJlc3NFeHBhbmRMZWZ0IiwicHJlc3NFeHBhbmRUb3AiLCJwcmVzc0V4cGFuZFJpZ2h0IiwicHJlc3NFeHBhbmRCb3R0b20iLCJoaXRTbG9wIiwidG91Y2hhYmxlR2V0SGl0U2xvcCIsInRvdWNoIiwicGFnZVgiLCJwYWdlWSIsIm1vdmVkRGlzdGFuY2UiLCJfZ2V0RGlzdGFuY2VCZXR3ZWVuUG9pbnRzIiwiX2NhbmNlbExvbmdQcmVzc0RlbGF5VGltZW91dCIsImlzVG91Y2hXaXRoaW5BY3RpdmUiLCJ3aWR0aCIsImhlaWdodCIsInByZXZTdGF0ZSIsImN1clN0YXRlIiwib25Gb2N1cyIsIm9uQmx1ciIsIl9yZW1lYXN1cmVNZXRyaWNzT25BY3RpdmF0aW9uIiwibWVhc3VyZSIsIl9oYW5kbGVRdWVyeUxheW91dCIsImwiLCJ0IiwidyIsImgiLCJnbG9iYWxYIiwiZ2xvYmFsWSIsInJlbGVhc2UiLCJnZXRQb29sZWQiLCJzaWduYWwiLCJuZXh0U3RhdGUiLCJFcnJvciIsIl9wZXJmb3JtU2lkZUVmZmVjdHNGb3JUcmFuc2l0aW9uIiwiX2lzSGlnaGxpZ2h0IiwiX3NhdmVQcmVzc0luTG9jYXRpb24iLCJsb2NhdGlvblgiLCJsb2NhdGlvblkiLCJhWCIsImFZIiwiYlgiLCJiWSIsImRlbHRhWCIsImRlbHRhWSIsInNxcnQiLCJjdXJJc0hpZ2hsaWdodCIsIm5ld0lzSGlnaGxpZ2h0IiwiaXNGaW5hbFNpZ25hbCIsImlzSW5pdGlhbFRyYW5zaXRpb24iLCJpc0FjdGl2ZVRyYW5zaXRpb24iLCJ0b3VjaGFibGVIYW5kbGVMb25nUHJlc3MiLCJfc3RhcnRIaWdobGlnaHQiLCJfZW5kSGlnaGxpZ2h0IiwiaGFzTG9uZ1ByZXNzSGFuZGxlciIsIm9uTG9uZ1ByZXNzIiwicHJlc3NJc0xvbmdCdXRTdGlsbENhbGxPblByZXNzIiwic2hvdWxkSW52b2tlUHJlc3MiLCJ0b3VjaFNvdW5kRGlzYWJsZWQiLCJwbGF5VG91Y2hTb3VuZCIsInRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW4iLCJ0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc091dCIsInRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUyIsIndpdGhvdXREZWZhdWx0Rm9jdXNBbmRCbHVyIiwiVG91Y2hhYmxlTWl4aW5XaXRob3V0RGVmYXVsdEZvY3VzQW5kQmx1ciIsIlRvdWNoYWJsZSIsIk1peGluIiwiVE9VQ0hfVEFSR0VUX0RFQlVHIiwicmVuZGVyRGVidWdWaWV3IiwiY29sb3IiLCJfX0RFVl9fIiwiZGVidWdIaXRTbG9wU3R5bGUiLCJrZXkiLCJub3JtYWxpemVkQ29sb3IiLCJoZXhDb2xvciIsInRvU3RyaW5nIiwic3Vic3RyIiwic3R5bGVzIiwiZGVidWciLCJib3JkZXJDb2xvciIsInNsaWNlIiwiYmFja2dyb3VuZENvbG9yIiwiY3JlYXRlIiwicG9zaXRpb24iLCJib3JkZXJXaWR0aCIsImJvcmRlclN0eWxlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBVUE7Ozs7Ozs7Ozs7OztBQUVBLElBQU1BLGtCQUFrQixHQUFHQyxPQUFPLHdCQUFsQzs7QUFDQSxJQUFNQyxRQUFRLEdBQUdELE9BQU8sNEJBQXhCOztBQUNBLElBQU1FLFFBQVEsR0FBR0YsT0FBTyxjQUF4Qjs7QUFDQSxJQUFNRyxLQUFLLEdBQUdILE9BQU8sQ0FBQyxPQUFELENBQXJCOztBQUNBLElBQU1JLFdBQVcsR0FBR0osT0FBTyxvQ0FBM0I7O0FBQ0EsSUFBTUssVUFBVSxHQUFHTCxPQUFPLCtCQUExQjs7QUFDQSxJQUFNTSxjQUFjLEdBQUdOLE9BQU8sNkJBQTlCOztBQUNBLElBQU1PLFNBQVMsR0FBR1AsT0FBTywrQkFBekI7O0FBQ0EsSUFBTVEsSUFBSSxH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USxDQUFDTSxLQUFULENBQWUsQ0FBZixFQUFrQixDQUFDLENBQW5CLElBQXdCO0FBUHRDLFNBUUFULGlCQVJBO0FBRlQsTUFERjtBQWdCRDtBQWpEZSxDQUFsQjtBQW9EQSxJQUFNTSxNQUFNLEdBQUdyTCxVQUFVLENBQUMwTCxNQUFYLENBQWtCO0FBQy9CSixFQUFBQSxLQUFLLEVBQUU7QUFDTEssSUFBQUEsUUFBUSxFQUFFLFVBREw7QUFFTEMsSUFBQUEsV0FBVyxFQUFFLENBRlI7QUFHTEMsSUFBQUEsV0FBVyxFQUFFO0FBSFI7QUFEd0IsQ0FBbEIsQ0FBZjtBQVFBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJ0QixTQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IEJvdW5kaW5nRGltZW5zaW9ucyA9IHJlcXVpcmUoJy4vQm91bmRpbmdEaW1lbnNpb25zJyk7XG5jb25zdCBQbGF0Zm9ybSA9IHJlcXVpcmUoJy4uLy4uL1V0aWxpdGllcy9QbGF0Zm9ybScpO1xuY29uc3QgUG9zaXRpb24gPSByZXF1aXJlKCcuL1Bvc2l0aW9uJyk7XG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCBSZWFjdE5hdGl2ZSA9IHJlcXVpcmUoJy4uLy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlJyk7XG5jb25zdCBTdHlsZVNoZWV0ID0gcmVxdWlyZSgnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0Jyk7XG5jb25zdCBUVkV2ZW50SGFuZGxlciA9IHJlcXVpcmUoJy4uL0FwcGxlVFYvVFZFdmVudEhhbmRsZXInKTtcbmNvbnN0IFVJTWFuYWdlciA9IHJlcXVpcmUoJy4uLy4uL1JlYWN0TmF0aXZlL1VJTWFuYWdlcicpO1xuY29uc3QgVmlldyA9IHJlcXVpcmUoJy4uL1ZpZXcvVmlldycpO1xuY29uc3QgU291bmRNYW5hZ2VyID0gcmVxdWlyZSgnLi4vU291bmQvU291bmRNYW5hZ2VyJyk7XG5cbmNvbnN0IGtleU1pcnJvciA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU1pcnJvcicpO1xuY29uc3Qgbm9ybWFsaXplQ29sb3IgPSByZXF1aXJlKCcuLi8uLi9TdHlsZVNoZWV0L25vcm1hbGl6ZUNvbG9yJyk7XG5cbmltcG9ydCB0eXBlIHtFZGdlSW5zZXRzUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9FZGdlSW5zZXRzUHJvcFR5cGUnO1xuaW1wb3J0IHR5cGUge1ByZXNzRXZlbnR9IGZyb20gJy4uLy4uL1R5cGVzL0NvcmVFdmVudFR5cGVzJztcblxuY29uc3QgZXh0cmFjdFNpbmdsZVRvdWNoID0gbmF0aXZlRXZlbnQgPT4ge1xuICBjb25zdCB0b3VjaGVzID0gbmF0aXZlRXZlbnQudG91Y2hlcztcbiAgY29uc3QgY2hhbmdlZFRvdWNoZXMgPSBuYXRpdmVFdmVudC5jaGFuZ2VkVG91Y2hlcztcbiAgY29uc3QgaGFzVG91Y2hlcyA9IHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPiAwO1xuICBjb25zdCBoYXNDaGFuZ2VkVG91Y2hlcyA9IGNoYW5nZWRUb3VjaGVzICYmIGNoYW5nZWRUb3VjaGVzLmxlbmd0aCA+IDA7XG5cbiAgcmV0dXJuICFoYXNUb3VjaGVzICYmIGhhc0NoYW5nZWRUb3VjaGVzXG4gICAgPyBjaGFuZ2VkVG91Y2hlc1swXVxuICAgIDogaGFzVG91Y2hlc1xuICAgID8gdG91Y2hlc1swXVxuICAgIDogbmF0aXZlRXZlbnQ7XG59O1xuXG4vKipcbiAqIGBUb3VjaGFibGVgOiBUYXBzIGRvbmUgcmlnaHQuXG4gKlxuICogWW91IGhvb2sgeW91ciBgUmVzcG9uZGVyRXZlbnRQbHVnaW5gIGV2ZW50cyBpbnRvIGBUb3VjaGFibGVgLiBgVG91Y2hhYmxlYFxuICogd2lsbCBtZWFzdXJlIHRpbWUvZ2VvbWV0cnkgYW5kIHRlbGxzIHlvdSB3aGVuIHRvIGdpdmUgZmVlZGJhY2sgdG8gdGhlIHVzZXIuXG4gKlxuICogPT09PT09PT09PT09PT09PT09PT09PSBUb3VjaGFibGUgVHV0b3JpYWwgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogVGhlIGBUb3VjaGFibGVgIG1peGluIGhlbHBzIHlvdSBoYW5kbGUgdGhlIFwicHJlc3NcIiBpbnRlcmFjdGlvbi4gSXQgYW5hbHl6ZXNcbiAqIHRoZSBnZW9tZXRyeSBvZiBlbGVtZW50cywgYW5kIG9ic2VydmVzIHdoZW4gYW5vdGhlciByZXNwb25kZXIgKHNjcm9sbCB2aWV3XG4gKiBldGMpIGhhcyBzdG9sZW4gdGhlIHRvdWNoIGxvY2suIEl0IG5vdGlmaWVzIHlvdXIgY29tcG9uZW50IHdoZW4gaXQgc2hvdWxkXG4gKiBnaXZlIGZlZWRiYWNrIHRvIHRoZSB1c2VyLiAoYm91bmNpbmcvaGlnaGxpZ2h0aW5nL3VuaGlnaGxpZ2h0aW5nKS5cbiAqXG4gKiAtIFdoZW4gYSB0b3VjaCB3YXMgYWN0aXZhdGVkICh0eXBpY2FsbHkgeW91IGhpZ2hsaWdodClcbiAqIC0gV2hlbiBhIHRvdWNoIHdhcyBkZWFjdGl2YXRlZCAodHlwaWNhbGx5IHlvdSB1bmhpZ2hsaWdodClcbiAqIC0gV2hlbiBhIHRvdWNoIHdhcyBcInByZXNzZWRcIiAtIGEgdG91Y2ggZW5kZWQgd2hpbGUgc3RpbGwgd2l0aGluIHRoZSBnZW9tZXRyeVxuICogICBvZiB0aGUgZWxlbWVudCwgYW5kIG5vIG90aGVyIGVsZW1lbnQgKGxpa2Ugc2Nyb2xsZXIpIGhhcyBcInN0b2xlblwiIHRvdWNoXG4gKiAgIGxvY2sgKFwicmVzcG9uZGVyXCIpIChUeXBpY2FsbHkgeW91IGJvdW5jZSB0aGUgZWxlbWVudCkuXG4gKlxuICogQSBnb29kIHRhcCBpbnRlcmFjdGlvbiBpc24ndCBhcyBzaW1wbGUgYXMgeW91IG1pZ2h0IHRoaW5rLiBUaGVyZSBzaG91bGQgYmUgYVxuICogc2xpZ2h0IGRlbGF5IGJlZm9yZSBzaG93aW5nIGEgaGlnaGxpZ2h0IHdoZW4gc3RhcnRpbmcgYSB0b3VjaC4gSWYgYVxuICogc3Vic2VxdWVudCB0b3VjaCBtb3ZlIGV4Y2VlZHMgdGhlIGJvdW5kYXJ5IG9mIHRoZSBlbGVtZW50LCBpdCBzaG91bGRcbiAqIHVuaGlnaGxpZ2h0LCBidXQgaWYgdGhhdCBzYW1lIHRvdWNoIGlzIGJyb3VnaHQgYmFjayB3aXRoaW4gdGhlIGJvdW5kYXJ5LCBpdFxuICogc2hvdWxkIHJlaGlnaGxpZ2h0IGFnYWluLiBBIHRvdWNoIGNhbiBtb3ZlIGluIGFuZCBvdXQgb2YgdGhhdCBib3VuZGFyeVxuICogc2V2ZXJhbCB0aW1lcywgZWFjaCB0aW1lIHRvZ2dsaW5nIGhpZ2hsaWdodGluZywgYnV0IGEgXCJwcmVzc1wiIGlzIG9ubHlcbiAqIHRyaWdnZXJlZCBpZiB0aGF0IHRvdWNoIGVuZHMgd2hpbGUgd2l0aGluIHRoZSBlbGVtZW50J3MgYm91bmRhcnkgYW5kIG5vXG4gKiBzY3JvbGxlciAob3IgYW55dGhpbmcgZWxzZSkgaGFzIHN0b2xlbiB0aGUgbG9jayBvbiB0b3VjaGVzLlxuICpcbiAqIFRvIGNyZWF0ZSBhIG5ldyB0eXBlIG9mIGNvbXBvbmVudCB0aGF0IGhhbmRsZXMgaW50ZXJhY3Rpb24gdXNpbmcgdGhlXG4gKiBgVG91Y2hhYmxlYCBtaXhpbiwgZG8gdGhlIGZvbGxvd2luZzpcbiAqXG4gKiAtIEluaXRpYWxpemUgdGhlIGBUb3VjaGFibGVgIHN0YXRlLlxuICpcbiAqICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAqICAgICByZXR1cm4gbWVyZ2UodGhpcy50b3VjaGFibGVHZXRJbml0aWFsU3RhdGUoKSwgeW91ckNvbXBvbmVudFN0YXRlKTtcbiAqICAgfVxuICpcbiAqIC0gQ2hvb3NlIHRoZSByZW5kZXJlZCBjb21wb25lbnQgd2hvJ3MgdG91Y2hlcyBzaG91bGQgc3RhcnQgdGhlIGludGVyYWN0aXZlXG4gKiAgIHNlcXVlbmNlLiBPbiB0aGF0IHJlbmRlcmVkIG5vZGUsIGZvcndhcmQgYWxsIGBUb3VjaGFibGVgIHJlc3BvbmRlclxuICogICBoYW5kbGVycy4gWW91IGNhbiBjaG9vc2UgYW55IHJlbmRlcmVkIG5vZGUgeW91IGxpa2UuIENob29zZSBhIG5vZGUgd2hvc2VcbiAqICAgaGl0IHRhcmdldCB5b3UnZCBsaWtlIHRvIGluc3RpZ2F0ZSB0aGUgaW50ZXJhY3Rpb24gc2VxdWVuY2U6XG4gKlxuICogICAvLyBJbiByZW5kZXIgZnVuY3Rpb246XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPFZpZXdcbiAqICAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXI9e3RoaXMudG91Y2hhYmxlSGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJ9XG4gKiAgICAgICBvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdD17dGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3R9XG4gKiAgICAgICBvblJlc3BvbmRlckdyYW50PXt0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlckdyYW50fVxuICogICAgICAgb25SZXNwb25kZXJNb3ZlPXt0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlck1vdmV9XG4gKiAgICAgICBvblJlc3BvbmRlclJlbGVhc2U9e3RoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyUmVsZWFzZX1cbiAqICAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRlPXt0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0ZX0+XG4gKiAgICAgICA8Vmlldz5cbiAqICAgICAgICAgRXZlbiB0aG91Z2ggdGhlIGhpdCBkZXRlY3Rpb24vaW50ZXJhY3Rpb25zIGFyZSB0cmlnZ2VyZWQgYnkgdGhlXG4gKiAgICAgICAgIHdyYXBwaW5nICh0eXBpY2FsbHkgbGFyZ2VyKSBub2RlLCB3ZSB1c3VhbGx5IGVuZCB1cCBpbXBsZW1lbnRpbmdcbiAqICAgICAgICAgY3VzdG9tIGxvZ2ljIHRoYXQgaGlnaGxpZ2h0cyB0aGlzIGlubmVyIG9uZS5cbiAqICAgICAgIDwvVmlldz5cbiAqICAgICA8L1ZpZXc+XG4gKiAgICk7XG4gKlxuICogLSBZb3UgbWF5IHNldCB1cCB5b3VyIG93biBoYW5kbGVycyBmb3IgZWFjaCBvZiB0aGVzZSBldmVudHMsIHNvIGxvbmcgYXMgeW91XG4gKiAgIGFsc28gaW52b2tlIHRoZSBgdG91Y2hhYmxlKmAgaGFuZGxlcnMgaW5zaWRlIG9mIHlvdXIgY3VzdG9tIGhhbmRsZXIuXG4gKlxuICogLSBJbXBsZW1lbnQgdGhlIGhhbmRsZXJzIG9uIHlvdXIgY29tcG9uZW50IGNsYXNzIGluIG9yZGVyIHRvIHByb3ZpZGVcbiAqICAgZmVlZGJhY2sgdG8gdGhlIHVzZXIuIFNlZSBkb2N1bWVudGF0aW9uIGZvciBlYWNoIG9mIHRoZXNlIGNsYXNzIG1ldGhvZHNcbiAqICAgdGhhdCB5b3Ugc2hvdWxkIGltcGxlbWVudC5cbiAqXG4gKiAgIHRvdWNoYWJsZUhhbmRsZVByZXNzOiBmdW5jdGlvbigpIHtcbiAqICAgICAgdGhpcy5wZXJmb3JtQm91bmNlQW5pbWF0aW9uKCk7ICAvLyBvciB3aGF0ZXZlciB5b3Ugd2FudCB0byBkby5cbiAqICAgfSxcbiAqICAgdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NJbjogZnVuY3Rpb24oKSB7XG4gKiAgICAgdGhpcy5iZWdpbkhpZ2hsaWdodGluZyguLi4pOyAgLy8gV2hhdGV2ZXIgeW91IGxpa2UgdG8gY29udmV5IGFjdGl2YXRpb25cbiAqICAgfSxcbiAqICAgdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQ6IGZ1bmN0aW9uKCkge1xuICogICAgIHRoaXMuZW5kSGlnaGxpZ2h0aW5nKC4uLik7ICAvLyBXaGF0ZXZlciB5b3UgbGlrZSB0byBjb252ZXkgZGVhY3RpdmF0aW9uXG4gKiAgIH0sXG4gKlxuICogLSBUaGVyZSBhcmUgbW9yZSBhZHZhbmNlZCBtZXRob2RzIHlvdSBjYW4gaW1wbGVtZW50IChzZWUgZG9jdW1lbnRhdGlvbiBiZWxvdyk6XG4gKiAgIHRvdWNoYWJsZUdldEhpZ2hsaWdodERlbGF5TVM6IGZ1bmN0aW9uKCkge1xuICogICAgIHJldHVybiAyMDtcbiAqICAgfVxuICogICAvLyBJbiBwcmFjdGljZSwgKmFsd2F5cyogdXNlIGEgcHJlZGVjbGFyZWQgY29uc3RhbnQgKGNvbnNlcnZlIG1lbW9yeSkuXG4gKiAgIHRvdWNoYWJsZUdldFByZXNzUmVjdE9mZnNldDogZnVuY3Rpb24oKSB7XG4gKiAgICAgcmV0dXJuIHt0b3A6IDIwLCBsZWZ0OiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDEwMH07XG4gKiAgIH1cbiAqL1xuXG4vKipcbiAqIFRvdWNoYWJsZSBzdGF0ZXMuXG4gKi9cblxuY29uc3QgU3RhdGVzID0ga2V5TWlycm9yKHtcbiAgTk9UX1JFU1BPTkRFUjogbnVsbCwgLy8gTm90IHRoZSByZXNwb25kZXJcbiAgUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOOiBudWxsLCAvLyBSZXNwb25kZXIsIGluYWN0aXZlLCBpbiB0aGUgYFByZXNzUmVjdGBcbiAgUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX09VVDogbnVsbCwgLy8gUmVzcG9uZGVyLCBpbmFjdGl2ZSwgb3V0IG9mIGBQcmVzc1JlY3RgXG4gIFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU46IG51bGwsIC8vIFJlc3BvbmRlciwgYWN0aXZlLCBpbiB0aGUgYFByZXNzUmVjdGBcbiAgUkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVQ6IG51bGwsIC8vIFJlc3BvbmRlciwgYWN0aXZlLCBvdXQgb2YgYFByZXNzUmVjdGBcbiAgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOOiBudWxsLCAvLyBSZXNwb25kZXIsIGFjdGl2ZSwgaW4gdGhlIGBQcmVzc1JlY3RgLCBhZnRlciBsb25nIHByZXNzIHRocmVzaG9sZFxuICBSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfT1VUOiBudWxsLCAvLyBSZXNwb25kZXIsIGFjdGl2ZSwgb3V0IG9mIGBQcmVzc1JlY3RgLCBhZnRlciBsb25nIHByZXNzIHRocmVzaG9sZFxuICBFUlJPUjogbnVsbCxcbn0pO1xuXG50eXBlIFN0YXRlID1cbiAgfCB0eXBlb2YgU3RhdGVzLk5PVF9SRVNQT05ERVJcbiAgfCB0eXBlb2YgU3RhdGVzLlJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTlxuICB8IHR5cGVvZiBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX09VVFxuICB8IHR5cGVvZiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTlxuICB8IHR5cGVvZiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVRcbiAgfCB0eXBlb2YgU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTlxuICB8IHR5cGVvZiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVFxuICB8IHR5cGVvZiBTdGF0ZXMuRVJST1I7XG5cbi8qXG4gKiBRdWljayBsb29rdXAgbWFwIGZvciBzdGF0ZXMgdGhhdCBhcmUgY29uc2lkZXJlZCB0byBiZSBcImFjdGl2ZVwiXG4gKi9cblxuY29uc3QgYmFzZVN0YXRlc0NvbmRpdGlvbnMgPSB7XG4gIE5PVF9SRVNQT05ERVI6IGZhbHNlLFxuICBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU46IGZhbHNlLFxuICBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VUOiBmYWxzZSxcbiAgUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTjogZmFsc2UsXG4gIFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VUOiBmYWxzZSxcbiAgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOOiBmYWxzZSxcbiAgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVDogZmFsc2UsXG4gIEVSUk9SOiBmYWxzZSxcbn07XG5cbmNvbnN0IElzQWN0aXZlID0ge1xuICAuLi5iYXNlU3RhdGVzQ29uZGl0aW9ucyxcbiAgUkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVQ6IHRydWUsXG4gIFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU46IHRydWUsXG59O1xuXG4vKipcbiAqIFF1aWNrIGxvb2t1cCBmb3Igc3RhdGVzIHRoYXQgYXJlIGNvbnNpZGVyZWQgdG8gYmUgXCJwcmVzc2luZ1wiIGFuZCBhcmVcbiAqIHRoZXJlZm9yZSBlbGlnaWJsZSB0byByZXN1bHQgaW4gYSBcInNlbGVjdGlvblwiIGlmIHRoZSBwcmVzcyBzdG9wcy5cbiAqL1xuY29uc3QgSXNQcmVzc2luZ0luID0ge1xuICAuLi5iYXNlU3RhdGVzQ29uZGl0aW9ucyxcbiAgUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOOiB0cnVlLFxuICBSRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOOiB0cnVlLFxuICBSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU46IHRydWUsXG59O1xuXG5jb25zdCBJc0xvbmdQcmVzc2luZ0luID0ge1xuICAuLi5iYXNlU3RhdGVzQ29uZGl0aW9ucyxcbiAgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOOiB0cnVlLFxufTtcblxuLyoqXG4gKiBJbnB1dHMgdG8gdGhlIHN0YXRlIG1hY2hpbmUuXG4gKi9cbmNvbnN0IFNpZ25hbHMgPSBrZXlNaXJyb3Ioe1xuICBERUxBWTogbnVsbCxcbiAgUkVTUE9OREVSX0dSQU5UOiBudWxsLFxuICBSRVNQT05ERVJfUkVMRUFTRTogbnVsbCxcbiAgUkVTUE9OREVSX1RFUk1JTkFURUQ6IG51bGwsXG4gIEVOVEVSX1BSRVNTX1JFQ1Q6IG51bGwsXG4gIExFQVZFX1BSRVNTX1JFQ1Q6IG51bGwsXG4gIExPTkdfUFJFU1NfREVURUNURUQ6IG51bGwsXG59KTtcblxudHlwZSBTaWduYWwgPVxuICB8IHR5cGVvZiBTaWduYWxzLkRFTEFZXG4gIHwgdHlwZW9mIFNpZ25hbHMuUkVTUE9OREVSX0dSQU5UXG4gIHwgdHlwZW9mIFNpZ25hbHMuUkVTUE9OREVSX1JFTEVBU0VcbiAgfCB0eXBlb2YgU2lnbmFscy5SRVNQT05ERVJfVEVSTUlOQVRFRFxuICB8IHR5cGVvZiBTaWduYWxzLkVOVEVSX1BSRVNTX1JFQ1RcbiAgfCB0eXBlb2YgU2lnbmFscy5MRUFWRV9QUkVTU19SRUNUXG4gIHwgdHlwZW9mIFNpZ25hbHMuTE9OR19QUkVTU19ERVRFQ1RFRDtcblxuLyoqXG4gKiBNYXBwaW5nIGZyb20gU3RhdGVzIHggU2lnbmFscyA9PiBTdGF0ZXNcbiAqL1xuY29uc3QgVHJhbnNpdGlvbnMgPSB7XG4gIE5PVF9SRVNQT05ERVI6IHtcbiAgICBERUxBWTogU3RhdGVzLkVSUk9SLFxuICAgIFJFU1BPTkRFUl9HUkFOVDogU3RhdGVzLlJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTixcbiAgICBSRVNQT05ERVJfUkVMRUFTRTogU3RhdGVzLkVSUk9SLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiBTdGF0ZXMuRVJST1IsXG4gICAgRU5URVJfUFJFU1NfUkVDVDogU3RhdGVzLkVSUk9SLFxuICAgIExFQVZFX1BSRVNTX1JFQ1Q6IFN0YXRlcy5FUlJPUixcbiAgICBMT05HX1BSRVNTX0RFVEVDVEVEOiBTdGF0ZXMuRVJST1IsXG4gIH0sXG4gIFJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTjoge1xuICAgIERFTEFZOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTixcbiAgICBSRVNQT05ERVJfR1JBTlQ6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfUkVMRUFTRTogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgUkVTUE9OREVSX1RFUk1JTkFURUQ6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIEVOVEVSX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU4sXG4gICAgTEVBVkVfUFJFU1NfUkVDVDogU3RhdGVzLlJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19PVVQsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogU3RhdGVzLkVSUk9SLFxuICB9LFxuICBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VUOiB7XG4gICAgREVMQVk6IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX1BSRVNTX09VVCxcbiAgICBSRVNQT05ERVJfR1JBTlQ6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfUkVMRUFTRTogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgUkVTUE9OREVSX1RFUk1JTkFURUQ6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIEVOVEVSX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU4sXG4gICAgTEVBVkVfUFJFU1NfUkVDVDogU3RhdGVzLlJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19PVVQsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogU3RhdGVzLkVSUk9SLFxuICB9LFxuICBSRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOOiB7XG4gICAgREVMQVk6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfR1JBTlQ6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfUkVMRUFTRTogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgUkVTUE9OREVSX1RFUk1JTkFURUQ6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIEVOVEVSX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOLFxuICAgIExFQVZFX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX1BSRVNTX09VVCxcbiAgICBMT05HX1BSRVNTX0RFVEVDVEVEOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOLFxuICB9LFxuICBSRVNQT05ERVJfQUNUSVZFX1BSRVNTX09VVDoge1xuICAgIERFTEFZOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX0dSQU5UOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBFTlRFUl9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTixcbiAgICBMRUFWRV9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVQsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogU3RhdGVzLkVSUk9SLFxuICB9LFxuICBSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU46IHtcbiAgICBERUxBWTogU3RhdGVzLkVSUk9SLFxuICAgIFJFU1BPTkRFUl9HUkFOVDogU3RhdGVzLkVSUk9SLFxuICAgIFJFU1BPTkRFUl9SRUxFQVNFOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBSRVNQT05ERVJfVEVSTUlOQVRFRDogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgRU5URVJfUFJFU1NfUkVDVDogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTixcbiAgICBMRUFWRV9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVCxcbiAgICBMT05HX1BSRVNTX0RFVEVDVEVEOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOLFxuICB9LFxuICBSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfT1VUOiB7XG4gICAgREVMQVk6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfR1JBTlQ6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfUkVMRUFTRTogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgUkVTUE9OREVSX1RFUk1JTkFURUQ6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIEVOVEVSX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU4sXG4gICAgTEVBVkVfUFJFU1NfUkVDVDogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19PVVQsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogU3RhdGVzLkVSUk9SLFxuICB9LFxuICBlcnJvcjoge1xuICAgIERFTEFZOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBSRVNQT05ERVJfR1JBTlQ6IFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU4sXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBFTlRFUl9QUkVTU19SRUNUOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBMRUFWRV9QUkVTU19SRUNUOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBMT05HX1BSRVNTX0RFVEVDVEVEOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgfSxcbn07XG5cbi8vID09PT0gVHlwaWNhbCBDb25zdGFudHMgZm9yIGludGVncmF0aW5nIGludG8gVUkgY29tcG9uZW50cyA9PT09XG4vLyB2YXIgSElUX0VYUEFORF9QWCA9IDIwO1xuLy8gdmFyIEhJVF9WRVJUX09GRlNFVF9QWCA9IDEwO1xuY29uc3QgSElHSExJR0hUX0RFTEFZX01TID0gMTMwO1xuXG5jb25zdCBQUkVTU19FWFBBTkRfUFggPSAyMDtcblxuY29uc3QgTE9OR19QUkVTU19USFJFU0hPTEQgPSA1MDA7XG5cbmNvbnN0IExPTkdfUFJFU1NfREVMQVlfTVMgPSBMT05HX1BSRVNTX1RIUkVTSE9MRCAtIEhJR0hMSUdIVF9ERUxBWV9NUztcblxuY29uc3QgTE9OR19QUkVTU19BTExPV0VEX01PVkVNRU5UID0gMTA7XG5cbi8vIERlZmF1bHQgYW1vdW50IFwiYWN0aXZlXCIgcmVnaW9uIHByb3RydWRlcyBiZXlvbmQgYm94XG5cbi8qKlxuICogQnkgY29udmVudGlvbiwgbWV0aG9kcyBwcmVmaXhlZCB3aXRoIHVuZGVyc2NvcmVzIGFyZSBtZWFudCB0byBiZSBAcHJpdmF0ZSxcbiAqIGFuZCBub3QgQHByb3RlY3RlZC4gTWl4ZXJzIHNob3VsZG4ndCBhY2Nlc3MgdGhlbSAtIG5vdCBldmVuIHRvIHByb3ZpZGUgdGhlbVxuICogYXMgY2FsbGJhY2sgaGFuZGxlcnMuXG4gKlxuICpcbiAqID09PT09PT09PT0gR2VvbWV0cnkgPT09PT09PT09XG4gKiBgVG91Y2hhYmxlYCBvbmx5IGFzc3VtZXMgdGhhdCB0aGVyZSBleGlzdHMgYSBgSGl0UmVjdGAgbm9kZS4gVGhlIGBQcmVzc1JlY3RgXG4gKiBpcyBhbiBhYnN0cmFjdCBib3ggdGhhdCBpcyBleHRlbmRlZCBiZXlvbmQgdGhlIGBIaXRSZWN0YC5cbiAqXG4gKiAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xuICogIHwgICAgICAgICAgICAgICAgICAgICAgICAgIHwgLSBcIlN0YXJ0XCIgZXZlbnRzIGluIGBIaXRSZWN0YCBjYXVzZSBgSGl0UmVjdGBcbiAqICB8ICArLS0tLS0tLS0tLS0tLS0tLS0tLS0rICB8ICAgdG8gYmVjb21lIHRoZSByZXNwb25kZXIuXG4gKiAgfCAgfCAgKy0tLS0tLS0tLS0tLS0tKyAgfCAgfCAtIGBIaXRSZWN0YCBpcyB0eXBpY2FsbHkgZXhwYW5kZWQgYXJvdW5kXG4gKiAgfCAgfCAgfCAgICAgICAgICAgICAgfCAgfCAgfCAgIHRoZSBgVmlzdWFsUmVjdGAsIGJ1dCBzaGlmdGVkIGRvd253YXJkLlxuICogIHwgIHwgIHwgIFZpc3VhbFJlY3QgIHwgIHwgIHwgLSBBZnRlciBwcmVzc2luZyBkb3duLCBhZnRlciBzb21lIGRlbGF5LFxuICogIHwgIHwgIHwgICAgICAgICAgICAgIHwgIHwgIHwgICBhbmQgYmVmb3JlIGxldHRpbmcgdXAsIHRoZSBWaXN1YWwgUmVhY3RcbiAqICB8ICB8ICArLS0tLS0tLS0tLS0tLS0rICB8ICB8ICAgd2lsbCBiZWNvbWUgXCJhY3RpdmVcIi4gVGhpcyBtYWtlcyBpdCBlbGlnaWJsZVxuICogIHwgIHwgICAgIEhpdFJlY3QgICAgICAgIHwgIHwgICBmb3IgYmVpbmcgaGlnaGxpZ2h0ZWQgKHNvIGxvbmcgYXMgdGhlXG4gKiAgfCAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgfCAgIHByZXNzIHJlbWFpbnMgaW4gdGhlIGBQcmVzc1JlY3RgKS5cbiAqICB8ICAgICAgICBQcmVzc1JlY3QgICAgIG8gICB8XG4gKiAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tK1xuICogICAgICAgICAgIE91dCBSZWdpb24gICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tKyBUaGlzIGdhcCBiZXR3ZWVuIHRoZSBgSGl0UmVjdGAgYW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBQcmVzc1JlY3RgIGFsbG93cyBhIHRvdWNoIHRvIG1vdmUgZmFyIGF3YXlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSB0aGUgb3JpZ2luYWwgaGl0IHJlY3QsIGFuZCByZW1haW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0ZWQsIGFuZCBlbGlnaWJsZSBmb3IgYSBcIlByZXNzXCIuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN1c3RvbWl6ZSB0aGlzIHZpYVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgdG91Y2hhYmxlR2V0UHJlc3NSZWN0T2Zmc2V0KClgLlxuICpcbiAqXG4gKlxuICogPT09PT09PSBTdGF0ZSBNYWNoaW5lID09PT09PT1cbiAqXG4gKiArLS0tLS0tLS0tLS0tLSsgPC0tLSsgUkVTUE9OREVSX1JFTEVBU0VcbiAqIHxOT1RfUkVTUE9OREVSfFxuICogKy0tLS0tLS0tLS0tLS0rIDwtLS0rIFJFU1BPTkRFUl9URVJNSU5BVEVEXG4gKiAgICAgK1xuICogICAgIHwgUkVTUE9OREVSX0dSQU5UIChIaXRSZWN0KVxuICogICAgIHZcbiAqICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rICBERUxBWSAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgVCArIERFTEFZICAgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xuICogfFJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTnwrLS0tLS0tLS0+fFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU58ICstLS0tLS0tLS0tLS0+IHxSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU58XG4gKiArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAqICAgICArICAgICAgICAgICAgXiAgICAgICAgICAgICAgICAgICAgICAgICArICAgICAgICAgICBeICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAgICAgICAgICAgXlxuICogICAgIHxMRUFWRV8gICAgICB8RU5URVJfICAgICAgICAgICAgICAgICAgIHxMRUFWRV8gICAgIHxFTlRFUl8gICAgICAgICAgICAgICAgICAgICAgICAgICB8TEVBVkVfICAgICB8RU5URVJfXG4gKiAgICAgfFBSRVNTX1JFQ1QgIHxQUkVTU19SRUNUICAgICAgICAgICAgICAgfFBSRVNTX1JFQ1QgfFBSRVNTX1JFQ1QgICAgICAgICAgICAgICAgICAgICAgIHxQUkVTU19SRUNUIHxQUkVTU19SRUNUXG4gKiAgICAgfCAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgIHxcbiAqICAgICB2ICAgICAgICAgICAgKyAgICAgICAgICAgICAgICAgICAgICAgICB2ICAgICAgICAgICArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdiAgICAgICAgICAgK1xuICogKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rICBERUxBWSAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xuICogfFJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19PVVR8Ky0tLS0tLS0+fFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VUfCAgICAgICAgICAgICAgIHxSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfT1VUfFxuICogKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xuICpcbiAqIFQgKyBERUxBWSA9PiBMT05HX1BSRVNTX0RFTEFZX01TICsgREVMQVlcbiAqXG4gKiBOb3QgZHJhd24gYXJlIHRoZSBzaWRlIGVmZmVjdHMgb2YgZWFjaCB0cmFuc2l0aW9uLiBUaGUgbW9zdCBpbXBvcnRhbnQgc2lkZVxuICogZWZmZWN0IGlzIHRoZSBgdG91Y2hhYmxlSGFuZGxlUHJlc3NgIGFic3RyYWN0IG1ldGhvZCBpbnZvY2F0aW9uIHRoYXQgb2NjdXJzXG4gKiB3aGVuIGEgcmVzcG9uZGVyIGlzIHJlbGVhc2VkIHdoaWxlIGluIGVpdGhlciBvZiB0aGUgXCJQcmVzc1wiIHN0YXRlcy5cbiAqXG4gKiBUaGUgb3RoZXIgaW1wb3J0YW50IHNpZGUgZWZmZWN0cyBhcmUgdGhlIGhpZ2hsaWdodCBhYnN0cmFjdCBtZXRob2RcbiAqIGludm9jYXRpb25zIChpbnRlcm5hbCBjYWxsYmFja3MpIHRvIGJlIGltcGxlbWVudGVkIGJ5IHRoZSBtaXhlci5cbiAqXG4gKlxuICogQGxlbmRzIFRvdWNoYWJsZS5wcm90b3R5cGVcbiAqL1xuY29uc3QgVG91Y2hhYmxlTWl4aW4gPSB7XG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICBpZiAoIVBsYXRmb3JtLmlzVFYpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl90dkV2ZW50SGFuZGxlciA9IG5ldyBUVkV2ZW50SGFuZGxlcigpO1xuICAgIHRoaXMuX3R2RXZlbnRIYW5kbGVyLmVuYWJsZSh0aGlzLCBmdW5jdGlvbihjbXAsIGV2dCkge1xuICAgICAgY29uc3QgbXlUYWcgPSBSZWFjdE5hdGl2ZS5maW5kTm9kZUhhbmRsZShjbXApO1xuICAgICAgZXZ0LmRpc3BhdGNoQ29uZmlnID0ge307XG4gICAgICBpZiAobXlUYWcgPT09IGV2dC50YWcpIHtcbiAgICAgICAgaWYgKGV2dC5ldmVudFR5cGUgPT09ICdmb2N1cycpIHtcbiAgICAgICAgICBjbXAudG91Y2hhYmxlSGFuZGxlRm9jdXMoZXZ0KTtcbiAgICAgICAgfSBlbHNlIGlmIChldnQuZXZlbnRUeXBlID09PSAnYmx1cicpIHtcbiAgICAgICAgICBjbXAudG91Y2hhYmxlSGFuZGxlQmx1cihldnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2dC5ldmVudFR5cGUgPT09ICdzZWxlY3QnICYmIFBsYXRmb3JtLk9TICE9PSAnYW5kcm9pZCcpIHtcbiAgICAgICAgICBjbXAudG91Y2hhYmxlSGFuZGxlUHJlc3MgJiZcbiAgICAgICAgICAgICFjbXAucHJvcHMuZGlzYWJsZWQgJiZcbiAgICAgICAgICAgIGNtcC50b3VjaGFibGVIYW5kbGVQcmVzcyhldnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCB0aW1lb3V0cyBvbiB1bm1vdW50XG4gICAqL1xuICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX3R2RXZlbnRIYW5kbGVyKSB7XG4gICAgICB0aGlzLl90dkV2ZW50SGFuZGxlci5kaXNhYmxlKCk7XG4gICAgICBkZWxldGUgdGhpcy5fdHZFdmVudEhhbmRsZXI7XG4gICAgfVxuICAgIHRoaXMudG91Y2hhYmxlRGVsYXlUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLnRvdWNoYWJsZURlbGF5VGltZW91dCk7XG4gICAgdGhpcy5sb25nUHJlc3NEZWxheVRpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KHRoaXMubG9uZ1ByZXNzRGVsYXlUaW1lb3V0KTtcbiAgICB0aGlzLnByZXNzT3V0RGVsYXlUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLnByZXNzT3V0RGVsYXlUaW1lb3V0KTtcbiAgfSxcblxuICAvKipcbiAgICogSXQncyBwcmVmZXIgdGhhdCBtaXhpbnMgZGV0ZXJtaW5lIHN0YXRlIGluIHRoaXMgd2F5LCBoYXZpbmcgdGhlIGNsYXNzXG4gICAqIGV4cGxpY2l0bHkgbWl4IHRoZSBzdGF0ZSBpbiB0aGUgb25lIGFuZCBvbmx5IGBnZXRJbml0aWFsU3RhdGVgIG1ldGhvZC5cbiAgICpcbiAgICogQHJldHVybiB7b2JqZWN0fSBTdGF0ZSBvYmplY3QgdG8gYmUgcGxhY2VkIGluc2lkZSBvZlxuICAgKiBgdGhpcy5zdGF0ZS50b3VjaGFibGVgLlxuICAgKi9cbiAgdG91Y2hhYmxlR2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpOiAkVEVNUE9SQVJZJG9iamVjdDx7fFxuICAgIHRvdWNoYWJsZTogJFRFTVBPUkFSWSRvYmplY3Q8e3xyZXNwb25kZXJJRDogbnVsbCwgdG91Y2hTdGF0ZTogdm9pZHx9PixcbiAgfH0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdG91Y2hhYmxlOiB7dG91Y2hTdGF0ZTogdW5kZWZpbmVkLCByZXNwb25kZXJJRDogbnVsbH0sXG4gICAgfTtcbiAgfSxcblxuICAvLyA9PT09IEhvb2tzIHRvIEdlc3R1cmUgUmVzcG9uZGVyIHN5c3RlbSA9PT09XG4gIC8qKlxuICAgKiBNdXN0IHJldHVybiB0cnVlIGlmIGVtYmVkZGVkIGluIGEgbmF0aXZlIHBsYXRmb3JtIHNjcm9sbCB2aWV3LlxuICAgKi9cbiAgdG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0OiBmdW5jdGlvbigpOiBhbnkge1xuICAgIHJldHVybiAhdGhpcy5wcm9wcy5yZWplY3RSZXNwb25kZXJUZXJtaW5hdGlvbjtcbiAgfSxcblxuICAvKipcbiAgICogTXVzdCByZXR1cm4gdHJ1ZSB0byBzdGFydCB0aGUgcHJvY2VzcyBvZiBgVG91Y2hhYmxlYC5cbiAgICovXG4gIHRvdWNoYWJsZUhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiBmdW5jdGlvbigpOiBhbnkge1xuICAgIHJldHVybiAhdGhpcy5wcm9wcy5kaXNhYmxlZDtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJuIHRydWUgdG8gY2FuY2VsIHByZXNzIG9uIGxvbmcgcHJlc3MuXG4gICAqL1xuICB0b3VjaGFibGVMb25nUHJlc3NDYW5jZWxzUHJlc3M6IGZ1bmN0aW9uKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBQbGFjZSBhcyBjYWxsYmFjayBmb3IgYSBET00gZWxlbWVudCdzIGBvblJlc3BvbmRlckdyYW50YCBldmVudC5cbiAgICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZSBTeW50aGV0aWMgZXZlbnQgZnJvbSBldmVudCBzeXN0ZW0uXG4gICAqXG4gICAqL1xuICB0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJHcmFudDogZnVuY3Rpb24oZTogUHJlc3NFdmVudCkge1xuICAgIGNvbnN0IGRpc3BhdGNoSUQgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgLy8gU2luY2UgZSBpcyB1c2VkIGluIGEgY2FsbGJhY2sgaW52b2tlZCBvbiBhbm90aGVyIGV2ZW50IGxvb3BcbiAgICAvLyAoYXMgaW4gc2V0VGltZW91dCBldGMpLCB3ZSBuZWVkIHRvIGNhbGwgZS5wZXJzaXN0KCkgb24gdGhlXG4gICAgLy8gZXZlbnQgdG8gbWFrZSBzdXJlIGl0IGRvZXNuJ3QgZ2V0IHJldXNlZCBpbiB0aGUgZXZlbnQgb2JqZWN0IHBvb2wuXG4gICAgZS5wZXJzaXN0KCk7XG5cbiAgICB0aGlzLnByZXNzT3V0RGVsYXlUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLnByZXNzT3V0RGVsYXlUaW1lb3V0KTtcbiAgICB0aGlzLnByZXNzT3V0RGVsYXlUaW1lb3V0ID0gbnVsbDtcblxuICAgIHRoaXMuc3RhdGUudG91Y2hhYmxlLnRvdWNoU3RhdGUgPSBTdGF0ZXMuTk9UX1JFU1BPTkRFUjtcbiAgICB0aGlzLnN0YXRlLnRvdWNoYWJsZS5yZXNwb25kZXJJRCA9IGRpc3BhdGNoSUQ7XG4gICAgdGhpcy5fcmVjZWl2ZVNpZ25hbChTaWduYWxzLlJFU1BPTkRFUl9HUkFOVCwgZSk7XG4gICAgbGV0IGRlbGF5TVMgPVxuICAgICAgdGhpcy50b3VjaGFibGVHZXRIaWdobGlnaHREZWxheU1TICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBNYXRoLm1heCh0aGlzLnRvdWNoYWJsZUdldEhpZ2hsaWdodERlbGF5TVMoKSwgMClcbiAgICAgICAgOiBISUdITElHSFRfREVMQVlfTVM7XG4gICAgZGVsYXlNUyA9IGlzTmFOKGRlbGF5TVMpID8gSElHSExJR0hUX0RFTEFZX01TIDogZGVsYXlNUztcbiAgICBpZiAoZGVsYXlNUyAhPT0gMCkge1xuICAgICAgdGhpcy50b3VjaGFibGVEZWxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KFxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxheS5iaW5kKHRoaXMsIGUpLFxuICAgICAgICBkZWxheU1TLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGFuZGxlRGVsYXkoZSk7XG4gICAgfVxuXG4gICAgbGV0IGxvbmdEZWxheU1TID1cbiAgICAgIHRoaXMudG91Y2hhYmxlR2V0TG9uZ1ByZXNzRGVsYXlNUyAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gTWF0aC5tYXgodGhpcy50b3VjaGFibGVHZXRMb25nUHJlc3NEZWxheU1TKCksIDEwKVxuICAgICAgICA6IExPTkdfUFJFU1NfREVMQVlfTVM7XG4gICAgbG9uZ0RlbGF5TVMgPSBpc05hTihsb25nRGVsYXlNUykgPyBMT05HX1BSRVNTX0RFTEFZX01TIDogbG9uZ0RlbGF5TVM7XG4gICAgdGhpcy5sb25nUHJlc3NEZWxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KFxuICAgICAgdGhpcy5faGFuZGxlTG9uZ0RlbGF5LmJpbmQodGhpcywgZSksXG4gICAgICBsb25nRGVsYXlNUyArIGRlbGF5TVMsXG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogUGxhY2UgYXMgY2FsbGJhY2sgZm9yIGEgRE9NIGVsZW1lbnQncyBgb25SZXNwb25kZXJSZWxlYXNlYCBldmVudC5cbiAgICovXG4gIHRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclJlbGVhc2U6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICB0aGlzLnByZXNzSW5Mb2NhdGlvbiA9IG51bGw7XG4gICAgdGhpcy5fcmVjZWl2ZVNpZ25hbChTaWduYWxzLlJFU1BPTkRFUl9SRUxFQVNFLCBlKTtcbiAgfSxcblxuICAvKipcbiAgICogUGxhY2UgYXMgY2FsbGJhY2sgZm9yIGEgRE9NIGVsZW1lbnQncyBgb25SZXNwb25kZXJUZXJtaW5hdGVgIGV2ZW50LlxuICAgKi9cbiAgdG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRlOiBmdW5jdGlvbihlOiBQcmVzc0V2ZW50KSB7XG4gICAgdGhpcy5wcmVzc0luTG9jYXRpb24gPSBudWxsO1xuICAgIHRoaXMuX3JlY2VpdmVTaWduYWwoU2lnbmFscy5SRVNQT05ERVJfVEVSTUlOQVRFRCwgZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFBsYWNlIGFzIGNhbGxiYWNrIGZvciBhIERPTSBlbGVtZW50J3MgYG9uUmVzcG9uZGVyTW92ZWAgZXZlbnQuXG4gICAqL1xuICB0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJNb3ZlOiBmdW5jdGlvbihlOiBQcmVzc0V2ZW50KSB7XG4gICAgLy8gTWVhc3VyZW1lbnQgbWF5IG5vdCBoYXZlIHJldHVybmVkIHlldC5cbiAgICBpZiAoIXRoaXMuc3RhdGUudG91Y2hhYmxlLnBvc2l0aW9uT25BY3RpdmF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBvc2l0aW9uT25BY3RpdmF0ZSA9IHRoaXMuc3RhdGUudG91Y2hhYmxlLnBvc2l0aW9uT25BY3RpdmF0ZTtcbiAgICBjb25zdCBkaW1lbnNpb25zT25BY3RpdmF0ZSA9IHRoaXMuc3RhdGUudG91Y2hhYmxlLmRpbWVuc2lvbnNPbkFjdGl2YXRlO1xuICAgIGNvbnN0IHByZXNzUmVjdE9mZnNldCA9IHRoaXMudG91Y2hhYmxlR2V0UHJlc3NSZWN0T2Zmc2V0XG4gICAgICA/IHRoaXMudG91Y2hhYmxlR2V0UHJlc3NSZWN0T2Zmc2V0KClcbiAgICAgIDoge1xuICAgICAgICAgIGxlZnQ6IFBSRVNTX0VYUEFORF9QWCxcbiAgICAgICAgICByaWdodDogUFJFU1NfRVhQQU5EX1BYLFxuICAgICAgICAgIHRvcDogUFJFU1NfRVhQQU5EX1BYLFxuICAgICAgICAgIGJvdHRvbTogUFJFU1NfRVhQQU5EX1BYLFxuICAgICAgICB9O1xuXG4gICAgbGV0IHByZXNzRXhwYW5kTGVmdCA9IHByZXNzUmVjdE9mZnNldC5sZWZ0O1xuICAgIGxldCBwcmVzc0V4cGFuZFRvcCA9IHByZXNzUmVjdE9mZnNldC50b3A7XG4gICAgbGV0IHByZXNzRXhwYW5kUmlnaHQgPSBwcmVzc1JlY3RPZmZzZXQucmlnaHQ7XG4gICAgbGV0IHByZXNzRXhwYW5kQm90dG9tID0gcHJlc3NSZWN0T2Zmc2V0LmJvdHRvbTtcblxuICAgIGNvbnN0IGhpdFNsb3AgPSB0aGlzLnRvdWNoYWJsZUdldEhpdFNsb3BcbiAgICAgID8gdGhpcy50b3VjaGFibGVHZXRIaXRTbG9wKClcbiAgICAgIDogbnVsbDtcblxuICAgIGlmIChoaXRTbG9wKSB7XG4gICAgICBwcmVzc0V4cGFuZExlZnQgKz0gaGl0U2xvcC5sZWZ0IHx8IDA7XG4gICAgICBwcmVzc0V4cGFuZFRvcCArPSBoaXRTbG9wLnRvcCB8fCAwO1xuICAgICAgcHJlc3NFeHBhbmRSaWdodCArPSBoaXRTbG9wLnJpZ2h0IHx8IDA7XG4gICAgICBwcmVzc0V4cGFuZEJvdHRvbSArPSBoaXRTbG9wLmJvdHRvbSB8fCAwO1xuICAgIH1cblxuICAgIGNvbnN0IHRvdWNoID0gZXh0cmFjdFNpbmdsZVRvdWNoKGUubmF0aXZlRXZlbnQpO1xuICAgIGNvbnN0IHBhZ2VYID0gdG91Y2ggJiYgdG91Y2gucGFnZVg7XG4gICAgY29uc3QgcGFnZVkgPSB0b3VjaCAmJiB0b3VjaC5wYWdlWTtcblxuICAgIGlmICh0aGlzLnByZXNzSW5Mb2NhdGlvbikge1xuICAgICAgY29uc3QgbW92ZWREaXN0YW5jZSA9IHRoaXMuX2dldERpc3RhbmNlQmV0d2VlblBvaW50cyhcbiAgICAgICAgcGFnZVgsXG4gICAgICAgIHBhZ2VZLFxuICAgICAgICB0aGlzLnByZXNzSW5Mb2NhdGlvbi5wYWdlWCxcbiAgICAgICAgdGhpcy5wcmVzc0luTG9jYXRpb24ucGFnZVksXG4gICAgICApO1xuICAgICAgaWYgKG1vdmVkRGlzdGFuY2UgPiBMT05HX1BSRVNTX0FMTE9XRURfTU9WRU1FTlQpIHtcbiAgICAgICAgdGhpcy5fY2FuY2VsTG9uZ1ByZXNzRGVsYXlUaW1lb3V0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaXNUb3VjaFdpdGhpbkFjdGl2ZSA9XG4gICAgICBwYWdlWCA+IHBvc2l0aW9uT25BY3RpdmF0ZS5sZWZ0IC0gcHJlc3NFeHBhbmRMZWZ0ICYmXG4gICAgICBwYWdlWSA+IHBvc2l0aW9uT25BY3RpdmF0ZS50b3AgLSBwcmVzc0V4cGFuZFRvcCAmJlxuICAgICAgcGFnZVggPFxuICAgICAgICBwb3NpdGlvbk9uQWN0aXZhdGUubGVmdCArXG4gICAgICAgICAgZGltZW5zaW9uc09uQWN0aXZhdGUud2lkdGggK1xuICAgICAgICAgIHByZXNzRXhwYW5kUmlnaHQgJiZcbiAgICAgIHBhZ2VZIDxcbiAgICAgICAgcG9zaXRpb25PbkFjdGl2YXRlLnRvcCArXG4gICAgICAgICAgZGltZW5zaW9uc09uQWN0aXZhdGUuaGVpZ2h0ICtcbiAgICAgICAgICBwcmVzc0V4cGFuZEJvdHRvbTtcbiAgICBpZiAoaXNUb3VjaFdpdGhpbkFjdGl2ZSkge1xuICAgICAgY29uc3QgcHJldlN0YXRlID0gdGhpcy5zdGF0ZS50b3VjaGFibGUudG91Y2hTdGF0ZTtcbiAgICAgIHRoaXMuX3JlY2VpdmVTaWduYWwoU2lnbmFscy5FTlRFUl9QUkVTU19SRUNULCBlKTtcbiAgICAgIGNvbnN0IGN1clN0YXRlID0gdGhpcy5zdGF0ZS50b3VjaGFibGUudG91Y2hTdGF0ZTtcbiAgICAgIGlmIChcbiAgICAgICAgY3VyU3RhdGUgPT09IFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU4gJiZcbiAgICAgICAgcHJldlN0YXRlICE9PSBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOXG4gICAgICApIHtcbiAgICAgICAgLy8gZml4IGZvciB0Nzk2NzQyMFxuICAgICAgICB0aGlzLl9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY2FuY2VsTG9uZ1ByZXNzRGVsYXlUaW1lb3V0KCk7XG4gICAgICB0aGlzLl9yZWNlaXZlU2lnbmFsKFNpZ25hbHMuTEVBVkVfUFJFU1NfUkVDVCwgZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGl0ZW0gcmVjZWl2ZXMgZm9jdXMuIE1peGVycyBtaWdodCBvdmVycmlkZSB0aGlzIHRvXG4gICAqIHZpc3VhbGx5IGRpc3Rpbmd1aXNoIHRoZSBgVmlzdWFsUmVjdGAgc28gdGhhdCB0aGUgdXNlciBrbm93cyB0aGF0IGl0XG4gICAqIGN1cnJlbnRseSBoYXMgdGhlIGZvY3VzLiBNb3N0IHBsYXRmb3JtcyBvbmx5IHN1cHBvcnQgYSBzaW5nbGUgZWxlbWVudCBiZWluZ1xuICAgKiBmb2N1c2VkIGF0IGEgdGltZSwgaW4gd2hpY2ggY2FzZSB0aGVyZSBtYXkgaGF2ZSBiZWVuIGEgcHJldmlvdXNseSBmb2N1c2VkXG4gICAqIGVsZW1lbnQgdGhhdCB3YXMgYmx1cnJlZCBqdXN0IHByaW9yIHRvIHRoaXMuIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gd2hlblxuICAgKiB1c2luZyBgVG91Y2hhYmxlLk1peGluLndpdGhvdXREZWZhdWx0Rm9jdXNBbmRCbHVyYC5cbiAgICovXG4gIHRvdWNoYWJsZUhhbmRsZUZvY3VzOiBmdW5jdGlvbihlOiBFdmVudCkge1xuICAgIHRoaXMucHJvcHMub25Gb2N1cyAmJiB0aGlzLnByb3BzLm9uRm9jdXMoZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgaXRlbSBsb3NlcyBmb2N1cy4gTWl4ZXJzIG1pZ2h0IG92ZXJyaWRlIHRoaXMgdG9cbiAgICogdmlzdWFsbHkgZGlzdGluZ3Vpc2ggdGhlIGBWaXN1YWxSZWN0YCBzbyB0aGF0IHRoZSB1c2VyIGtub3dzIHRoYXQgaXRcbiAgICogbm8gbG9uZ2VyIGhhcyBmb2N1cy4gTW9zdCBwbGF0Zm9ybXMgb25seSBzdXBwb3J0IGEgc2luZ2xlIGVsZW1lbnQgYmVpbmdcbiAgICogZm9jdXNlZCBhdCBhIHRpbWUsIGluIHdoaWNoIGNhc2UgdGhlIGZvY3VzIG1heSBoYXZlIG1vdmVkIHRvIGFub3RoZXIuXG4gICAqIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gd2hlbiB1c2luZ1xuICAgKiBgVG91Y2hhYmxlLk1peGluLndpdGhvdXREZWZhdWx0Rm9jdXNBbmRCbHVyYC5cbiAgICovXG4gIHRvdWNoYWJsZUhhbmRsZUJsdXI6IGZ1bmN0aW9uKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vbkJsdXIgJiYgdGhpcy5wcm9wcy5vbkJsdXIoZSk7XG4gIH0sXG5cbiAgLy8gPT09PSBBYnN0cmFjdCBBcHBsaWNhdGlvbiBDYWxsYmFja3MgPT09PVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGl0ZW0gc2hvdWxkIGJlIGhpZ2hsaWdodGVkLiBNaXhlcnMgc2hvdWxkIGltcGxlbWVudCB0aGlzXG4gICAqIHRvIHZpc3VhbGx5IGRpc3Rpbmd1aXNoIHRoZSBgVmlzdWFsUmVjdGAgc28gdGhhdCB0aGUgdXNlciBrbm93cyB0aGF0XG4gICAqIHJlbGVhc2luZyBhIHRvdWNoIHdpbGwgcmVzdWx0IGluIGEgXCJzZWxlY3Rpb25cIiAoYW5hbG9nIHRvIGNsaWNrKS5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIHRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW46IGZ1bmN0aW9uLFxuICAgKi9cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBpdGVtIGlzIFwiYWN0aXZlXCIgKGluIHRoYXQgaXQgaXMgc3RpbGwgZWxpZ2libGUgdG8gYmVjb21lXG4gICAqIGEgXCJzZWxlY3RcIikgYnV0IHRoZSB0b3VjaCBoYXMgbGVmdCB0aGUgYFByZXNzUmVjdGAuIFVzdWFsbHkgdGhlIG1peGVyIHdpbGxcbiAgICogd2FudCB0byB1bmhpZ2hsaWdodCB0aGUgYFZpc3VhbFJlY3RgLiBJZiB0aGUgdXNlciAod2hpbGUgcHJlc3NpbmcpIG1vdmVzXG4gICAqIGJhY2sgaW50byB0aGUgYFByZXNzUmVjdGAgYHRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW5gIHdpbGwgYmUgaW52b2tlZFxuICAgKiBhZ2FpbiBhbmQgdGhlIG1peGVyIHNob3VsZCBwcm9iYWJseSBoaWdobGlnaHQgdGhlIGBWaXN1YWxSZWN0YCBhZ2Fpbi4gVGhpc1xuICAgKiBldmVudCB3aWxsIG5vdCBmaXJlIG9uIGFuIGB0b3VjaEVuZC9tb3VzZVVwYCBldmVudCwgb25seSBtb3ZlIGV2ZW50cyB3aGlsZVxuICAgKiB0aGUgdXNlciBpcyBkZXByZXNzaW5nIHRoZSBtb3VzZS90b3VjaC5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIHRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzT3V0OiBmdW5jdGlvblxuICAgKi9cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBpdGVtIGlzIFwic2VsZWN0ZWRcIiAtIG1lYW5pbmcgdGhlIGludGVyYWN0aW9uIGVuZGVkIGJ5XG4gICAqIGxldHRpbmcgdXAgd2hpbGUgdGhlIGl0ZW0gd2FzIGVpdGhlciBpbiB0aGUgc3RhdGVcbiAgICogYFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU5gIG9yIGBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU5gLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogdG91Y2hhYmxlSGFuZGxlUHJlc3M6IGZ1bmN0aW9uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGl0ZW0gaXMgbG9uZyBwcmVzc2VkIC0gbWVhbmluZyB0aGUgaW50ZXJhY3Rpb24gZW5kZWQgYnlcbiAgICogbGV0dGluZyB1cCB3aGlsZSB0aGUgaXRlbSB3YXMgaW4gYFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTmAuIElmXG4gICAqIGB0b3VjaGFibGVIYW5kbGVMb25nUHJlc3NgIGlzICpub3QqIHByb3ZpZGVkLCBgdG91Y2hhYmxlSGFuZGxlUHJlc3NgIHdpbGxcbiAgICogYmUgY2FsbGVkIGFzIGl0IG5vcm1hbGx5IGlzLiBJZiBgdG91Y2hhYmxlSGFuZGxlTG9uZ1ByZXNzYCBpcyBwcm92aWRlZCwgYnlcbiAgICogZGVmYXVsdCBhbnkgYHRvdWNoYWJsZUhhbmRsZVByZXNzYCBjYWxsYmFjayB3aWxsIG5vdCBiZSBpbnZva2VkLiBUb1xuICAgKiBvdmVycmlkZSB0aGlzIGRlZmF1bHQgYmVoYXZpb3IsIG92ZXJyaWRlIGB0b3VjaGFibGVMb25nUHJlc3NDYW5jZWxzUHJlc3NgXG4gICAqIHRvIHJldHVybiBmYWxzZS4gQXMgYSByZXN1bHQsIGB0b3VjaGFibGVIYW5kbGVQcmVzc2Agd2lsbCBiZSBjYWxsZWQgd2hlblxuICAgKiBsaWZ0aW5nIHVwLCBldmVuIGlmIGB0b3VjaGFibGVIYW5kbGVMb25nUHJlc3NgIGhhcyBhbHNvIGJlZW4gY2FsbGVkLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogdG91Y2hhYmxlSGFuZGxlTG9uZ1ByZXNzOiBmdW5jdGlvblxuICAgKi9cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIG1pbGxpcyB0byB3YWl0IGJlZm9yZSB0cmlnZ2VyaW5nIGEgaGlnaGxpZ2h0LlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogdG91Y2hhYmxlR2V0SGlnaGxpZ2h0RGVsYXlNUzogZnVuY3Rpb25cbiAgICovXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFtb3VudCB0byBleHRlbmQgdGhlIGBIaXRSZWN0YCBpbnRvIHRoZSBgUHJlc3NSZWN0YC4gUG9zaXRpdmVcbiAgICogbnVtYmVycyBtZWFuIHRoZSBzaXplIGV4cGFuZHMgb3V0d2FyZHMuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiB0b3VjaGFibGVHZXRQcmVzc1JlY3RPZmZzZXQ6IGZ1bmN0aW9uXG4gICAqL1xuXG4gIC8vID09PT0gSW50ZXJuYWwgTG9naWMgPT09PVxuXG4gIC8qKlxuICAgKiBNZWFzdXJlcyB0aGUgYEhpdFJlY3RgIG5vZGUgb24gYWN0aXZhdGlvbi4gVGhlIEJvdW5kaW5nIHJlY3RhbmdsZSBpcyB3aXRoXG4gICAqIHJlc3BlY3QgdG8gdmlld3BvcnQgLSBub3QgcGFnZSwgc28gYWRkaW5nIHRoZSBgcGFnZVhPZmZzZXQvcGFnZVlPZmZzZXRgXG4gICAqIHNob3VsZCByZXN1bHQgaW4gcG9pbnRzIHRoYXQgYXJlIGluIHRoZSBzYW1lIGNvb3JkaW5hdGUgc3lzdGVtIGFzIGFuXG4gICAqIGV2ZW50J3MgYGdsb2JhbFgvZ2xvYmFsWWAgZGF0YSB2YWx1ZXMuXG4gICAqXG4gICAqIC0gQ29uc2lkZXIgY2FjaGluZyB0aGlzIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIGNvbXBvbmVudCwgb3IgcG9zc2libHlcbiAgICogICBiZWluZyBhYmxlIHRvIHNoYXJlIHRoaXMgY2FjaGUgYmV0d2VlbiBhbnkgYFNjcm9sbE1hcGAgdmlldy5cbiAgICpcbiAgICogQHNpZGVlZmZlY3RzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVtZWFzdXJlTWV0cmljc09uQWN0aXZhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgcmVzcG9uZGVySUQgPSB0aGlzLnN0YXRlLnRvdWNoYWJsZS5yZXNwb25kZXJJRDtcbiAgICBpZiAocmVzcG9uZGVySUQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcmVzcG9uZGVySUQgPT09ICdudW1iZXInKSB7XG4gICAgICBVSU1hbmFnZXIubWVhc3VyZShyZXNwb25kZXJJRCwgdGhpcy5faGFuZGxlUXVlcnlMYXlvdXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25kZXJJRC5tZWFzdXJlKHRoaXMuX2hhbmRsZVF1ZXJ5TGF5b3V0KTtcbiAgICB9XG4gIH0sXG5cbiAgX2hhbmRsZVF1ZXJ5TGF5b3V0OiBmdW5jdGlvbihcbiAgICBsOiBudW1iZXIsXG4gICAgdDogbnVtYmVyLFxuICAgIHc6IG51bWJlcixcbiAgICBoOiBudW1iZXIsXG4gICAgZ2xvYmFsWDogbnVtYmVyLFxuICAgIGdsb2JhbFk6IG51bWJlcixcbiAgKSB7XG4gICAgLy9kb24ndCBkbyBhbnl0aGluZyBVSU1hbmFnZXIgZmFpbGVkIHRvIG1lYXN1cmUgbm9kZVxuICAgIGlmICghbCAmJiAhdCAmJiAhdyAmJiAhaCAmJiAhZ2xvYmFsWCAmJiAhZ2xvYmFsWSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlLnRvdWNoYWJsZS5wb3NpdGlvbk9uQWN0aXZhdGUgJiZcbiAgICAgIFBvc2l0aW9uLnJlbGVhc2UodGhpcy5zdGF0ZS50b3VjaGFibGUucG9zaXRpb25PbkFjdGl2YXRlKTtcbiAgICB0aGlzLnN0YXRlLnRvdWNoYWJsZS5kaW1lbnNpb25zT25BY3RpdmF0ZSAmJlxuICAgICAgQm91bmRpbmdEaW1lbnNpb25zLnJlbGVhc2UodGhpcy5zdGF0ZS50b3VjaGFibGUuZGltZW5zaW9uc09uQWN0aXZhdGUpO1xuICAgIHRoaXMuc3RhdGUudG91Y2hhYmxlLnBvc2l0aW9uT25BY3RpdmF0ZSA9IFBvc2l0aW9uLmdldFBvb2xlZChcbiAgICAgIGdsb2JhbFgsXG4gICAgICBnbG9iYWxZLFxuICAgICk7XG4gICAgdGhpcy5zdGF0ZS50b3VjaGFibGUuZGltZW5zaW9uc09uQWN0aXZhdGUgPSBCb3VuZGluZ0RpbWVuc2lvbnMuZ2V0UG9vbGVkKFxuICAgICAgdyxcbiAgICAgIGgsXG4gICAgKTtcbiAgfSxcblxuICBfaGFuZGxlRGVsYXk6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICB0aGlzLnRvdWNoYWJsZURlbGF5VGltZW91dCA9IG51bGw7XG4gICAgdGhpcy5fcmVjZWl2ZVNpZ25hbChTaWduYWxzLkRFTEFZLCBlKTtcbiAgfSxcblxuICBfaGFuZGxlTG9uZ0RlbGF5OiBmdW5jdGlvbihlOiBQcmVzc0V2ZW50KSB7XG4gICAgdGhpcy5sb25nUHJlc3NEZWxheVRpbWVvdXQgPSBudWxsO1xuICAgIGNvbnN0IGN1clN0YXRlID0gdGhpcy5zdGF0ZS50b3VjaGFibGUudG91Y2hTdGF0ZTtcbiAgICBpZiAoXG4gICAgICBjdXJTdGF0ZSA9PT0gU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU4gfHxcbiAgICAgIGN1clN0YXRlID09PSBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOXG4gICAgKSB7XG4gICAgICB0aGlzLl9yZWNlaXZlU2lnbmFsKFNpZ25hbHMuTE9OR19QUkVTU19ERVRFQ1RFRCwgZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZWNlaXZlcyBhIHN0YXRlIG1hY2hpbmUgc2lnbmFsLCBwZXJmb3JtcyBzaWRlIGVmZmVjdHMgb2YgdGhlIHRyYW5zaXRpb25cbiAgICogYW5kIHN0b3JlcyB0aGUgbmV3IHN0YXRlLiBWYWxpZGF0ZXMgdGhlIHRyYW5zaXRpb24gYXMgd2VsbC5cbiAgICpcbiAgICogQHBhcmFtIHtTaWduYWxzfSBzaWduYWwgU3RhdGUgbWFjaGluZSBzaWduYWwuXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgaW52YWxpZCBzdGF0ZSB0cmFuc2l0aW9uIG9yIHVucmVjb2duaXplZCBzaWduYWwuXG4gICAqIEBzaWRlZWZmZWN0c1xuICAgKi9cbiAgX3JlY2VpdmVTaWduYWw6IGZ1bmN0aW9uKHNpZ25hbDogU2lnbmFsLCBlOiBQcmVzc0V2ZW50KSB7XG4gICAgY29uc3QgcmVzcG9uZGVySUQgPSB0aGlzLnN0YXRlLnRvdWNoYWJsZS5yZXNwb25kZXJJRDtcbiAgICBjb25zdCBjdXJTdGF0ZSA9IHRoaXMuc3RhdGUudG91Y2hhYmxlLnRvdWNoU3RhdGU7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gVHJhbnNpdGlvbnNbY3VyU3RhdGVdICYmIFRyYW5zaXRpb25zW2N1clN0YXRlXVtzaWduYWxdO1xuICAgIGlmICghcmVzcG9uZGVySUQgJiYgc2lnbmFsID09PSBTaWduYWxzLlJFU1BPTkRFUl9SRUxFQVNFKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghbmV4dFN0YXRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdVbnJlY29nbml6ZWQgc2lnbmFsIGAnICtcbiAgICAgICAgICBzaWduYWwgK1xuICAgICAgICAgICdgIG9yIHN0YXRlIGAnICtcbiAgICAgICAgICBjdXJTdGF0ZSArXG4gICAgICAgICAgJ2AgZm9yIFRvdWNoYWJsZSByZXNwb25kZXIgYCcgK1xuICAgICAgICAgIHR5cGVvZiB0aGlzLnN0YXRlLnRvdWNoYWJsZS5yZXNwb25kZXJJRCA9PT1cbiAgICAgICAgJ251bWJlcidcbiAgICAgICAgICA/IHRoaXMuc3RhdGUudG91Y2hhYmxlLnJlc3BvbmRlcklEXG4gICAgICAgICAgOiAnaG9zdCBjb21wb25lbnQnICsgJ2AnLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG5leHRTdGF0ZSA9PT0gU3RhdGVzLkVSUk9SKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUb3VjaGFibGUgY2Fubm90IHRyYW5zaXRpb24gZnJvbSBgJyArXG4gICAgICAgICAgY3VyU3RhdGUgK1xuICAgICAgICAgICdgIHRvIGAnICtcbiAgICAgICAgICBzaWduYWwgK1xuICAgICAgICAgICdgIGZvciByZXNwb25kZXIgYCcgK1xuICAgICAgICAgIHR5cGVvZiB0aGlzLnN0YXRlLnRvdWNoYWJsZS5yZXNwb25kZXJJRCA9PT1cbiAgICAgICAgJ251bWJlcidcbiAgICAgICAgICA/IHRoaXMuc3RhdGUudG91Y2hhYmxlLnJlc3BvbmRlcklEXG4gICAgICAgICAgOiAnPDxob3N0IGNvbXBvbmVudD4+JyArICdgJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChjdXJTdGF0ZSAhPT0gbmV4dFN0YXRlKSB7XG4gICAgICB0aGlzLl9wZXJmb3JtU2lkZUVmZmVjdHNGb3JUcmFuc2l0aW9uKGN1clN0YXRlLCBuZXh0U3RhdGUsIHNpZ25hbCwgZSk7XG4gICAgICB0aGlzLnN0YXRlLnRvdWNoYWJsZS50b3VjaFN0YXRlID0gbmV4dFN0YXRlO1xuICAgIH1cbiAgfSxcblxuICBfY2FuY2VsTG9uZ1ByZXNzRGVsYXlUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxvbmdQcmVzc0RlbGF5VGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy5sb25nUHJlc3NEZWxheVRpbWVvdXQpO1xuICAgIHRoaXMubG9uZ1ByZXNzRGVsYXlUaW1lb3V0ID0gbnVsbDtcbiAgfSxcblxuICBfaXNIaWdobGlnaHQ6IGZ1bmN0aW9uKHN0YXRlOiBTdGF0ZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBzdGF0ZSA9PT0gU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU4gfHxcbiAgICAgIHN0YXRlID09PSBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOXG4gICAgKTtcbiAgfSxcblxuICBfc2F2ZVByZXNzSW5Mb2NhdGlvbjogZnVuY3Rpb24oZTogUHJlc3NFdmVudCkge1xuICAgIGNvbnN0IHRvdWNoID0gZXh0cmFjdFNpbmdsZVRvdWNoKGUubmF0aXZlRXZlbnQpO1xuICAgIGNvbnN0IHBhZ2VYID0gdG91Y2ggJiYgdG91Y2gucGFnZVg7XG4gICAgY29uc3QgcGFnZVkgPSB0b3VjaCAmJiB0b3VjaC5wYWdlWTtcbiAgICBjb25zdCBsb2NhdGlvblggPSB0b3VjaCAmJiB0b3VjaC5sb2NhdGlvblg7XG4gICAgY29uc3QgbG9jYXRpb25ZID0gdG91Y2ggJiYgdG91Y2gubG9jYXRpb25ZO1xuICAgIHRoaXMucHJlc3NJbkxvY2F0aW9uID0ge3BhZ2VYLCBwYWdlWSwgbG9jYXRpb25YLCBsb2NhdGlvbll9O1xuICB9LFxuXG4gIF9nZXREaXN0YW5jZUJldHdlZW5Qb2ludHM6IGZ1bmN0aW9uKFxuICAgIGFYOiBudW1iZXIsXG4gICAgYVk6IG51bWJlcixcbiAgICBiWDogbnVtYmVyLFxuICAgIGJZOiBudW1iZXIsXG4gICk6IG51bWJlciB7XG4gICAgY29uc3QgZGVsdGFYID0gYVggLSBiWDtcbiAgICBjb25zdCBkZWx0YVkgPSBhWSAtIGJZO1xuICAgIHJldHVybiBNYXRoLnNxcnQoZGVsdGFYICogZGVsdGFYICsgZGVsdGFZICogZGVsdGFZKTtcbiAgfSxcblxuICAvKipcbiAgICogV2lsbCBwZXJmb3JtIGEgdHJhbnNpdGlvbiBiZXR3ZWVuIHRvdWNoYWJsZSBzdGF0ZXMsIGFuZCBpZGVudGlmeSBhbnlcbiAgICogaGlnaGxpZ2h0aW5nIG9yIHVuaGlnaGxpZ2h0aW5nIHRoYXQgbXVzdCBiZSBwZXJmb3JtZWQgZm9yIHRoaXMgcGFydGljdWxhclxuICAgKiB0cmFuc2l0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0YXRlc30gY3VyU3RhdGUgQ3VycmVudCBUb3VjaGFibGUgc3RhdGUuXG4gICAqIEBwYXJhbSB7U3RhdGVzfSBuZXh0U3RhdGUgTmV4dCBUb3VjaGFibGUgc3RhdGUuXG4gICAqIEBwYXJhbSB7U2lnbmFsfSBzaWduYWwgU2lnbmFsIHRoYXQgdHJpZ2dlcmVkIHRoZSB0cmFuc2l0aW9uLlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIE5hdGl2ZSBldmVudC5cbiAgICogQHNpZGVlZmZlY3RzXG4gICAqL1xuICBfcGVyZm9ybVNpZGVFZmZlY3RzRm9yVHJhbnNpdGlvbjogZnVuY3Rpb24oXG4gICAgY3VyU3RhdGU6IFN0YXRlLFxuICAgIG5leHRTdGF0ZTogU3RhdGUsXG4gICAgc2lnbmFsOiBTaWduYWwsXG4gICAgZTogUHJlc3NFdmVudCxcbiAgKSB7XG4gICAgY29uc3QgY3VySXNIaWdobGlnaHQgPSB0aGlzLl9pc0hpZ2hsaWdodChjdXJTdGF0ZSk7XG4gICAgY29uc3QgbmV3SXNIaWdobGlnaHQgPSB0aGlzLl9pc0hpZ2hsaWdodChuZXh0U3RhdGUpO1xuXG4gICAgY29uc3QgaXNGaW5hbFNpZ25hbCA9XG4gICAgICBzaWduYWwgPT09IFNpZ25hbHMuUkVTUE9OREVSX1RFUk1JTkFURUQgfHxcbiAgICAgIHNpZ25hbCA9PT0gU2lnbmFscy5SRVNQT05ERVJfUkVMRUFTRTtcblxuICAgIGlmIChpc0ZpbmFsU2lnbmFsKSB7XG4gICAgICB0aGlzLl9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQoKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc0luaXRpYWxUcmFuc2l0aW9uID1cbiAgICAgIGN1clN0YXRlID09PSBTdGF0ZXMuTk9UX1JFU1BPTkRFUiAmJlxuICAgICAgbmV4dFN0YXRlID09PSBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOO1xuXG4gICAgY29uc3QgaXNBY3RpdmVUcmFuc2l0aW9uID0gIUlzQWN0aXZlW2N1clN0YXRlXSAmJiBJc0FjdGl2ZVtuZXh0U3RhdGVdO1xuICAgIGlmIChpc0luaXRpYWxUcmFuc2l0aW9uIHx8IGlzQWN0aXZlVHJhbnNpdGlvbikge1xuICAgICAgdGhpcy5fcmVtZWFzdXJlTWV0cmljc09uQWN0aXZhdGlvbigpO1xuICAgIH1cblxuICAgIGlmIChJc1ByZXNzaW5nSW5bY3VyU3RhdGVdICYmIHNpZ25hbCA9PT0gU2lnbmFscy5MT05HX1BSRVNTX0RFVEVDVEVEKSB7XG4gICAgICB0aGlzLnRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzcyAmJiB0aGlzLnRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzcyhlKTtcbiAgICB9XG5cbiAgICBpZiAobmV3SXNIaWdobGlnaHQgJiYgIWN1cklzSGlnaGxpZ2h0KSB7XG4gICAgICB0aGlzLl9zdGFydEhpZ2hsaWdodChlKTtcbiAgICB9IGVsc2UgaWYgKCFuZXdJc0hpZ2hsaWdodCAmJiBjdXJJc0hpZ2hsaWdodCkge1xuICAgICAgdGhpcy5fZW5kSGlnaGxpZ2h0KGUpO1xuICAgIH1cblxuICAgIGlmIChJc1ByZXNzaW5nSW5bY3VyU3RhdGVdICYmIHNpZ25hbCA9PT0gU2lnbmFscy5SRVNQT05ERVJfUkVMRUFTRSkge1xuICAgICAgY29uc3QgaGFzTG9uZ1ByZXNzSGFuZGxlciA9ICEhdGhpcy5wcm9wcy5vbkxvbmdQcmVzcztcbiAgICAgIGNvbnN0IHByZXNzSXNMb25nQnV0U3RpbGxDYWxsT25QcmVzcyA9XG4gICAgICAgIElzTG9uZ1ByZXNzaW5nSW5bY3VyU3RhdGVdICYmIC8vIFdlICphcmUqIGxvbmcgcHJlc3NpbmcuLiAvLyBCdXQgZWl0aGVyIGhhcyBubyBsb25nIGhhbmRsZXJcbiAgICAgICAgKCFoYXNMb25nUHJlc3NIYW5kbGVyIHx8ICF0aGlzLnRvdWNoYWJsZUxvbmdQcmVzc0NhbmNlbHNQcmVzcygpKTsgLy8gb3Igd2UncmUgdG9sZCB0byBpZ25vcmUgaXQuXG5cbiAgICAgIGNvbnN0IHNob3VsZEludm9rZVByZXNzID1cbiAgICAgICAgIUlzTG9uZ1ByZXNzaW5nSW5bY3VyU3RhdGVdIHx8IHByZXNzSXNMb25nQnV0U3RpbGxDYWxsT25QcmVzcztcbiAgICAgIGlmIChzaG91bGRJbnZva2VQcmVzcyAmJiB0aGlzLnRvdWNoYWJsZUhhbmRsZVByZXNzKSB7XG4gICAgICAgIGlmICghbmV3SXNIaWdobGlnaHQgJiYgIWN1cklzSGlnaGxpZ2h0KSB7XG4gICAgICAgICAgLy8gd2UgbmV2ZXIgaGlnaGxpZ2h0ZWQgYmVjYXVzZSBvZiBkZWxheSwgYnV0IHdlIHNob3VsZCBoaWdobGlnaHQgbm93XG4gICAgICAgICAgdGhpcy5fc3RhcnRIaWdobGlnaHQoZSk7XG4gICAgICAgICAgdGhpcy5fZW5kSGlnaGxpZ2h0KGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnICYmICF0aGlzLnByb3BzLnRvdWNoU291bmREaXNhYmxlZCkge1xuICAgICAgICAgIFNvdW5kTWFuYWdlci5wbGF5VG91Y2hTb3VuZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG91Y2hhYmxlSGFuZGxlUHJlc3MoZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy50b3VjaGFibGVEZWxheVRpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KHRoaXMudG91Y2hhYmxlRGVsYXlUaW1lb3V0KTtcbiAgICB0aGlzLnRvdWNoYWJsZURlbGF5VGltZW91dCA9IG51bGw7XG4gIH0sXG5cbiAgX3N0YXJ0SGlnaGxpZ2h0OiBmdW5jdGlvbihlOiBQcmVzc0V2ZW50KSB7XG4gICAgdGhpcy5fc2F2ZVByZXNzSW5Mb2NhdGlvbihlKTtcbiAgICB0aGlzLnRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW4gJiYgdGhpcy50b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc0luKGUpO1xuICB9LFxuXG4gIF9lbmRIaWdobGlnaHQ6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICBpZiAodGhpcy50b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc091dCkge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUyAmJlxuICAgICAgICB0aGlzLnRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUygpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5wcmVzc091dERlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMudG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQoZSk7XG4gICAgICAgIH0sIHRoaXMudG91Y2hhYmxlR2V0UHJlc3NPdXREZWxheU1TKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc091dChlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgd2l0aG91dERlZmF1bHRGb2N1c0FuZEJsdXI6ICh7fTogJFRFTVBPUkFSWSRvYmplY3Q8e3x8fT4pLFxufTtcblxuLyoqXG4gKiBQcm92aWRlIGFuIG9wdGlvbmFsIHZlcnNpb24gb2YgdGhlIG1peGluIHdoZXJlIGB0b3VjaGFibGVIYW5kbGVGb2N1c2AgYW5kXG4gKiBgdG91Y2hhYmxlSGFuZGxlQmx1cmAgY2FuIGJlIG92ZXJyaWRkZW4uIFRoaXMgYWxsb3dzIGFwcHJvcHJpYXRlIGRlZmF1bHRzIHRvXG4gKiBiZSBzZXQgb24gVFYgcGxhdGZvcm1zLCB3aXRob3V0IGJyZWFraW5nIGV4aXN0aW5nIGltcGxlbWVudGF0aW9ucyBvZlxuICogYFRvdWNoYWJsZWAuXG4gKi9cbmNvbnN0IHtcbiAgdG91Y2hhYmxlSGFuZGxlRm9jdXMsXG4gIHRvdWNoYWJsZUhhbmRsZUJsdXIsXG4gIC4uLlRvdWNoYWJsZU1peGluV2l0aG91dERlZmF1bHRGb2N1c0FuZEJsdXJcbn0gPSBUb3VjaGFibGVNaXhpbjtcblRvdWNoYWJsZU1peGluLndpdGhvdXREZWZhdWx0Rm9jdXNBbmRCbHVyID0gVG91Y2hhYmxlTWl4aW5XaXRob3V0RGVmYXVsdEZvY3VzQW5kQmx1cjtcblxuY29uc3QgVG91Y2hhYmxlID0ge1xuICBNaXhpbjogVG91Y2hhYmxlTWl4aW4sXG4gIFRPVUNIX1RBUkdFVF9ERUJVRzogZmFsc2UsIC8vIEhpZ2hsaWdodHMgYWxsIHRvdWNoYWJsZSB0YXJnZXRzLiBUb2dnbGUgd2l0aCBJbnNwZWN0b3IuXG4gIC8qKlxuICAgKiBSZW5kZXJzIGEgZGVidWdnaW5nIG92ZXJsYXkgdG8gdmlzdWFsaXplIHRvdWNoIHRhcmdldCB3aXRoIGhpdFNsb3AgKG1pZ2h0IG5vdCB3b3JrIG9uIEFuZHJvaWQpLlxuICAgKi9cbiAgcmVuZGVyRGVidWdWaWV3OiAoe1xuICAgIGNvbG9yLFxuICAgIGhpdFNsb3AsXG4gIH06IHtcbiAgICBjb2xvcjogc3RyaW5nIHwgbnVtYmVyLFxuICAgIGhpdFNsb3A6IEVkZ2VJbnNldHNQcm9wLFxuICAgIC4uLlxuICB9KTogbnVsbCB8IFJlYWN0Lk5vZGUgPT4ge1xuICAgIGlmICghVG91Y2hhYmxlLlRPVUNIX1RBUkdFVF9ERUJVRykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICghX19ERVZfXykge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICdUb3VjaGFibGUuVE9VQ0hfVEFSR0VUX0RFQlVHIHNob3VsZCBub3QgYmUgZW5hYmxlZCBpbiBwcm9kIScsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBkZWJ1Z0hpdFNsb3BTdHlsZSA9IHt9O1xuICAgIGhpdFNsb3AgPSBoaXRTbG9wIHx8IHt0b3A6IDAsIGJvdHRvbTogMCwgbGVmdDogMCwgcmlnaHQ6IDB9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGhpdFNsb3ApIHtcbiAgICAgIGRlYnVnSGl0U2xvcFN0eWxlW2tleV0gPSAtaGl0U2xvcFtrZXldO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkQ29sb3IgPSBub3JtYWxpemVDb2xvcihjb2xvcik7XG4gICAgaWYgKHR5cGVvZiBub3JtYWxpemVkQ29sb3IgIT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgaGV4Q29sb3IgPVxuICAgICAgJyMnICsgKCcwMDAwMDAwMCcgKyBub3JtYWxpemVkQ29sb3IudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTgpO1xuICAgIHJldHVybiAoXG4gICAgICA8Vmlld1xuICAgICAgICBwb2ludGVyRXZlbnRzPVwibm9uZVwiXG4gICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgc3R5bGVzLmRlYnVnLFxuICAgICAgICAgIC8qICRGbG93Rml4TWUoPj0wLjExMS4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3Nlc1xuICAgICAgICAgICAqIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC4xMTEgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yLFxuICAgICAgICAgICAqIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiBoZXhDb2xvci5zbGljZSgwLCAtMikgKyAnNTUnLCAvLyBNb3JlIG9wYXF1ZVxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBoZXhDb2xvci5zbGljZSgwLCAtMikgKyAnMEYnLCAvLyBMZXNzIG9wYXF1ZVxuICAgICAgICAgICAgLi4uZGVidWdIaXRTbG9wU3R5bGUsXG4gICAgICAgICAgfSxcbiAgICAgICAgXX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfSxcbn07XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgZGVidWc6IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICBib3JkZXJXaWR0aDogMSxcbiAgICBib3JkZXJTdHlsZTogJ2Rhc2hlZCcsXG4gIH0sXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBUb3VjaGFibGU7XG4iXX0=