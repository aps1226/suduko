ae60088144362d6f05a5706016729e2b
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getFilename = getFilename;
exports.getFileExtension = getFileExtension;
exports.getManifestBaseUrl = getManifestBaseUrl;

var _urlParse = _interopRequireDefault(require("url-parse"));

function getFilename(url) {
  var _URL = new _urlParse.default(url, {}),
      pathname = _URL.pathname;

  return pathname.substring(pathname.lastIndexOf('/') + 1);
}

function getFileExtension(url) {
  var filename = getFilename(url);
  var dotIndex = filename.lastIndexOf('.');
  return dotIndex > 0 ? filename.substring(dotIndex) : '';
}

function getManifestBaseUrl(manifestUrl) {
  var urlObject = new _urlParse.default(manifestUrl, {});

  if (urlObject.protocol === 'exp:') {
    urlObject.set('protocol', 'http:');
  } else if (urlObject.protocol === 'exps:') {
    urlObject.set('protocol', 'https:');
  }

  var directory = urlObject.pathname.substring(0, urlObject.pathname.lastIndexOf('/') + 1);
  urlObject.set('pathname', directory);
  urlObject.set('query', '');
  urlObject.set('hash', '');
  return urlObject.href;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9Bc3NldFVyaXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBRU0sU0FBVSxXQUFWLENBQXNCLEdBQXRCLEVBQWlDO0FBQ3JDLGFBQXFCLElBQUksaUJBQUosQ0FBUSxHQUFSLEVBQWEsRUFBYixDQUFyQjtBQUFBLE1BQVEsUUFBUixRQUFRLFFBQVI7O0FBQ0EsU0FBTyxRQUFRLENBQUMsU0FBVCxDQUFtQixRQUFRLENBQUMsV0FBVCxDQUFxQixHQUFyQixJQUE0QixDQUEvQyxDQUFQO0FBQ0Q7O0FBRUssU0FBVSxnQkFBVixDQUEyQixHQUEzQixFQUFzQztBQUMxQyxNQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsR0FBRCxDQUE1QjtBQUNBLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxXQUFULENBQXFCLEdBQXJCLENBQWpCO0FBRUEsU0FBTyxRQUFRLEdBQUcsQ0FBWCxHQUFlLFFBQVEsQ0FBQyxTQUFULENBQW1CLFFBQW5CLENBQWYsR0FBOEMsRUFBckQ7QUFDRDs7QUFhSyxTQUFVLGtCQUFWLENBQTZCLFdBQTdCLEVBQWdEO0FBQ3BELE1BQU0sU0FBUyxHQUFHLElBQUksaUJBQUosQ0FBUSxXQUFSLEVBQXFCLEVBQXJCLENBQWxCOztBQUdBLE1BQUksU0FBUyxDQUFDLFFBQVYsS0FBdUIsTUFBM0IsRUFBbUM7QUFDakMsSUFBQSxTQUFTLENBQUMsR0FBVixDQUFjLFVBQWQsRUFBMEIsT0FBMUI7QUFDRCxHQUZELE1BRU8sSUFBSSxTQUFTLENBQUMsUUFBVixLQUF1QixPQUEzQixFQUFvQztBQUN6QyxJQUFBLFNBQVMsQ0FBQyxHQUFWLENBQWMsVUFBZCxFQUEwQixRQUExQjtBQUNEOztBQUdELE1BQU0sU0FBUyxHQUFHLFNBQVMsQ0FBQyxRQUFWLENBQW1CLFNBQW5CLENBQTZCLENBQTdCLEVBQWdDLFNBQVMsQ0FBQyxRQUFWLENBQW1CLFdBQW5CLENBQStCLEdBQS9CLElBQXNDLENBQXRFLENBQWxCO0FBQ0EsRUFBQSxTQUFTLENBQUMsR0FBVixDQUFjLFVBQWQsRUFBMEIsU0FBMUI7QUFDQSxFQUFBLFNBQVMsQ0FBQyxHQUFWLENBQWMsT0FBZCxFQUF1QixFQUF2QjtBQUNBLEVBQUEsU0FBUyxDQUFDLEdBQVYsQ0FBYyxNQUFkLEVBQXNCLEVBQXRCO0FBRUEsU0FBTyxTQUFTLENBQUMsSUFBakI7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVUkwgZnJvbSAndXJsLXBhcnNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVuYW1lKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgeyBwYXRobmFtZSB9ID0gbmV3IFVSTCh1cmwsIHt9KTtcbiAgcmV0dXJuIHBhdGhuYW1lLnN1YnN0cmluZyhwYXRobmFtZS5sYXN0SW5kZXhPZignLycpICsgMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlRXh0ZW5zaW9uKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgZmlsZW5hbWUgPSBnZXRGaWxlbmFtZSh1cmwpO1xuICBjb25zdCBkb3RJbmRleCA9IGZpbGVuYW1lLmxhc3RJbmRleE9mKCcuJyk7XG4gIC8vIElnbm9yZSBsZWFkaW5nIGRvdHMgZm9yIGhpZGRlbiBmaWxlc1xuICByZXR1cm4gZG90SW5kZXggPiAwID8gZmlsZW5hbWUuc3Vic3RyaW5nKGRvdEluZGV4KSA6ICcnO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGJhc2UgVVJMIGZyb20gYSBtYW5pZmVzdCdzIFVSTC4gRm9yIGV4YW1wbGUsIGdpdmVuIGEgbWFuaWZlc3QgaG9zdGVkIGF0XG4gKiBodHRwczovL2V4YW1wbGUuY29tL2FwcC9tYW5pZmVzdC5qc29uLCB0aGUgYmFzZSBVUkwgd291bGQgYmUgaHR0cHM6Ly9leGFtcGxlLmNvbS9hcHAvLiBRdWVyeVxuICogcGFyYW1ldGVycyBhbmQgZnJhZ21lbnRzIGFsc28gYXJlIHJlbW92ZWQuXG4gKlxuICogRm9yIGFuIEV4cG8taG9zdGVkIHByb2plY3Qgd2l0aCBhIG1hbmlmZXN0IGhvc3RlZCBhdCBodHRwczovL2V4cG8uaW8vQHVzZXIvcHJvamVjdC9pbmRleC5leHAsIHRoZVxuICogYmFzZSBVUkwgd291bGQgYmUgaHR0cHM6Ly9leHBvLmlvL0B1c2VyL3Byb2plY3QuXG4gKlxuICogV2UgYWxzbyBub3JtYWxpemUgdGhlIFwiZXhwXCIgcHJvdG9jb2wgdG8gXCJodHRwXCIgdG8gaGFuZGxlIGludGVybmFsIFVSTHMgd2l0aCB0aGUgRXhwbyBzY2hlbWVzIHVzZWRcbiAqIHRvIHRlbGwgdGhlIE9TIHRvIG9wZW4gdGhlIFVSTHMgaW4gdGhlIHRoZSBFeHBvIGNsaWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1hbmlmZXN0QmFzZVVybChtYW5pZmVzdFVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgdXJsT2JqZWN0ID0gbmV3IFVSTChtYW5pZmVzdFVybCwge30pO1xuXG4gIC8vIENoYW5nZSB0aGUgc2NoZW1lIHRvIGh0dHAocykgaWYgaXQgaXMgZXhwKHMpXG4gIGlmICh1cmxPYmplY3QucHJvdG9jb2wgPT09ICdleHA6Jykge1xuICAgIHVybE9iamVjdC5zZXQoJ3Byb3RvY29sJywgJ2h0dHA6Jyk7XG4gIH0gZWxzZSBpZiAodXJsT2JqZWN0LnByb3RvY29sID09PSAnZXhwczonKSB7XG4gICAgdXJsT2JqZWN0LnNldCgncHJvdG9jb2wnLCAnaHR0cHM6Jyk7XG4gIH1cblxuICAvLyBUcmltIGZpbGVuYW1lLCBxdWVyeSBwYXJhbWV0ZXJzLCBhbmQgZnJhZ21lbnQsIGlmIGFueVxuICBjb25zdCBkaXJlY3RvcnkgPSB1cmxPYmplY3QucGF0aG5hbWUuc3Vic3RyaW5nKDAsIHVybE9iamVjdC5wYXRobmFtZS5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gIHVybE9iamVjdC5zZXQoJ3BhdGhuYW1lJywgZGlyZWN0b3J5KTtcbiAgdXJsT2JqZWN0LnNldCgncXVlcnknLCAnJyk7XG4gIHVybE9iamVjdC5zZXQoJ2hhc2gnLCAnJyk7XG5cbiAgcmV0dXJuIHVybE9iamVjdC5ocmVmO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==