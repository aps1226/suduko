267b6519e09c6b40d5a77488ea8b2c31
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = overlay;

var _color = _interopRequireDefault(require("color"));

var _reactNative = require("react-native");

var _DarkTheme = _interopRequireDefault(require("./DarkTheme"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

var isAnimatedValue = function isAnimatedValue(it) {
  return it instanceof _reactNative.Animated.Value;
};

function overlay(elevation) {
  var surfaceColor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _DarkTheme.default.colors.surface;

  if (isAnimatedValue(elevation)) {
    var inputRange = [0, 1, 2, 3, 8, 24];
    return elevation.interpolate({
      inputRange: inputRange,
      outputRange: inputRange.map(function (elevation) {
        return calculateColor(surfaceColor, elevation);
      })
    });
  }

  return calculateColor(surfaceColor, elevation);
}

function calculateColor(surfaceColor) {
  var elevation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
  var overlayTransparency;

  if (elevation >= 1 && elevation <= 24) {
    overlayTransparency = elevationOverlayTransparency[elevation];
  } else if (elevation > 24) {
    overlayTransparency = elevationOverlayTransparency[24];
  } else {
    overlayTransparency = elevationOverlayTransparency[1];
  }

  return (0, _color.default)(surfaceColor).mix((0, _color.default)('white'), overlayTransparency * 0.01).hex();
}

var elevationOverlayTransparency = {
  1: 5,
  2: 7,
  3: 8,
  4: 9,
  5: 10,
  6: 11,
  7: 11.5,
  8: 12,
  9: 12.5,
  10: 13,
  11: 13.5,
  12: 14,
  13: 14.25,
  14: 14.5,
  15: 14.75,
  16: 15,
  17: 15.12,
  18: 15.24,
  19: 15.36,
  20: 15.48,
  21: 15.6,
  22: 15.72,
  23: 15.84,
  24: 16
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm92ZXJsYXkudHN4Il0sIm5hbWVzIjpbImlzQW5pbWF0ZWRWYWx1ZSIsIml0IiwiQW5pbWF0ZWQiLCJzdXJmYWNlQ29sb3IiLCJEYXJrVGhlbWUiLCJpbnB1dFJhbmdlIiwib3V0cHV0UmFuZ2UiLCJlbGV2YXRpb24iLCJjYWxjdWxhdGVDb2xvciIsIm92ZXJsYXlUcmFuc3BhcmVuY3kiLCJlbGV2YXRpb25PdmVybGF5VHJhbnNwYXJlbmN5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQSxNQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEsT0FBQSxDQUFBLENBQUE7O0FBQ0EsSUFBQSxZQUFBLEdBQUEsT0FBQSxDQUFBLGNBQUEsQ0FBQTs7QUFDQSxJQUFBLFVBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsZUFBQSxDQUFBOzs7Ozs7OztBQUVBLElBQU1BLGVBQWUsR0FDbkJDLFNBRElELGVBQ0pDLENBQUFBLEVBRHNCO0FBQUEsU0FFR0EsRUFBRSxZQUFZQyxZQUFBQSxDQUFBQSxRQUFBQSxDQUZ6QyxLQUF3QjtBQUFBLENBQXhCOztBQUllLFNBQUEsT0FBQSxDQUFBLFNBQUEsRUFHK0M7QUFBQSxNQUQ1REMsWUFDNEQsdUVBRHJDQyxVQUFBQSxDQUFBQSxPQUFBQSxDQUFBQSxNQUFBQSxDQUZWLE9BRytDOztBQUM1RCxNQUFJSixlQUFlLENBQW5CLFNBQW1CLENBQW5CLEVBQWdDO0FBQzlCLFFBQU1LLFVBQVUsR0FBRyxDQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBRFcsRUFDWCxDQUFuQjtBQUdBLFdBQU8sU0FBUyxDQUFULFdBQUEsQ0FBc0I7QUFDM0JBLE1BQUFBLFVBRDJCLEVBQzNCQSxVQUQyQjtBQUUzQkMsTUFBQUEsV0FBVyxFQUFFLFVBQVUsQ0FBVixHQUFBLENBQWdCQyxVQUFBQSxTQUFELEVBQWU7QUFDekMsZUFBT0MsY0FBYyxDQUFBLFlBQUEsRUFBckIsU0FBcUIsQ0FBckI7QUFEVyxPQUFBO0FBRmMsS0FBdEIsQ0FBUDtBQUwwRDs7QUFjNUQsU0FBT0EsY0FBYyxDQUFBLFlBQUEsRUFBckIsU0FBcUIsQ0FBckI7QUFDRDs7QUFFRCxTQUFBLGNBQUEsQ0FBQSxZQUFBLEVBQXFFO0FBQUEsTUFBdkJELFNBQXVCLHVFQUFyRSxDQUFxRTtBQUNuRSxNQUFBLG1CQUFBOztBQUNBLE1BQUlBLFNBQVMsSUFBVEEsQ0FBQUEsSUFBa0JBLFNBQVMsSUFBL0IsRUFBQSxFQUF1QztBQUNyQ0UsSUFBQUEsbUJBQW1CLEdBQUdDLDRCQUE0QixDQUFsREQsU0FBa0QsQ0FBbERBO0FBREYsR0FBQSxNQUVPLElBQUlGLFNBQVMsR0FBYixFQUFBLEVBQW9CO0FBQ3pCRSxJQUFBQSxtQkFBbUIsR0FBR0MsNEJBQTRCLENBQWxERCxFQUFrRCxDQUFsREE7QUFESyxHQUFBLE1BRUE7QUFDTEEsSUFBQUEsbUJBQW1CLEdBQUdDLDRCQUE0QixDQUFsREQsQ0FBa0QsQ0FBbERBO0FBQ0Q7O0FBQ0QsU0FBTyxDQUFBLEdBQUEsTUFBQSxDQUFBLE9BQUEsRUFBQSxZQUFBLEVBQUEsR0FBQSxDQUNBLENBQUEsR0FBQSxNQUFBLENBQUEsT0FBQSxFQURBLE9BQ0EsQ0FEQSxFQUNnQkEsbUJBQW1CLEdBRG5DLElBQUEsRUFBUCxHQUFPLEVBQVA7QUFHRDs7QUFFRCxJQUFNQyw0QkFBb0QsR0FBRztBQUMzRCxLQUQyRCxDQUFBO0FBRTNELEtBRjJELENBQUE7QUFHM0QsS0FIMkQsQ0FBQTtBQUkzRCxLQUoyRCxDQUFBO0FBSzNELEtBTDJELEVBQUE7QUFNM0QsS0FOMkQsRUFBQTtBQU8zRCxLQVAyRCxJQUFBO0FBUTNELEtBUjJELEVBQUE7QUFTM0QsS0FUMkQsSUFBQTtBQVUzRCxNQVYyRCxFQUFBO0FBVzNELE1BWDJELElBQUE7QUFZM0QsTUFaMkQsRUFBQTtBQWEzRCxNQWIyRCxLQUFBO0FBYzNELE1BZDJELElBQUE7QUFlM0QsTUFmMkQsS0FBQTtBQWdCM0QsTUFoQjJELEVBQUE7QUFpQjNELE1BakIyRCxLQUFBO0FBa0IzRCxNQWxCMkQsS0FBQTtBQW1CM0QsTUFuQjJELEtBQUE7QUFvQjNELE1BcEIyRCxLQUFBO0FBcUIzRCxNQXJCMkQsSUFBQTtBQXNCM0QsTUF0QjJELEtBQUE7QUF1QjNELE1BdkIyRCxLQUFBO0FBd0IzRCxNQUFJO0FBeEJ1RCxDQUE3RCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb2xvciBmcm9tICdjb2xvcic7XG5pbXBvcnQgeyBBbmltYXRlZCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgRGFya1RoZW1lIGZyb20gJy4vRGFya1RoZW1lJztcblxuY29uc3QgaXNBbmltYXRlZFZhbHVlID0gKFxuICBpdDogbnVtYmVyIHwgQW5pbWF0ZWQuQW5pbWF0ZWRJbnRlcnBvbGF0aW9uXG4pOiBpdCBpcyBBbmltYXRlZC5WYWx1ZSA9PiBpdCBpbnN0YW5jZW9mIEFuaW1hdGVkLlZhbHVlO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvdmVybGF5PFQgZXh0ZW5kcyBBbmltYXRlZC5WYWx1ZSB8IG51bWJlcj4oXG4gIGVsZXZhdGlvbjogVCxcbiAgc3VyZmFjZUNvbG9yOiBzdHJpbmcgPSBEYXJrVGhlbWUuY29sb3JzLnN1cmZhY2Vcbik6IFQgZXh0ZW5kcyBudW1iZXIgPyBzdHJpbmcgOiBBbmltYXRlZC5BbmltYXRlZEludGVycG9sYXRpb24ge1xuICBpZiAoaXNBbmltYXRlZFZhbHVlKGVsZXZhdGlvbikpIHtcbiAgICBjb25zdCBpbnB1dFJhbmdlID0gWzAsIDEsIDIsIDMsIDgsIDI0XTtcblxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IFRTIGRvZXNuJ3Qgc2VlbSB0byByZWZpbmUgdGhlIHR5cGUgY29ycmVjdGx5XG4gICAgcmV0dXJuIGVsZXZhdGlvbi5pbnRlcnBvbGF0ZSh7XG4gICAgICBpbnB1dFJhbmdlLFxuICAgICAgb3V0cHV0UmFuZ2U6IGlucHV0UmFuZ2UubWFwKChlbGV2YXRpb24pID0+IHtcbiAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZUNvbG9yKHN1cmZhY2VDb2xvciwgZWxldmF0aW9uKTtcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gQHRzLWV4cGVjdC1lcnJvcjogVFMgZG9lc24ndCBzZWVtIHRvIHJlZmluZSB0aGUgdHlwZSBjb3JyZWN0bHlcbiAgcmV0dXJuIGNhbGN1bGF0ZUNvbG9yKHN1cmZhY2VDb2xvciwgZWxldmF0aW9uKTtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlQ29sb3Ioc3VyZmFjZUNvbG9yOiBzdHJpbmcsIGVsZXZhdGlvbjogbnVtYmVyID0gMSkge1xuICBsZXQgb3ZlcmxheVRyYW5zcGFyZW5jeTogbnVtYmVyO1xuICBpZiAoZWxldmF0aW9uID49IDEgJiYgZWxldmF0aW9uIDw9IDI0KSB7XG4gICAgb3ZlcmxheVRyYW5zcGFyZW5jeSA9IGVsZXZhdGlvbk92ZXJsYXlUcmFuc3BhcmVuY3lbZWxldmF0aW9uXTtcbiAgfSBlbHNlIGlmIChlbGV2YXRpb24gPiAyNCkge1xuICAgIG92ZXJsYXlUcmFuc3BhcmVuY3kgPSBlbGV2YXRpb25PdmVybGF5VHJhbnNwYXJlbmN5WzI0XTtcbiAgfSBlbHNlIHtcbiAgICBvdmVybGF5VHJhbnNwYXJlbmN5ID0gZWxldmF0aW9uT3ZlcmxheVRyYW5zcGFyZW5jeVsxXTtcbiAgfVxuICByZXR1cm4gY29sb3Ioc3VyZmFjZUNvbG9yKVxuICAgIC5taXgoY29sb3IoJ3doaXRlJyksIG92ZXJsYXlUcmFuc3BhcmVuY3kgKiAwLjAxKVxuICAgIC5oZXgoKTtcbn1cblxuY29uc3QgZWxldmF0aW9uT3ZlcmxheVRyYW5zcGFyZW5jeTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcbiAgMTogNSxcbiAgMjogNyxcbiAgMzogOCxcbiAgNDogOSxcbiAgNTogMTAsXG4gIDY6IDExLFxuICA3OiAxMS41LFxuICA4OiAxMixcbiAgOTogMTIuNSxcbiAgMTA6IDEzLFxuICAxMTogMTMuNSxcbiAgMTI6IDE0LFxuICAxMzogMTQuMjUsXG4gIDE0OiAxNC41LFxuICAxNTogMTQuNzUsXG4gIDE2OiAxNSxcbiAgMTc6IDE1LjEyLFxuICAxODogMTUuMjQsXG4gIDE5OiAxNS4zNixcbiAgMjA6IDE1LjQ4LFxuICAyMTogMTUuNixcbiAgMjI6IDE1LjcyLFxuICAyMzogMTUuODQsXG4gIDI0OiAxNixcbn07XG4iXX0=