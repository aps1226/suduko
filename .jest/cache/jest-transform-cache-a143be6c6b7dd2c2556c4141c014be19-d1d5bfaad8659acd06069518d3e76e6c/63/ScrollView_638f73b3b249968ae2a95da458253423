b66e6370abd5e8cbe215757e369940fe
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _ScrollViewNativeComponent = _interopRequireDefault(require("./ScrollViewNativeComponent"));

var _ScrollContentViewNativeComponent = _interopRequireDefault(require("./ScrollContentViewNativeComponent"));

var _AndroidHorizontalScrollViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollViewNativeComponent"));

var _AndroidHorizontalScrollContentViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollContentViewNativeComponent"));

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var AnimatedImplementation = require("../../Animated/src/AnimatedImplementation");

var Platform = require("../../Utilities/Platform");

var React = require('react');

var ReactNative = require("../../Renderer/shims/ReactNative");

require("../../Renderer/shims/ReactNative");

var ScrollResponder = require("../ScrollResponder");

var ScrollViewStickyHeader = require("./ScrollViewStickyHeader");

var StyleSheet = require("../../StyleSheet/StyleSheet");

var View = require("../View/View");

var dismissKeyboard = require("../../Utilities/dismissKeyboard");

var flattenStyle = require("../../StyleSheet/flattenStyle");

var invariant = require('invariant');

var processDecelerationRate = require("./processDecelerationRate");

var resolveAssetSource = require("../../Image/resolveAssetSource");

var splitLayoutProps = require("../../StyleSheet/splitLayoutProps");

var setAndForwardRef = require("../../Utilities/setAndForwardRef");

var AndroidScrollView;
var AndroidHorizontalScrollContentView;
var AndroidHorizontalScrollView;
var RCTScrollView;
var RCTScrollContentView;

if (Platform.OS === 'android') {
  AndroidScrollView = _ScrollViewNativeComponent.default;
  AndroidHorizontalScrollView = _AndroidHorizontalScrollViewNativeComponent.default;
  AndroidHorizontalScrollContentView = _AndroidHorizontalScrollContentViewNativeComponent.default;
} else {
  RCTScrollView = _ScrollViewNativeComponent.default;
  RCTScrollContentView = _ScrollContentViewNativeComponent.default;
}

function createScrollResponder(node) {
  var scrollResponder = _objectSpread({}, ScrollResponder.Mixin);

  for (var key in scrollResponder) {
    if (typeof scrollResponder[key] === 'function') {
      scrollResponder[key] = scrollResponder[key].bind(node);
    }
  }

  return scrollResponder;
}

var Context = React.createContext(null);
var standardHorizontalContext = Object.freeze({
  horizontal: true
});
var standardVerticalContext = Object.freeze({
  horizontal: false
});

var ScrollView = function (_React$Component) {
  (0, _inherits2.default)(ScrollView, _React$Component);

  var _super = _createSuper(ScrollView);

  function ScrollView(props) {
    var _this;

    (0, _classCallCheck2.default)(this, ScrollView);
    _this = _super.call(this, props);
    _this._scrollResponder = createScrollResponder((0, _assertThisInitialized2.default)(_this));
    _this._scrollAnimatedValue = new AnimatedImplementation.Value(0);
    _this._scrollAnimatedValueAttachment = null;
    _this._stickyHeaderRefs = new Map();
    _this._headerLayoutYs = new Map();
    _this.state = _objectSpread({
      layoutHeight: null
    }, ScrollResponder.Mixin.scrollResponderMixinGetInitialState());
    _this._setNativeRef = setAndForwardRef({
      getForwardedRef: function getForwardedRef() {
        return _this.props.scrollViewRef;
      },
      setLocalRef: function setLocalRef(ref) {
        _this._scrollViewRef = ref;

        if (ref) {
          ref.getScrollResponder = _this.getScrollResponder;
          ref.getScrollableNode = _this.getScrollableNode;
          ref.getInnerViewNode = _this.getInnerViewNode;
          ref.getInnerViewRef = _this.getInnerViewRef;
          ref.getNativeScrollRef = _this.getNativeScrollRef;
          ref.scrollTo = _this.scrollTo;
          ref.scrollToEnd = _this.scrollToEnd;
          ref.flashScrollIndicators = _this.flashScrollIndicators;
          ref.scrollResponderZoomTo = _this.scrollResponderZoomTo;
          ref.scrollResponderScrollNativeHandleToKeyboard = _this.scrollResponderScrollNativeHandleToKeyboard;
        }
      }
    });

    _this.getScrollResponder = function () {
      return (0, _assertThisInitialized2.default)(_this);
    };

    _this.getScrollableNode = function () {
      return ReactNative.findNodeHandle(_this._scrollViewRef);
    };

    _this.getNativeScrollRef = function () {
      return _this._scrollViewRef;
    };

    _this.scrollTo = function (options, deprecatedX, deprecatedAnimated) {
      var x, y, animated;

      if (typeof options === 'number') {
        console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
        y = options;
        x = deprecatedX;
        animated = deprecatedAnimated;
      } else if (options) {
        y = options.y;
        x = options.x;
        animated = options.animated;
      }

      _this._scrollResponder.scrollResponderScrollTo({
        x: x || 0,
        y: y || 0,
        animated: animated !== false
      });
    };

    _this.scrollToEnd = function (options) {
      var animated = (options && options.animated) !== false;

      _this._scrollResponder.scrollResponderScrollToEnd({
        animated: animated
      });
    };

    _this.flashScrollIndicators = function () {
      _this._scrollResponder.scrollResponderFlashScrollIndicators();
    };

    _this._handleScroll = function (e) {
      if (__DEV__) {
        if (_this.props.onScroll && _this.props.scrollEventThrottle == null && Platform.OS === 'ios') {
          console.log('You specified `onScroll` on a <ScrollView> but not ' + '`scrollEventThrottle`. You will only receive one event. ' + 'Using `16` you get all the events but be aware that it may ' + "cause frame drops, use a bigger number if you don't need as " + 'much precision.');
        }
      }

      if (Platform.OS === 'android') {
        if (_this.props.keyboardDismissMode === 'on-drag' && _this.state.isTouching) {
          dismissKeyboard();
        }
      }

      _this._scrollResponder.scrollResponderHandleScroll(e);
    };

    _this._handleLayout = function (e) {
      if (_this.props.invertStickyHeaders === true) {
        _this.setState({
          layoutHeight: e.nativeEvent.layout.height
        });
      }

      if (_this.props.onLayout) {
        _this.props.onLayout(e);
      }
    };

    _this._handleContentOnLayout = function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
          width = _e$nativeEvent$layout.width,
          height = _e$nativeEvent$layout.height;
      _this.props.onContentSizeChange && _this.props.onContentSizeChange(width, height);
    };

    _this._scrollViewRef = null;
    _this._innerViewRef = null;
    _this._setInnerViewRef = setAndForwardRef({
      getForwardedRef: function getForwardedRef() {
        return _this.props.innerViewRef;
      },
      setLocalRef: function setLocalRef(ref) {
        _this._innerViewRef = ref;
      }
    });

    for (var key in ScrollResponder.Mixin) {
      if (typeof ScrollResponder.Mixin[key] === 'function' && key.startsWith('scrollResponder')) {
        (0, _assertThisInitialized2.default)(_this)[key] = ScrollResponder.Mixin[key].bind((0, _assertThisInitialized2.default)(_this));
      }
    }

    Object.keys(ScrollResponder.Mixin).filter(function (key) {
      return typeof ScrollResponder.Mixin[key] !== 'function';
    }).forEach(function (key) {
      (0, _assertThisInitialized2.default)(_this)[key] = ScrollResponder.Mixin[key];
    });
    return _this;
  }

  (0, _createClass2.default)(ScrollView, [{
    key: "UNSAFE_componentWillMount",
    value: function UNSAFE_componentWillMount() {
      var _this$props$contentOf, _this$props$contentOf2, _this$props$contentIn, _this$props$contentIn2;

      this._scrollResponder.UNSAFE_componentWillMount();

      this._scrollAnimatedValue = new AnimatedImplementation.Value((_this$props$contentOf = (_this$props$contentOf2 = this.props.contentOffset) == null ? void 0 : _this$props$contentOf2.y) != null ? _this$props$contentOf : 0);

      this._scrollAnimatedValue.setOffset((_this$props$contentIn = (_this$props$contentIn2 = this.props.contentInset) == null ? void 0 : _this$props$contentIn2.top) != null ? _this$props$contentIn : 0);

      this._stickyHeaderRefs = new Map();
      this._headerLayoutYs = new Map();
    }
  }, {
    key: "UNSAFE_componentWillReceiveProps",
    value: function UNSAFE_componentWillReceiveProps(nextProps) {
      var currentContentInsetTop = this.props.contentInset ? this.props.contentInset.top : 0;
      var nextContentInsetTop = nextProps.contentInset ? nextProps.contentInset.top : 0;

      if (currentContentInsetTop !== nextContentInsetTop) {
        this._scrollAnimatedValue.setOffset(nextContentInsetTop || 0);
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this._scrollResponder.componentWillUnmount();

      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
    }
  }, {
    key: "getInnerViewNode",
    value: function getInnerViewNode() {
      return ReactNative.findNodeHandle(this._innerViewRef);
    }
  }, {
    key: "getInnerViewRef",
    value: function getInnerViewRef() {
      return this._innerViewRef;
    }
  }, {
    key: "_getKeyForIndex",
    value: function _getKeyForIndex(index, childArray) {
      var child = childArray[index];
      return child && child.key;
    }
  }, {
    key: "_updateAnimatedNodeAttachment",
    value: function _updateAnimatedNodeAttachment() {
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }

      if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
        this._scrollAnimatedValueAttachment = AnimatedImplementation.attachNativeEvent(this._scrollViewRef, 'onScroll', [{
          nativeEvent: {
            contentOffset: {
              y: this._scrollAnimatedValue
            }
          }
        }]);
      }
    }
  }, {
    key: "_setStickyHeaderRef",
    value: function _setStickyHeaderRef(key, ref) {
      if (ref) {
        this._stickyHeaderRefs.set(key, ref);
      } else {
        this._stickyHeaderRefs.delete(key);
      }
    }
  }, {
    key: "_onStickyHeaderLayout",
    value: function _onStickyHeaderLayout(index, event, key) {
      var stickyHeaderIndices = this.props.stickyHeaderIndices;

      if (!stickyHeaderIndices) {
        return;
      }

      var childArray = React.Children.toArray(this.props.children);

      if (key !== this._getKeyForIndex(index, childArray)) {
        return;
      }

      var layoutY = event.nativeEvent.layout.y;

      this._headerLayoutYs.set(key, layoutY);

      var indexOfIndex = stickyHeaderIndices.indexOf(index);
      var previousHeaderIndex = stickyHeaderIndices[indexOfIndex - 1];

      if (previousHeaderIndex != null) {
        var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));

        previousHeader && previousHeader.setNextHeaderY && previousHeader.setNextHeaderY(layoutY);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var ScrollViewClass;
      var ScrollContentContainerViewClass;

      if (Platform.OS === 'android') {
        if (this.props.horizontal === true) {
          ScrollViewClass = AndroidHorizontalScrollView;
          ScrollContentContainerViewClass = AndroidHorizontalScrollContentView;
        } else {
          ScrollViewClass = AndroidScrollView;
          ScrollContentContainerViewClass = View;
        }
      } else {
        ScrollViewClass = RCTScrollView;
        ScrollContentContainerViewClass = RCTScrollContentView;
      }

      invariant(ScrollViewClass !== undefined, 'ScrollViewClass must not be undefined');
      invariant(ScrollContentContainerViewClass !== undefined, 'ScrollContentContainerViewClass must not be undefined');
      var contentContainerStyle = [this.props.horizontal === true && styles.contentContainerHorizontal, this.props.contentContainerStyle];

      if (__DEV__ && this.props.style !== undefined) {
        var style = flattenStyle(this.props.style);
        var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
          return style && style[prop] !== undefined;
        });
        invariant(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
      }

      var contentSizeChangeProps = {};

      if (this.props.onContentSizeChange) {
        contentSizeChangeProps = {
          onLayout: this._handleContentOnLayout
        };
      }

      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      var children = this.props.children;

      if (stickyHeaderIndices != null && stickyHeaderIndices.length > 0) {
        var childArray = React.Children.toArray(this.props.children);
        children = childArray.map(function (child, index) {
          var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;

          if (indexOfIndex > -1) {
            var key = child.key;
            var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
            var StickyHeaderComponent = _this2.props.StickyHeaderComponent || ScrollViewStickyHeader;
            return React.createElement(StickyHeaderComponent, {
              key: key,
              ref: function ref(_ref) {
                return _this2._setStickyHeaderRef(key, _ref);
              },
              nextHeaderLayoutY: _this2._headerLayoutYs.get(_this2._getKeyForIndex(nextIndex, childArray)),
              onLayout: function onLayout(event) {
                return _this2._onStickyHeaderLayout(index, event, key);
              },
              scrollAnimatedValue: _this2._scrollAnimatedValue,
              inverted: _this2.props.invertStickyHeaders,
              scrollViewHeight: _this2.state.layoutHeight
            }, child);
          } else {
            return child;
          }
        });
      }

      children = React.createElement(Context.Provider, {
        value: this.props.horizontal === true ? standardHorizontalContext : standardVerticalContext
      }, children);
      var hasStickyHeaders = Array.isArray(stickyHeaderIndices) && stickyHeaderIndices.length > 0;
      var contentContainer = React.createElement(ScrollContentContainerViewClass, (0, _extends2.default)({}, contentSizeChangeProps, {
        ref: this._setInnerViewRef,
        style: contentContainerStyle,
        removeClippedSubviews: Platform.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false
      }), children);
      var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;
      var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;
      var DEPRECATED_sendUpdatedChildFrames = !!this.props.DEPRECATED_sendUpdatedChildFrames;
      var baseStyle = this.props.horizontal === true ? styles.baseHorizontal : styles.baseVertical;

      var props = _objectSpread(_objectSpread({}, this.props), {}, {
        alwaysBounceHorizontal: alwaysBounceHorizontal,
        alwaysBounceVertical: alwaysBounceVertical,
        style: [baseStyle, this.props.style],
        onContentSizeChange: null,
        onLayout: this._handleLayout,
        onMomentumScrollBegin: this._scrollResponder.scrollResponderHandleMomentumScrollBegin,
        onMomentumScrollEnd: this._scrollResponder.scrollResponderHandleMomentumScrollEnd,
        onResponderGrant: this._scrollResponder.scrollResponderHandleResponderGrant,
        onResponderReject: this._scrollResponder.scrollResponderHandleResponderReject,
        onResponderRelease: this._scrollResponder.scrollResponderHandleResponderRelease,
        onResponderTerminationRequest: this._scrollResponder.scrollResponderHandleTerminationRequest,
        onScrollBeginDrag: this._scrollResponder.scrollResponderHandleScrollBeginDrag,
        onScrollEndDrag: this._scrollResponder.scrollResponderHandleScrollEndDrag,
        onScrollShouldSetResponder: this._scrollResponder.scrollResponderHandleScrollShouldSetResponder,
        onStartShouldSetResponder: this._scrollResponder.scrollResponderHandleStartShouldSetResponder,
        onStartShouldSetResponderCapture: this._scrollResponder.scrollResponderHandleStartShouldSetResponderCapture,
        onTouchEnd: this._scrollResponder.scrollResponderHandleTouchEnd,
        onTouchMove: this._scrollResponder.scrollResponderHandleTouchMove,
        onTouchStart: this._scrollResponder.scrollResponderHandleTouchStart,
        onTouchCancel: this._scrollResponder.scrollResponderHandleTouchCancel,
        onScroll: this._handleScroll,
        scrollBarThumbImage: resolveAssetSource(this.props.scrollBarThumbImage),
        scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
        sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
        DEPRECATED_sendUpdatedChildFrames: DEPRECATED_sendUpdatedChildFrames,
        snapToStart: this.props.snapToStart !== false,
        snapToEnd: this.props.snapToEnd !== false,
        pagingEnabled: Platform.select({
          ios: this.props.pagingEnabled === true && this.props.snapToInterval == null && this.props.snapToOffsets == null,
          android: this.props.pagingEnabled === true || this.props.snapToInterval != null || this.props.snapToOffsets != null
        })
      });

      var decelerationRate = this.props.decelerationRate;

      if (decelerationRate != null) {
        props.decelerationRate = processDecelerationRate(decelerationRate);
      }

      var refreshControl = this.props.refreshControl;

      if (refreshControl) {
        if (Platform.OS === 'ios') {
          return React.createElement(ScrollViewClass, (0, _extends2.default)({}, props, {
            ref: this._setNativeRef
          }), Platform.isTV ? null : refreshControl, contentContainer);
        } else if (Platform.OS === 'android') {
          var _splitLayoutProps = splitLayoutProps(flattenStyle(props.style)),
              outer = _splitLayoutProps.outer,
              inner = _splitLayoutProps.inner;

          return React.cloneElement(refreshControl, {
            style: [baseStyle, outer]
          }, React.createElement(ScrollViewClass, (0, _extends2.default)({}, props, {
            style: [baseStyle, inner],
            ref: this._setNativeRef
          }), contentContainer));
        }
      }

      return React.createElement(ScrollViewClass, (0, _extends2.default)({}, props, {
        ref: this._setNativeRef
      }), contentContainer);
    }
  }]);
  return ScrollView;
}(React.Component);

ScrollView.Context = Context;
var styles = StyleSheet.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});

function Wrapper(props, ref) {
  return React.createElement(ScrollView, (0, _extends2.default)({}, props, {
    scrollViewRef: ref
  }));
}

Wrapper.displayName = 'ScrollView';
var ForwardedScrollView = React.forwardRef(Wrapper);
ForwardedScrollView.Context = Context;
ForwardedScrollView.displayName = 'ScrollView';
module.exports = ForwardedScrollView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjcm9sbFZpZXcuanMiXSwibmFtZXMiOlsiQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsInJlcXVpcmUiLCJQbGF0Zm9ybSIsIlJlYWN0IiwiUmVhY3ROYXRpdmUiLCJTY3JvbGxSZXNwb25kZXIiLCJTY3JvbGxWaWV3U3RpY2t5SGVhZGVyIiwiU3R5bGVTaGVldCIsIlZpZXciLCJkaXNtaXNzS2V5Ym9hcmQiLCJmbGF0dGVuU3R5bGUiLCJpbnZhcmlhbnQiLCJwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSIsInJlc29sdmVBc3NldFNvdXJjZSIsInNwbGl0TGF5b3V0UHJvcHMiLCJzZXRBbmRGb3J3YXJkUmVmIiwiQW5kcm9pZFNjcm9sbFZpZXciLCJBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3IiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3IiwiUkNUU2Nyb2xsVmlldyIsIlJDVFNjcm9sbENvbnRlbnRWaWV3IiwiT1MiLCJTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCIsIlNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IiwiY3JlYXRlU2Nyb2xsUmVzcG9uZGVyIiwibm9kZSIsInNjcm9sbFJlc3BvbmRlciIsIk1peGluIiwia2V5IiwiYmluZCIsIkNvbnRleHQiLCJjcmVhdGVDb250ZXh0Iiwic3RhbmRhcmRIb3Jpem9udGFsQ29udGV4dCIsIk9iamVjdCIsImZyZWV6ZSIsImhvcml6b250YWwiLCJzdGFuZGFyZFZlcnRpY2FsQ29udGV4dCIsIlNjcm9sbFZpZXciLCJwcm9wcyIsIl9zY3JvbGxSZXNwb25kZXIiLCJfc2Nyb2xsQW5pbWF0ZWRWYWx1ZSIsIlZhbHVlIiwiX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50IiwiX3N0aWNreUhlYWRlclJlZnMiLCJNYXAiLCJfaGVhZGVyTGF5b3V0WXMiLCJzdGF0ZSIsImxheW91dEhlaWdodCIsInNjcm9sbFJlc3BvbmRlck1peGluR2V0SW5pdGlhbFN0YXRlIiwiX3NldE5hdGl2ZVJlZiIsImdldEZvcndhcmRlZFJlZiIsInNjcm9sbFZpZXdSZWYiLCJzZXRMb2NhbFJlZiIsInJlZiIsIl9zY3JvbGxWaWV3UmVmIiwiZ2V0U2Nyb2xsUmVzcG9uZGVyIiwiZ2V0U2Nyb2xsYWJsZU5vZGUiLCJnZXRJbm5lclZpZXdOb2RlIiwiZ2V0SW5uZXJWaWV3UmVmIiwiZ2V0TmF0aXZlU2Nyb2xsUmVmIiwic2Nyb2xsVG8iLCJzY3JvbGxUb0VuZCIsImZsYXNoU2Nyb2xsSW5kaWNhdG9ycyIsInNjcm9sbFJlc3BvbmRlclpvb21UbyIsInNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQiLCJmaW5kTm9kZUhhbmRsZSIsIm9wdGlvbnMiLCJkZXByZWNhdGVkWCIsImRlcHJlY2F0ZWRBbmltYXRlZCIsIngiLCJ5IiwiYW5pbWF0ZWQiLCJjb25zb2xlIiwid2FybiIsInNjcm9sbFJlc3BvbmRlclNjcm9sbFRvIiwic2Nyb2xsUmVzcG9uZGVyU2Nyb2xsVG9FbmQiLCJzY3JvbGxSZXNwb25kZXJGbGFzaFNjcm9sbEluZGljYXRvcnMiLCJfaGFuZGxlU2Nyb2xsIiwiZSIsIl9fREVWX18iLCJvblNjcm9sbCIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJsb2ciLCJrZXlib2FyZERpc21pc3NNb2RlIiwiaXNUb3VjaGluZyIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbCIsIl9oYW5kbGVMYXlvdXQiLCJpbnZlcnRTdGlja3lIZWFkZXJzIiwic2V0U3RhdGUiLCJuYXRpdmVFdmVudCIsImxheW91dCIsImhlaWdodCIsIm9uTGF5b3V0IiwiX2hhbmRsZUNvbnRlbnRPbkxheW91dCIsIndpZHRoIiwib25Db250ZW50U2l6ZUNoYW5nZSIsIl9pbm5lclZpZXdSZWYiLCJfc2V0SW5uZXJWaWV3UmVmIiwiaW5uZXJWaWV3UmVmIiwic3RhcnRzV2l0aCIsImtleXMiLCJmaWx0ZXIiLCJmb3JFYWNoIiwiVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCIsImNvbnRlbnRPZmZzZXQiLCJzZXRPZmZzZXQiLCJjb250ZW50SW5zZXQiLCJ0b3AiLCJuZXh0UHJvcHMiLCJjdXJyZW50Q29udGVudEluc2V0VG9wIiwibmV4dENvbnRlbnRJbnNldFRvcCIsIl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50IiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJkZXRhY2giLCJpbmRleCIsImNoaWxkQXJyYXkiLCJjaGlsZCIsInN0aWNreUhlYWRlckluZGljZXMiLCJsZW5ndGgiLCJhdHRhY2hOYXRpdmVFdmVudCIsInNldCIsImRlbGV0ZSIsImV2ZW50IiwiQ2hpbGRyZW4iLCJ0b0FycmF5IiwiY2hpbGRyZW4iLCJfZ2V0S2V5Rm9ySW5kZXgiLCJsYXlvdXRZIiwiaW5kZXhPZkluZGV4IiwiaW5kZXhPZiIsInByZXZpb3VzSGVhZGVySW5kZXgiLCJwcmV2aW91c0hlYWRlciIsImdldCIsInNldE5leHRIZWFkZXJZIiwiU2Nyb2xsVmlld0NsYXNzIiwiU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcyIsInVuZGVmaW5lZCIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsInN0eWxlcyIsImNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsIiwic3R5bGUiLCJjaGlsZExheW91dFByb3BzIiwicHJvcCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb250ZW50U2l6ZUNoYW5nZVByb3BzIiwibWFwIiwibmV4dEluZGV4IiwiU3RpY2t5SGVhZGVyQ29tcG9uZW50IiwiX3NldFN0aWNreUhlYWRlclJlZiIsIl9vblN0aWNreUhlYWRlckxheW91dCIsImhhc1N0aWNreUhlYWRlcnMiLCJBcnJheSIsImlzQXJyYXkiLCJjb250ZW50Q29udGFpbmVyIiwicmVtb3ZlQ2xpcHBlZFN1YnZpZXdzIiwiYWx3YXlzQm91bmNlSG9yaXpvbnRhbCIsImFsd2F5c0JvdW5jZVZlcnRpY2FsIiwiREVQUkVDQVRFRF9zZW5kVXBkYXRlZENoaWxkRnJhbWVzIiwiYmFzZVN0eWxlIiwiYmFzZUhvcml6b250YWwiLCJiYXNlVmVydGljYWwiLCJvbk1vbWVudHVtU2Nyb2xsQmVnaW4iLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luIiwib25Nb21lbnR1bVNjcm9sbEVuZCIsInNjcm9sbFJlc3BvbmRlckhhbmRsZU1vbWVudHVtU2Nyb2xsRW5kIiwib25SZXNwb25kZXJHcmFudCIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVJlc3BvbmRlckdyYW50Iiwib25SZXNwb25kZXJSZWplY3QiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJSZWplY3QiLCJvblJlc3BvbmRlclJlbGVhc2UiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJSZWxlYXNlIiwib25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVUZXJtaW5hdGlvblJlcXVlc3QiLCJvblNjcm9sbEJlZ2luRHJhZyIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbEJlZ2luRHJhZyIsIm9uU2Nyb2xsRW5kRHJhZyIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbEVuZERyYWciLCJvblNjcm9sbFNob3VsZFNldFJlc3BvbmRlciIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbFNob3VsZFNldFJlc3BvbmRlciIsIm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlciIsIm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlIiwib25Ub3VjaEVuZCIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoRW5kIiwib25Ub3VjaE1vdmUiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaE1vdmUiLCJvblRvdWNoU3RhcnQiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaFN0YXJ0Iiwib25Ub3VjaENhbmNlbCIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoQ2FuY2VsIiwic2Nyb2xsQmFyVGh1bWJJbWFnZSIsInNlbmRNb21lbnR1bUV2ZW50cyIsInNuYXBUb1N0YXJ0Iiwic25hcFRvRW5kIiwicGFnaW5nRW5hYmxlZCIsInNlbGVjdCIsImlvcyIsInNuYXBUb0ludGVydmFsIiwic25hcFRvT2Zmc2V0cyIsImFuZHJvaWQiLCJkZWNlbGVyYXRpb25SYXRlIiwicmVmcmVzaENvbnRyb2wiLCJpc1RWIiwib3V0ZXIiLCJpbm5lciIsImNsb25lRWxlbWVudCIsIkNvbXBvbmVudCIsImNyZWF0ZSIsImZsZXhHcm93IiwiZmxleFNocmluayIsImZsZXhEaXJlY3Rpb24iLCJvdmVyZmxvdyIsIldyYXBwZXIiLCJkaXNwbGF5TmFtZSIsIkZvcndhcmRlZFNjcm9sbFZpZXciLCJmb3J3YXJkUmVmIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBVUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0NBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7O0FBbkNBLElBQU1BLHNCQUFzQixHQUFHQyxPQUFPLDZDQUF0Qzs7QUFDQSxJQUFNQyxRQUFRLEdBQUdELE9BQU8sNEJBQXhCOztBQUNBLElBQU1FLEtBQUssR0FBR0YsT0FBTyxDQUFDLE9BQUQsQ0FBckI7O0FBQ0EsSUFBTUcsV0FBVyxHQUFHSCxPQUFPLG9DQUEzQjs7QUFDQUEsT0FBTyxvQ0FBUDs7QUFDQSxJQUFNSSxlQUFlLEdBQUdKLE9BQU8sc0JBQS9COztBQUNBLElBQU1LLHNCQUFzQixHQUFHTCxPQUFPLDRCQUF0Qzs7QUFDQSxJQUFNTSxVQUFVLEdBQUdOLE9BQU8sK0JBQTFCOztBQUNBLElBQU1PLElBQUksR0FBR1AsT0FBTyxnQkFBcEI7O0FBRUEsSUFBTVEsZUFB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bUJBQW1CLENBQUMxTCxPQUFwQixHQUE4QkEsT0FBOUI7QUFFQTBMLG1CQUFtQixDQUFDRCxXQUFwQixHQUFrQyxZQUFsQztBQUVBRyxNQUFNLENBQUNDLE9BQVAsR0FBbUJILG1CQUFuQiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogQGZsb3cgc3RyaWN0LWxvY2FsXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBBbmltYXRlZEltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi4vLi4vQW5pbWF0ZWQvc3JjL0FuaW1hdGVkSW1wbGVtZW50YXRpb24nKTtcbmNvbnN0IFBsYXRmb3JtID0gcmVxdWlyZSgnLi4vLi4vVXRpbGl0aWVzL1BsYXRmb3JtJyk7XG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCBSZWFjdE5hdGl2ZSA9IHJlcXVpcmUoJy4uLy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlJyk7XG5yZXF1aXJlKCcuLi8uLi9SZW5kZXJlci9zaGltcy9SZWFjdE5hdGl2ZScpOyAvLyBGb3JjZSBzaWRlIGVmZmVjdHMgdG8gcHJldmVudCBUNTU3NDQzMTFcbmNvbnN0IFNjcm9sbFJlc3BvbmRlciA9IHJlcXVpcmUoJy4uL1Njcm9sbFJlc3BvbmRlcicpO1xuY29uc3QgU2Nyb2xsVmlld1N0aWNreUhlYWRlciA9IHJlcXVpcmUoJy4vU2Nyb2xsVmlld1N0aWNreUhlYWRlcicpO1xuY29uc3QgU3R5bGVTaGVldCA9IHJlcXVpcmUoJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCcpO1xuY29uc3QgVmlldyA9IHJlcXVpcmUoJy4uL1ZpZXcvVmlldycpO1xuXG5jb25zdCBkaXNtaXNzS2V5Ym9hcmQgPSByZXF1aXJlKCcuLi8uLi9VdGlsaXRpZXMvZGlzbWlzc0tleWJvYXJkJyk7XG5jb25zdCBmbGF0dGVuU3R5bGUgPSByZXF1aXJlKCcuLi8uLi9TdHlsZVNoZWV0L2ZsYXR0ZW5TdHlsZScpO1xuY29uc3QgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5jb25zdCBwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSA9IHJlcXVpcmUoJy4vcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUnKTtcbmNvbnN0IHJlc29sdmVBc3NldFNvdXJjZSA9IHJlcXVpcmUoJy4uLy4uL0ltYWdlL3Jlc29sdmVBc3NldFNvdXJjZScpO1xuY29uc3Qgc3BsaXRMYXlvdXRQcm9wcyA9IHJlcXVpcmUoJy4uLy4uL1N0eWxlU2hlZXQvc3BsaXRMYXlvdXRQcm9wcycpO1xuY29uc3Qgc2V0QW5kRm9yd2FyZFJlZiA9IHJlcXVpcmUoJy4uLy4uL1V0aWxpdGllcy9zZXRBbmRGb3J3YXJkUmVmJyk7XG5cbmltcG9ydCB0eXBlIHtFZGdlSW5zZXRzUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9FZGdlSW5zZXRzUHJvcFR5cGUnO1xuaW1wb3J0IHR5cGUge1BvaW50UHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9Qb2ludFByb3BUeXBlJztcbmltcG9ydCB0eXBlIHtWaWV3U3R5bGVQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge0NvbG9yVmFsdWV9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldFR5cGVzJztcbmltcG9ydCB0eXBlIHtcbiAgUHJlc3NFdmVudCxcbiAgU2Nyb2xsRXZlbnQsXG4gIExheW91dEV2ZW50LFxufSBmcm9tICcuLi8uLi9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5pbXBvcnQgdHlwZSB7SG9zdENvbXBvbmVudH0gZnJvbSAnLi4vLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmVUeXBlcyc7XG5pbXBvcnQgdHlwZSB7U3RhdGUgYXMgU2Nyb2xsUmVzcG9uZGVyU3RhdGV9IGZyb20gJy4uL1Njcm9sbFJlc3BvbmRlcic7XG5pbXBvcnQgdHlwZSB7Vmlld1Byb3BzfSBmcm9tICcuLi9WaWV3L1ZpZXdQcm9wVHlwZXMnO1xuaW1wb3J0IHR5cGUge1Byb3BzIGFzIFNjcm9sbFZpZXdTdGlja3lIZWFkZXJQcm9wc30gZnJvbSAnLi9TY3JvbGxWaWV3U3RpY2t5SGVhZGVyJztcblxuaW1wb3J0IFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9TY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCBmcm9tICcuL1Njcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9BbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQnO1xuaW1wb3J0IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9BbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50JztcblxubGV0IEFuZHJvaWRTY3JvbGxWaWV3O1xubGV0IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXc7XG5sZXQgQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3O1xubGV0IFJDVFNjcm9sbFZpZXc7XG5sZXQgUkNUU2Nyb2xsQ29udGVudFZpZXc7XG5cbmlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gIEFuZHJvaWRTY3JvbGxWaWV3ID0gU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudDtcbiAgQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3ID0gQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50O1xuICBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3ID0gQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudDtcbn0gZWxzZSB7XG4gIFJDVFNjcm9sbFZpZXcgPSBTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50O1xuICBSQ1RTY3JvbGxDb250ZW50VmlldyA9IFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50O1xufVxuXG4vLyBQdWJsaWMgbWV0aG9kcyBmb3IgU2Nyb2xsVmlld1xuZXhwb3J0IHR5cGUgU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzID0gJFJlYWRPbmx5PHt8XG4gIGdldFNjcm9sbFJlc3BvbmRlcjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0U2Nyb2xsUmVzcG9uZGVyJz4sXG4gIGdldFNjcm9sbGFibGVOb2RlOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRTY3JvbGxhYmxlTm9kZSc+LFxuICBnZXRJbm5lclZpZXdOb2RlOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRJbm5lclZpZXdOb2RlJz4sXG4gIGdldElubmVyVmlld1JlZjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0SW5uZXJWaWV3UmVmJz4sXG4gIGdldE5hdGl2ZVNjcm9sbFJlZjogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0TmF0aXZlU2Nyb2xsUmVmJz4sXG4gIHNjcm9sbFRvOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdzY3JvbGxUbyc+LFxuICBzY3JvbGxUb0VuZDogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnc2Nyb2xsVG9FbmQnPixcbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdmbGFzaFNjcm9sbEluZGljYXRvcnMnPixcblxuICAvLyBTY3JvbGxSZXNwb25kZXIuTWl4aW4gcHVibGljIG1ldGhvZHNcbiAgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvOiAkUHJvcGVydHlUeXBlPFxuICAgIHR5cGVvZiBTY3JvbGxSZXNwb25kZXIuTWl4aW4sXG4gICAgJ3Njcm9sbFJlc3BvbmRlclpvb21UbycsXG4gID4sXG4gIHNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQ6ICRQcm9wZXJ0eVR5cGU8XG4gICAgdHlwZW9mIFNjcm9sbFJlc3BvbmRlci5NaXhpbixcbiAgICAnc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZCcsXG4gID4sXG58fT47XG5cbmV4cG9ydCB0eXBlIFNjcm9sbFJlc3BvbmRlclR5cGUgPSBTY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHM7XG5cbnR5cGUgSU9TUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgaU9TIHNob3VsZCBhdXRvbWF0aWNhbGx5IGFkanVzdCB0aGUgY29udGVudCBpbnNldFxuICAgKiBmb3Igc2Nyb2xsIHZpZXdzIHRoYXQgYXJlIHBsYWNlZCBiZWhpbmQgYSBuYXZpZ2F0aW9uIGJhciBvclxuICAgKiB0YWIgYmFyLyB0b29sYmFyLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhdXRvbWF0aWNhbGx5QWRqdXN0Q29udGVudEluc2V0cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIGFtb3VudCBieSB3aGljaCB0aGUgc2Nyb2xsIHZpZXcgY29udGVudCBpcyBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIERlZmF1bHRzIHRvIGB7dG9wOiAwLCBsZWZ0OiAwLCBib3R0b206IDAsIHJpZ2h0OiAwfWAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNvbnRlbnRJbnNldD86ID9FZGdlSW5zZXRzUHJvcCxcbiAgLyoqXG4gICAqIFVzZWQgdG8gbWFudWFsbHkgc2V0IHRoZSBzdGFydGluZyBzY3JvbGwgb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBge3g6IDAsIHk6IDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudE9mZnNldD86ID9Qb2ludFByb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBib3VuY2VzIHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kIG9mIHRoZVxuICAgKiBjb250ZW50IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlciB0aGVuIHRoZSBzY3JvbGwgdmlldyBhbG9uZyB0aGUgYXhpcyBvZlxuICAgKiB0aGUgc2Nyb2xsIGRpcmVjdGlvbi4gV2hlbiBmYWxzZSwgaXQgZGlzYWJsZXMgYWxsIGJvdW5jaW5nIGV2ZW4gaWZcbiAgICogdGhlIGBhbHdheXNCb3VuY2UqYCBwcm9wcyBhcmUgdHJ1ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYm91bmNlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQnkgZGVmYXVsdCwgU2Nyb2xsVmlldyBoYXMgYW4gYWN0aXZlIHBhbiByZXNwb25kZXIgdGhhdCBoaWphY2tzIHBhbnJlc3BvbmRlcnNcbiAgICogZGVlcGVyIGluIHRoZSByZW5kZXIgdHJlZSBpbiBvcmRlciB0byBwcmV2ZW50IGFjY2lkZW50YWwgdG91Y2hlcyB3aGlsZSBzY3JvbGxpbmcuXG4gICAqIEhvd2V2ZXIsIGluIGNlcnRhaW4gb2NjYXNpb25zIChzdWNoIGFzIHdoZW4gdXNpbmcgc25hcFRvSW50ZXJ2YWwpIGluIGEgdmVydGljYWwgc2Nyb2xsdmlld1xuICAgKiBZb3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGlzIGJlaGF2aW9yIGluIG9yZGVyIHRvIHByZXZlbnQgdGhlIFNjcm9sbFZpZXcgZnJvbSBibG9ja2luZyB0b3VjaGVzXG4gICAqL1xuICBkaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBnZXN0dXJlcyBjYW4gZHJpdmUgem9vbSBwYXN0IG1pbi9tYXggYW5kIHRoZSB6b29tIHdpbGwgYW5pbWF0ZVxuICAgKiB0byB0aGUgbWluL21heCB2YWx1ZSBhdCBnZXN0dXJlIGVuZCwgb3RoZXJ3aXNlIHRoZSB6b29tIHdpbGwgbm90IGV4Y2VlZFxuICAgKiB0aGUgbGltaXRzLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBib3VuY2VzWm9vbT86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyBob3Jpem9udGFsbHkgd2hlbiBpdCByZWFjaGVzIHRoZSBlbmRcbiAgICogZXZlbiBpZiB0aGUgY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGl0c2VsZi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgdHJ1ZSB3aGVuIGBob3Jpem9udGFsPXt0cnVlfWAgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYWx3YXlzQm91bmNlSG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyB2ZXJ0aWNhbGx5IHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kXG4gICAqIGV2ZW4gaWYgdGhlIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBpdHNlbGYuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlIHdoZW4gYGhvcml6b250YWw9e3RydWV9YCBhbmQgdHJ1ZSBvdGhlcndpc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGFsd2F5c0JvdW5jZVZlcnRpY2FsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBhdXRvbWF0aWNhbGx5IGNlbnRlcnMgdGhlIGNvbnRlbnQgd2hlbiB0aGVcbiAgICogY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGJvdW5kczsgd2hlbiB0aGUgY29udGVudCBpc1xuICAgKiBsYXJnZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcsIHRoaXMgcHJvcGVydHkgaGFzIG5vIGVmZmVjdC4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNlbnRlckNvbnRlbnQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBzdHlsZSBvZiB0aGUgc2Nyb2xsIGluZGljYXRvcnMuXG4gICAqXG4gICAqICAgLSBgJ2RlZmF1bHQnYCAodGhlIGRlZmF1bHQpLCBzYW1lIGFzIGBibGFja2AuXG4gICAqICAgLSBgJ2JsYWNrJ2AsIHNjcm9sbCBpbmRpY2F0b3IgaXMgYmxhY2suIFRoaXMgc3R5bGUgaXMgZ29vZCBhZ2FpbnN0IGEgbGlnaHQgYmFja2dyb3VuZC5cbiAgICogICAtIGAnd2hpdGUnYCwgc2Nyb2xsIGluZGljYXRvciBpcyB3aGl0ZS4gVGhpcyBzdHlsZSBpcyBnb29kIGFnYWluc3QgYSBkYXJrIGJhY2tncm91bmQuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGluZGljYXRvclN0eWxlPzogPygnZGVmYXVsdCcgfCAnYmxhY2snIHwgJ3doaXRlJyksXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBTY3JvbGxWaWV3IHdpbGwgdHJ5IHRvIGxvY2sgdG8gb25seSB2ZXJ0aWNhbCBvciBob3Jpem9udGFsXG4gICAqIHNjcm9sbGluZyB3aGlsZSBkcmFnZ2luZy4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBkaXJlY3Rpb25hbExvY2tFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGZhbHNlLCBvbmNlIHRyYWNraW5nIHN0YXJ0cywgd29uJ3QgdHJ5IHRvIGRyYWcgaWYgdGhlIHRvdWNoIG1vdmVzLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjYW5DYW5jZWxDb250ZW50VG91Y2hlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBzZXQsIHRoZSBzY3JvbGwgdmlldyB3aWxsIGFkanVzdCB0aGUgc2Nyb2xsIHBvc2l0aW9uIHNvIHRoYXQgdGhlIGZpcnN0IGNoaWxkIHRoYXQgaXNcbiAgICogY3VycmVudGx5IHZpc2libGUgYW5kIGF0IG9yIGJleW9uZCBgbWluSW5kZXhGb3JWaXNpYmxlYCB3aWxsIG5vdCBjaGFuZ2UgcG9zaXRpb24uIFRoaXMgaXNcbiAgICogdXNlZnVsIGZvciBsaXN0cyB0aGF0IGFyZSBsb2FkaW5nIGNvbnRlbnQgaW4gYm90aCBkaXJlY3Rpb25zLCBlLmcuIGEgY2hhdCB0aHJlYWQsIHdoZXJlIG5ld1xuICAgKiBtZXNzYWdlcyBjb21pbmcgaW4gbWlnaHQgb3RoZXJ3aXNlIGNhdXNlIHRoZSBzY3JvbGwgcG9zaXRpb24gdG8ganVtcC4gQSB2YWx1ZSBvZiAwIGlzIGNvbW1vbixcbiAgICogYnV0IG90aGVyIHZhbHVlcyBzdWNoIGFzIDEgY2FuIGJlIHVzZWQgdG8gc2tpcCBsb2FkaW5nIHNwaW5uZXJzIG9yIG90aGVyIGNvbnRlbnQgdGhhdCBzaG91bGRcbiAgICogbm90IG1haW50YWluIHBvc2l0aW9uLlxuICAgKlxuICAgKiBUaGUgb3B0aW9uYWwgYGF1dG9zY3JvbGxUb1RvcFRocmVzaG9sZGAgY2FuIGJlIHVzZWQgdG8gbWFrZSB0aGUgY29udGVudCBhdXRvbWF0aWNhbGx5IHNjcm9sbFxuICAgKiB0byB0aGUgdG9wIGFmdGVyIG1ha2luZyB0aGUgYWRqdXN0bWVudCBpZiB0aGUgdXNlciB3YXMgd2l0aGluIHRoZSB0aHJlc2hvbGQgb2YgdGhlIHRvcCBiZWZvcmVcbiAgICogdGhlIGFkanVzdG1lbnQgd2FzIG1hZGUuIFRoaXMgaXMgYWxzbyB1c2VmdWwgZm9yIGNoYXQtbGlrZSBhcHBsaWNhdGlvbnMgd2hlcmUgeW91IHdhbnQgdG8gc2VlXG4gICAqIG5ldyBtZXNzYWdlcyBzY3JvbGwgaW50byBwbGFjZSwgYnV0IG5vdCBpZiB0aGUgdXNlciBoYXMgc2Nyb2xsZWQgdXAgYSB3YXlzIGFuZCBpdCB3b3VsZCBiZVxuICAgKiBkaXNydXB0aXZlIHRvIHNjcm9sbCBhIGJ1bmNoLlxuICAgKlxuICAgKiBDYXZlYXQgMTogUmVvcmRlcmluZyBlbGVtZW50cyBpbiB0aGUgc2Nyb2xsdmlldyB3aXRoIHRoaXMgZW5hYmxlZCB3aWxsIHByb2JhYmx5IGNhdXNlXG4gICAqIGp1bXBpbmVzcyBhbmQgamFuay4gSXQgY2FuIGJlIGZpeGVkLCBidXQgdGhlcmUgYXJlIGN1cnJlbnRseSBubyBwbGFucyB0byBkbyBzby4gRm9yIG5vdyxcbiAgICogZG9uJ3QgcmUtb3JkZXIgdGhlIGNvbnRlbnQgb2YgYW55IFNjcm9sbFZpZXdzIG9yIExpc3RzIHRoYXQgdXNlIHRoaXMgZmVhdHVyZS5cbiAgICpcbiAgICogQ2F2ZWF0IDI6IFRoaXMgc2ltcGx5IHVzZXMgYGNvbnRlbnRPZmZzZXRgIGFuZCBgZnJhbWUub3JpZ2luYCBpbiBuYXRpdmUgY29kZSB0byBjb21wdXRlXG4gICAqIHZpc2liaWxpdHkuIE9jY2x1c2lvbiwgdHJhbnNmb3JtcywgYW5kIG90aGVyIGNvbXBsZXhpdHkgd29uJ3QgYmUgdGFrZW4gaW50byBhY2NvdW50IGFzIHRvXG4gICAqIHdoZXRoZXIgY29udGVudCBpcyBcInZpc2libGVcIiBvciBub3QuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbj86ID8kUmVhZE9ubHk8e3xcbiAgICBtaW5JbmRleEZvclZpc2libGU6IG51bWJlcixcbiAgICBhdXRvc2Nyb2xsVG9Ub3BUaHJlc2hvbGQ/OiA/bnVtYmVyLFxuICB8fT4sXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBhbGxvd2VkIHpvb20gc2NhbGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgbWF4aW11bVpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGUgbWluaW11bSBhbGxvd2VkIHpvb20gc2NhbGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgbWluaW11bVpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIFNjcm9sbFZpZXcgYWxsb3dzIHVzZSBvZiBwaW5jaCBnZXN0dXJlcyB0byB6b29tIGluIGFuZCBvdXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHBpbmNoR2VzdHVyZUVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoaXMgY29udHJvbHMgaG93IG9mdGVuIHRoZSBzY3JvbGwgZXZlbnQgd2lsbCBiZSBmaXJlZCB3aGlsZSBzY3JvbGxpbmdcbiAgICogKGFzIGEgdGltZSBpbnRlcnZhbCBpbiBtcykuIEEgbG93ZXIgbnVtYmVyIHlpZWxkcyBiZXR0ZXIgYWNjdXJhY3kgZm9yIGNvZGVcbiAgICogdGhhdCBpcyB0cmFja2luZyB0aGUgc2Nyb2xsIHBvc2l0aW9uLCBidXQgY2FuIGxlYWQgdG8gc2Nyb2xsIHBlcmZvcm1hbmNlXG4gICAqIHByb2JsZW1zIGR1ZSB0byB0aGUgdm9sdW1lIG9mIGluZm9ybWF0aW9uIGJlaW5nIHNlbmQgb3ZlciB0aGUgYnJpZGdlLlxuICAgKlxuICAgKiBWYWx1ZXMgYmV0d2VlbiAwIGFuZCAxN21zIGluZGljYXRlIDYwZnBzIHVwZGF0ZXMgYXJlIG5lZWRlZCBhbmQgdGhyb3R0bGluZ1xuICAgKiB3aWxsIGJlIGRpc2FibGVkLlxuICAgKlxuICAgKiBJZiB5b3UgZG8gbm90IG5lZWQgcHJlY2lzZSBzY3JvbGwgcG9zaXRpb24gdHJhY2tpbmcsIHNldCB0aGlzIHZhbHVlIGhpZ2hlclxuICAgKiB0byBsaW1pdCB0aGUgaW5mb3JtYXRpb24gYmVpbmcgc2VudCBhY3Jvc3MgdGhlIGJyaWRnZS5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgemVybywgd2hpY2ggcmVzdWx0cyBpbiB0aGUgc2Nyb2xsIGV2ZW50IGJlaW5nIHNlbnQgb25seVxuICAgKiBvbmNlIGVhY2ggdGltZSB0aGUgdmlldyBpcyBzY3JvbGxlZC5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsRXZlbnRUaHJvdHRsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IGJ5IHdoaWNoIHRoZSBzY3JvbGwgdmlldyBpbmRpY2F0b3JzIGFyZSBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoaXMgc2hvdWxkIG5vcm1hbGx5IGJlIHNldCB0byB0aGUgc2FtZSB2YWx1ZSBhc1xuICAgKiB0aGUgYGNvbnRlbnRJbnNldGAuIERlZmF1bHRzIHRvIGB7MCwgMCwgMCwgMH1gLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxJbmRpY2F0b3JJbnNldHM/OiA/RWRnZUluc2V0c1Byb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBjYW4gYmUgcHJvZ3JhbW1hdGljYWxseSBzY3JvbGxlZCBiZXlvbmQgaXRzXG4gICAqIGNvbnRlbnQgc2l6ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbFRvT3ZlcmZsb3dFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCB3aGVuIHRoZSBzdGF0dXMgYmFyIGlzIHRhcHBlZC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsc1RvVG9wPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCBhZnRlciB0aGUgc3RhdHVzIGJhciBoYXMgYmVlbiB0YXBwZWRcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgb25TY3JvbGxUb1RvcD86IChldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3dzIGEgaG9yaXpvbnRhbCBzY3JvbGwgaW5kaWNhdG9yLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc2hvd3NIb3Jpem9udGFsU2Nyb2xsSW5kaWNhdG9yPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGBzbmFwVG9JbnRlcnZhbGAgaXMgc2V0LCBgc25hcFRvQWxpZ25tZW50YCB3aWxsIGRlZmluZSB0aGUgcmVsYXRpb25zaGlwXG4gICAqIG9mIHRoZSBzbmFwcGluZyB0byB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqXG4gICAqICAgLSBgJ3N0YXJ0J2AgKHRoZSBkZWZhdWx0KSB3aWxsIGFsaWduIHRoZSBzbmFwIGF0IHRoZSBsZWZ0IChob3Jpem9udGFsKSBvciB0b3AgKHZlcnRpY2FsKVxuICAgKiAgIC0gYCdjZW50ZXInYCB3aWxsIGFsaWduIHRoZSBzbmFwIGluIHRoZSBjZW50ZXJcbiAgICogICAtIGAnZW5kJ2Agd2lsbCBhbGlnbiB0aGUgc25hcCBhdCB0aGUgcmlnaHQgKGhvcml6b250YWwpIG9yIGJvdHRvbSAodmVydGljYWwpXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNuYXBUb0FsaWdubWVudD86ID8oJ3N0YXJ0JyB8ICdjZW50ZXInIHwgJ2VuZCcpLFxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NhbGUgb2YgdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgem9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFRoaXMgcHJvcGVydHkgc3BlY2lmaWVzIGhvdyB0aGUgc2FmZSBhcmVhIGluc2V0cyBhcmUgdXNlZCB0byBtb2RpZnkgdGhlXG4gICAqIGNvbnRlbnQgYXJlYSBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoaXMgcHJvcGVydHkgaXNcbiAgICogXCJuZXZlclwiLiBBdmFpbGFibGUgb24gaU9TIDExIGFuZCBsYXRlci5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudEluc2V0QWRqdXN0bWVudEJlaGF2aW9yPzogPyhcbiAgICB8ICdhdXRvbWF0aWMnXG4gICAgfCAnc2Nyb2xsYWJsZUF4ZXMnXG4gICAgfCAnbmV2ZXInXG4gICAgfCAnYWx3YXlzJ1xuICApLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBTY3JvbGxWaWV3IHdpbGwgZW1pdCB1cGRhdGVDaGlsZEZyYW1lcyBkYXRhIGluIHNjcm9sbCBldmVudHMsXG4gICAqIG90aGVyd2lzZSB3aWxsIG5vdCBjb21wdXRlIG9yIGVtaXQgY2hpbGQgZnJhbWUgZGF0YS4gIFRoaXMgb25seSBleGlzdHNcbiAgICogdG8gc3VwcG9ydCBsZWdhY3kgaXNzdWVzLCBgb25MYXlvdXRgIHNob3VsZCBiZSB1c2VkIGluc3RlYWQgdG8gcmV0cmlldmVcbiAgICogZnJhbWUgZGF0YS5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIERFUFJFQ0FURURfc2VuZFVwZGF0ZWRDaGlsZEZyYW1lcz86ID9ib29sZWFuLFxufH0+O1xuXG50eXBlIEFuZHJvaWRQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogRW5hYmxlcyBuZXN0ZWQgc2Nyb2xsaW5nIGZvciBBbmRyb2lkIEFQSSBsZXZlbCAyMSsuXG4gICAqIE5lc3RlZCBzY3JvbGxpbmcgaXMgc3VwcG9ydGVkIGJ5IGRlZmF1bHQgb24gaU9TXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBuZXN0ZWRTY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBTb21ldGltZXMgYSBzY3JvbGx2aWV3IHRha2VzIHVwIG1vcmUgc3BhY2UgdGhhbiBpdHMgY29udGVudCBmaWxscy4gV2hlbiB0aGlzIGlzXG4gICAqIHRoZSBjYXNlLCB0aGlzIHByb3Agd2lsbCBmaWxsIHRoZSByZXN0IG9mIHRoZSBzY3JvbGx2aWV3IHdpdGggYSBjb2xvciB0byBhdm9pZCBzZXR0aW5nXG4gICAqIGEgYmFja2dyb3VuZCBhbmQgY3JlYXRpbmcgdW5uZWNlc3Nhcnkgb3ZlcmRyYXcuIFRoaXMgaXMgYW4gYWR2YW5jZWQgb3B0aW1pemF0aW9uXG4gICAqIHRoYXQgaXMgbm90IG5lZWRlZCBpbiB0aGUgZ2VuZXJhbCBjYXNlLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgZW5kRmlsbENvbG9yPzogP0NvbG9yVmFsdWUsXG4gIC8qKlxuICAgKiBUYWcgdXNlZCB0byBsb2cgc2Nyb2xsIHBlcmZvcm1hbmNlIG9uIHRoaXMgc2Nyb2xsIHZpZXcuIFdpbGwgZm9yY2VcbiAgICogbW9tZW50dW0gZXZlbnRzIHRvIGJlIHR1cm5lZCBvbiAoc2VlIHNlbmRNb21lbnR1bUV2ZW50cykuIFRoaXMgZG9lc24ndCBkb1xuICAgKiBhbnl0aGluZyBvdXQgb2YgdGhlIGJveCBhbmQgeW91IG5lZWQgdG8gaW1wbGVtZW50IGEgY3VzdG9tIG5hdGl2ZVxuICAgKiBGcHNMaXN0ZW5lciBmb3IgaXQgdG8gYmUgdXNlZnVsLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgc2Nyb2xsUGVyZlRhZz86ID9zdHJpbmcsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG92ZXJyaWRlIGRlZmF1bHQgdmFsdWUgb2Ygb3ZlclNjcm9sbCBtb2RlLlxuICAgKlxuICAgKiBQb3NzaWJsZSB2YWx1ZXM6XG4gICAqXG4gICAqICAtIGAnYXV0bydgIC0gRGVmYXVsdCB2YWx1ZSwgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsXG4gICAqICAgIHRoaXMgdmlldyBvbmx5IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlIGVub3VnaCB0byBtZWFuaW5nZnVsbHkgc2Nyb2xsLlxuICAgKiAgLSBgJ2Fsd2F5cydgIC0gQWx3YXlzIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqICAtIGAnbmV2ZXInYCAtIE5ldmVyIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBvdmVyU2Nyb2xsTW9kZT86ID8oJ2F1dG8nIHwgJ2Fsd2F5cycgfCAnbmV2ZXInKSxcbiAgLyoqXG4gICAqIENhdXNlcyB0aGUgc2Nyb2xsYmFycyBub3QgdG8gdHVybiB0cmFuc3BhcmVudCB3aGVuIHRoZXkgYXJlIG5vdCBpbiB1c2UuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgcGVyc2lzdGVudFNjcm9sbGJhcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogRmFkZXMgb3V0IHRoZSBlZGdlcyBvZiB0aGUgdGhlIHNjcm9sbCBjb250ZW50LlxuICAgKlxuICAgKiBJZiB0aGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIDAsIHRoZSBmYWRpbmcgZWRnZXMgd2lsbCBiZSBzZXQgYWNjb3JkaW5nbHlcbiAgICogdG8gdGhlIGN1cnJlbnQgc2Nyb2xsIGRpcmVjdGlvbiBhbmQgcG9zaXRpb24sXG4gICAqIGluZGljYXRpbmcgaWYgdGhlcmUgaXMgbW9yZSBjb250ZW50IHRvIHNob3cuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDAuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBmYWRpbmdFZGdlTGVuZ3RoPzogP251bWJlcixcbnx9PjtcblxudHlwZSBWUlByb3BzID0gJFJlYWRPbmx5PHt8XG4gIC8qKlxuICAgKiBPcHRpb25hbGx5IGFuIGltYWdlIGNhbiBiZSB1c2VkIGZvciB0aGUgc2Nyb2xsIGJhciB0aHVtYi4gVGhpcyB3aWxsXG4gICAqIG92ZXJyaWRlIHRoZSBjb2xvci4gV2hpbGUgdGhlIGltYWdlIGlzIGxvYWRpbmcgb3IgdGhlIGltYWdlIGZhaWxzIHRvXG4gICAqIGxvYWQgdGhlIGNvbG9yIHdpbGwgYmUgdXNlZCBpbnN0ZWFkLiBVc2UgYW4gYWxwaGEgb2YgMCBpbiB0aGUgY29sb3JcbiAgICogdG8gYXZvaWQgc2VlaW5nIGl0IHdoaWxlIHRoZSBpbWFnZSBpcyBsb2FkaW5nLlxuICAgKlxuICAgKiAtIGB1cmlgIC0gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSByZXNvdXJjZSBpZGVudGlmaWVyIGZvciB0aGUgaW1hZ2UsIHdoaWNoXG4gICAqIHNob3VsZCBiZSBlaXRoZXIgYSBsb2NhbCBmaWxlIHBhdGggb3IgdGhlIG5hbWUgb2YgYSBzdGF0aWMgaW1hZ2UgcmVzb3VyY2VcbiAgICogLSBgbnVtYmVyYCAtIE9wYXF1ZSB0eXBlIHJldHVybmVkIGJ5IHNvbWV0aGluZyBsaWtlXG4gICAqIGBpbXBvcnQgSU1BR0UgZnJvbSAnLi9pbWFnZS5qcGcnYC5cbiAgICogQHBsYXRmb3JtIHZyXG4gICAqL1xuICBzY3JvbGxCYXJUaHVtYkltYWdlPzogPygkUmVhZE9ubHk8e3x8fT4gfCBudW1iZXIpLCAvLyBPcGFxdWUgdHlwZSByZXR1cm5lZCBieSBpbXBvcnQgSU1BR0UgZnJvbSAnLi9pbWFnZS5qcGcnXG58fT47XG5cbnR5cGUgU3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZSA9IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyUHJvcHMsXG4gICRSZWFkT25seTx7c2V0TmV4dEhlYWRlclk6IG51bWJlciA9PiB2b2lkLCAuLi59Pixcbj47XG5cbmV4cG9ydCB0eXBlIFByb3BzID0gJFJlYWRPbmx5PHt8XG4gIC4uLlZpZXdQcm9wcyxcbiAgLi4uSU9TUHJvcHMsXG4gIC4uLkFuZHJvaWRQcm9wcyxcbiAgLi4uVlJQcm9wcyxcblxuICAvKipcbiAgICogVGhlc2Ugc3R5bGVzIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgc2Nyb2xsIHZpZXcgY29udGVudCBjb250YWluZXIgd2hpY2hcbiAgICogd3JhcHMgYWxsIG9mIHRoZSBjaGlsZCB2aWV3cy4gRXhhbXBsZTpcbiAgICpcbiAgICogYGBgXG4gICAqIHJldHVybiAoXG4gICAqICAgPFNjcm9sbFZpZXcgY29udGVudENvbnRhaW5lclN0eWxlPXtzdHlsZXMuY29udGVudENvbnRhaW5lcn0+XG4gICAqICAgPC9TY3JvbGxWaWV3PlxuICAgKiApO1xuICAgKiAuLi5cbiAgICogY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICAgKiAgIGNvbnRlbnRDb250YWluZXI6IHtcbiAgICogICAgIHBhZGRpbmdWZXJ0aWNhbDogMjBcbiAgICogICB9XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGNvbnRlbnRDb250YWluZXJTdHlsZT86ID9WaWV3U3R5bGVQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc3RvcHMgb24gdGhlIG5leHQgaW5kZXggKGluIHJlbGF0aW9uIHRvIHNjcm9sbFxuICAgKiBwb3NpdGlvbiBhdCByZWxlYXNlKSByZWdhcmRsZXNzIG9mIGhvdyBmYXN0IHRoZSBnZXN0dXJlIGlzLiBUaGlzIGNhbiBiZVxuICAgKiB1c2VkIGZvciBwYWdpbmF0aW9uIHdoZW4gdGhlIHBhZ2UgaXMgbGVzcyB0aGFuIHRoZSB3aWR0aCBvZiB0aGVcbiAgICogaG9yaXpvbnRhbCBTY3JvbGxWaWV3IG9yIHRoZSBoZWlnaHQgb2YgdGhlIHZlcnRpY2FsIFNjcm9sbFZpZXcuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKi9cbiAgZGlzYWJsZUludGVydmFsTW9tZW50dW0/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIHRoYXQgZGV0ZXJtaW5lcyBob3cgcXVpY2tseSB0aGUgc2Nyb2xsIHZpZXdcbiAgICogZGVjZWxlcmF0ZXMgYWZ0ZXIgdGhlIHVzZXIgbGlmdHMgdGhlaXIgZmluZ2VyLiBZb3UgbWF5IGFsc28gdXNlIHN0cmluZ1xuICAgKiBzaG9ydGN1dHMgYFwibm9ybWFsXCJgIGFuZCBgXCJmYXN0XCJgIHdoaWNoIG1hdGNoIHRoZSB1bmRlcmx5aW5nIGlPUyBzZXR0aW5nc1xuICAgKiBmb3IgYFVJU2Nyb2xsVmlld0RlY2VsZXJhdGlvblJhdGVOb3JtYWxgIGFuZFxuICAgKiBgVUlTY3JvbGxWaWV3RGVjZWxlcmF0aW9uUmF0ZUZhc3RgIHJlc3BlY3RpdmVseS5cbiAgICpcbiAgICogICAtIGAnbm9ybWFsJ2A6IDAuOTk4IG9uIGlPUywgMC45ODUgb24gQW5kcm9pZCAodGhlIGRlZmF1bHQpXG4gICAqICAgLSBgJ2Zhc3QnYDogMC45OSBvbiBpT1MsIDAuOSBvbiBBbmRyb2lkXG4gICAqL1xuICBkZWNlbGVyYXRpb25SYXRlPzogPygnZmFzdCcgfCAnbm9ybWFsJyB8IG51bWJlciksXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldydzIGNoaWxkcmVuIGFyZSBhcnJhbmdlZCBob3Jpem9udGFsbHkgaW4gYSByb3dcbiAgICogaW5zdGVhZCBvZiB2ZXJ0aWNhbGx5IGluIGEgY29sdW1uLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIGhvcml6b250YWw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIElmIHN0aWNreSBoZWFkZXJzIHNob3VsZCBzdGljayBhdCB0aGUgYm90dG9tIGluc3RlYWQgb2YgdGhlIHRvcCBvZiB0aGVcbiAgICogU2Nyb2xsVmlldy4gVGhpcyBpcyB1c3VhbGx5IHVzZWQgd2l0aCBpbnZlcnRlZCBTY3JvbGxWaWV3cy5cbiAgICovXG4gIGludmVydFN0aWNreUhlYWRlcnM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciB0aGUga2V5Ym9hcmQgZ2V0cyBkaXNtaXNzZWQgaW4gcmVzcG9uc2UgdG8gYSBkcmFnLlxuICAgKlxuICAgKiAqQ3Jvc3MgcGxhdGZvcm0qXG4gICAqXG4gICAqICAgLSBgJ25vbmUnYCAodGhlIGRlZmF1bHQpLCBkcmFncyBkbyBub3QgZGlzbWlzcyB0aGUga2V5Ym9hcmQuXG4gICAqICAgLSBgJ29uLWRyYWcnYCwgdGhlIGtleWJvYXJkIGlzIGRpc21pc3NlZCB3aGVuIGEgZHJhZyBiZWdpbnMuXG4gICAqXG4gICAqICppT1MgT25seSpcbiAgICpcbiAgICogICAtIGAnaW50ZXJhY3RpdmUnYCwgdGhlIGtleWJvYXJkIGlzIGRpc21pc3NlZCBpbnRlcmFjdGl2ZWx5IHdpdGggdGhlIGRyYWcgYW5kIG1vdmVzIGluXG4gICAqICAgICBzeW5jaHJvbnkgd2l0aCB0aGUgdG91Y2g7IGRyYWdnaW5nIHVwd2FyZHMgY2FuY2VscyB0aGUgZGlzbWlzc2FsLlxuICAgKiAgICAgT24gYW5kcm9pZCB0aGlzIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIGl0IHdpbGwgaGF2ZSB0aGUgc2FtZSBiZWhhdmlvciBhcyAnbm9uZScuXG4gICAqL1xuICBrZXlib2FyZERpc21pc3NNb2RlPzogPy8vIGRlZmF1bHRcbiAgKHwgJ25vbmUnIC8vIGNyb3NzLXBsYXRmb3JtXG4gICAgfCAnb24tZHJhZydcbiAgICB8ICdpbnRlcmFjdGl2ZSdcbiAgKSwgLy8gaW9zIG9ubHlcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hlbiB0aGUga2V5Ym9hcmQgc2hvdWxkIHN0YXkgdmlzaWJsZSBhZnRlciBhIHRhcC5cbiAgICpcbiAgICogICAtIGAnbmV2ZXInYCAodGhlIGRlZmF1bHQpLCB0YXBwaW5nIG91dHNpZGUgb2YgdGhlIGZvY3VzZWQgdGV4dCBpbnB1dCB3aGVuIHRoZSBrZXlib2FyZFxuICAgKiAgICAgaXMgdXAgZGlzbWlzc2VzIHRoZSBrZXlib2FyZC4gV2hlbiB0aGlzIGhhcHBlbnMsIGNoaWxkcmVuIHdvbid0IHJlY2VpdmUgdGhlIHRhcC5cbiAgICogICAtIGAnYWx3YXlzJ2AsIHRoZSBrZXlib2FyZCB3aWxsIG5vdCBkaXNtaXNzIGF1dG9tYXRpY2FsbHksIGFuZCB0aGUgc2Nyb2xsIHZpZXcgd2lsbCBub3RcbiAgICogICAgIGNhdGNoIHRhcHMsIGJ1dCBjaGlsZHJlbiBvZiB0aGUgc2Nyb2xsIHZpZXcgY2FuIGNhdGNoIHRhcHMuXG4gICAqICAgLSBgJ2hhbmRsZWQnYCwgdGhlIGtleWJvYXJkIHdpbGwgbm90IGRpc21pc3MgYXV0b21hdGljYWxseSB3aGVuIHRoZSB0YXAgd2FzIGhhbmRsZWQgYnlcbiAgICogICAgIGEgY2hpbGRyZW4sIChvciBjYXB0dXJlZCBieSBhbiBhbmNlc3RvcikuXG4gICAqICAgLSBgZmFsc2VgLCBkZXByZWNhdGVkLCB1c2UgJ25ldmVyJyBpbnN0ZWFkXG4gICAqICAgLSBgdHJ1ZWAsIGRlcHJlY2F0ZWQsIHVzZSAnYWx3YXlzJyBpbnN0ZWFkXG4gICAqL1xuICBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPzogPygnYWx3YXlzJyB8ICduZXZlcicgfCAnaGFuZGxlZCcgfCB0cnVlIHwgZmFsc2UpLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIG1vbWVudHVtIHNjcm9sbCBzdGFydHMgKHNjcm9sbCB3aGljaCBvY2N1cnMgYXMgdGhlIFNjcm9sbFZpZXcgZ2xpZGVzIHRvIGEgc3RvcCkuXG4gICAqL1xuICBvbk1vbWVudHVtU2Nyb2xsQmVnaW4/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBtb21lbnR1bSBzY3JvbGwgZW5kcyAoc2Nyb2xsIHdoaWNoIG9jY3VycyBhcyB0aGUgU2Nyb2xsVmlldyBnbGlkZXMgdG8gYSBzdG9wKS5cbiAgICovXG4gIG9uTW9tZW50dW1TY3JvbGxFbmQ/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcblxuICAvKipcbiAgICogRmlyZXMgYXQgbW9zdCBvbmNlIHBlciBmcmFtZSBkdXJpbmcgc2Nyb2xsaW5nLiBUaGUgZnJlcXVlbmN5IG9mIHRoZVxuICAgKiBldmVudHMgY2FuIGJlIGNvbnRyb2xsZWQgdXNpbmcgdGhlIGBzY3JvbGxFdmVudFRocm90dGxlYCBwcm9wLlxuICAgKi9cbiAgb25TY3JvbGw/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB1c2VyIGJlZ2lucyB0byBkcmFnIHRoZSBzY3JvbGwgdmlldy5cbiAgICovXG4gIG9uU2Nyb2xsQmVnaW5EcmFnPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBzdG9wcyBkcmFnZ2luZyB0aGUgc2Nyb2xsIHZpZXcgYW5kIGl0IGVpdGhlciBzdG9wc1xuICAgKiBvciBiZWdpbnMgdG8gZ2xpZGUuXG4gICAqL1xuICBvblNjcm9sbEVuZERyYWc/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHNjcm9sbGFibGUgY29udGVudCB2aWV3IG9mIHRoZSBTY3JvbGxWaWV3IGNoYW5nZXMuXG4gICAqXG4gICAqIEhhbmRsZXIgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSBjb250ZW50IHdpZHRoIGFuZCBjb250ZW50IGhlaWdodCBhcyBwYXJhbWV0ZXJzOlxuICAgKiBgKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodClgXG4gICAqXG4gICAqIEl0J3MgaW1wbGVtZW50ZWQgdXNpbmcgb25MYXlvdXQgaGFuZGxlciBhdHRhY2hlZCB0byB0aGUgY29udGVudCBjb250YWluZXJcbiAgICogd2hpY2ggdGhpcyBTY3JvbGxWaWV3IHJlbmRlcnMuXG4gICAqL1xuICBvbkNvbnRlbnRTaXplQ2hhbmdlPzogKGNvbnRlbnRXaWR0aDogbnVtYmVyLCBjb250ZW50SGVpZ2h0OiBudW1iZXIpID0+IHZvaWQsXG4gIG9uS2V5Ym9hcmREaWRTaG93PzogKGV2ZW50OiBQcmVzc0V2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc3RvcHMgb24gbXVsdGlwbGVzIG9mIHRoZSBzY3JvbGwgdmlldydzIHNpemVcbiAgICogd2hlbiBzY3JvbGxpbmcuIFRoaXMgY2FuIGJlIHVzZWQgZm9yIGhvcml6b250YWwgcGFnaW5hdGlvbi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2UuXG4gICAqXG4gICAqIE5vdGU6IFZlcnRpY2FsIHBhZ2luYXRpb24gaXMgbm90IHN1cHBvcnRlZCBvbiBBbmRyb2lkLlxuICAgKi9cbiAgcGFnaW5nRW5hYmxlZD86ID9ib29sZWFuLFxuXG4gIC8qKlxuICAgKiBXaGVuIGZhbHNlLCB0aGUgdmlldyBjYW5ub3QgYmUgc2Nyb2xsZWQgdmlhIHRvdWNoIGludGVyYWN0aW9uLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhlIHZpZXcgY2FuIGFsd2F5cyBiZSBzY3JvbGxlZCBieSBjYWxsaW5nIGBzY3JvbGxUb2AuXG4gICAqL1xuICBzY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3dzIGEgdmVydGljYWwgc2Nyb2xsIGluZGljYXRvci5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNob3dzVmVydGljYWxTY3JvbGxJbmRpY2F0b3I/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIGNoaWxkIGluZGljZXMgZGV0ZXJtaW5pbmcgd2hpY2ggY2hpbGRyZW4gZ2V0IGRvY2tlZCB0byB0aGVcbiAgICogdG9wIG9mIHRoZSBzY3JlZW4gd2hlbiBzY3JvbGxpbmcuIEZvciBleGFtcGxlLCBwYXNzaW5nXG4gICAqIGBzdGlja3lIZWFkZXJJbmRpY2VzPXtbMF19YCB3aWxsIGNhdXNlIHRoZSBmaXJzdCBjaGlsZCB0byBiZSBmaXhlZCB0byB0aGVcbiAgICogdG9wIG9mIHRoZSBzY3JvbGwgdmlldy4gVGhpcyBwcm9wZXJ0eSBpcyBub3Qgc3VwcG9ydGVkIGluIGNvbmp1bmN0aW9uXG4gICAqIHdpdGggYGhvcml6b250YWw9e3RydWV9YC5cbiAgICovXG4gIHN0aWNreUhlYWRlckluZGljZXM/OiA/JFJlYWRPbmx5QXJyYXk8bnVtYmVyPixcbiAgLyoqXG4gICAqIEEgUmVhY3QgQ29tcG9uZW50IHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJlbmRlciBzdGlja3kgaGVhZGVycy5cbiAgICogVG8gYmUgdXNlZCB0b2dldGhlciB3aXRoIGBzdGlja3lIZWFkZXJJbmRpY2VzYCBvciB3aXRoIGBTZWN0aW9uTGlzdGAsIGRlZmF1bHRzIHRvIGBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyYC5cbiAgICogWW91IG1heSBuZWVkIHRvIHNldCB0aGlzIGlmIHlvdXIgc3RpY2t5IGhlYWRlciB1c2VzIGN1c3RvbSB0cmFuc2Zvcm1zIChlZy4gdHJhbnNsYXRpb24pLFxuICAgKiBmb3IgZXhhbXBsZSB3aGVuIHlvdSB3YW50IHlvdXIgbGlzdCB0byBoYXZlIGFuIGFuaW1hdGVkIGhpZGFibGUgaGVhZGVyLlxuICAgKi9cbiAgU3RpY2t5SGVhZGVyQ29tcG9uZW50PzogU3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZSxcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCBjYXVzZXMgdGhlIHNjcm9sbCB2aWV3IHRvIHN0b3AgYXQgbXVsdGlwbGVzIG9mIHRoZSB2YWx1ZSBvZlxuICAgKiBgc25hcFRvSW50ZXJ2YWxgLiBUaGlzIGNhbiBiZSB1c2VkIGZvciBwYWdpbmF0aW5nIHRocm91Z2ggY2hpbGRyZW5cbiAgICogdGhhdCBoYXZlIGxlbmd0aHMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldy4gVHlwaWNhbGx5IHVzZWQgaW5cbiAgICogY29tYmluYXRpb24gd2l0aCBgc25hcFRvQWxpZ25tZW50YCBhbmQgYGRlY2VsZXJhdGlvblJhdGU9XCJmYXN0XCJgLlxuICAgKlxuICAgKiBPdmVycmlkZXMgbGVzcyBjb25maWd1cmFibGUgYHBhZ2luZ0VuYWJsZWRgIHByb3AuXG4gICAqL1xuICBzbmFwVG9JbnRlcnZhbD86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHNldCwgY2F1c2VzIHRoZSBzY3JvbGwgdmlldyB0byBzdG9wIGF0IHRoZSBkZWZpbmVkIG9mZnNldHMuXG4gICAqIFRoaXMgY2FuIGJlIHVzZWQgZm9yIHBhZ2luYXRpbmcgdGhyb3VnaCB2YXJpb3VzbHkgc2l6ZWQgY2hpbGRyZW5cbiAgICogdGhhdCBoYXZlIGxlbmd0aHMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldy4gVHlwaWNhbGx5IHVzZWQgaW5cbiAgICogY29tYmluYXRpb24gd2l0aCBgZGVjZWxlcmF0aW9uUmF0ZT1cImZhc3RcImAuXG4gICAqXG4gICAqIE92ZXJyaWRlcyBsZXNzIGNvbmZpZ3VyYWJsZSBgcGFnaW5nRW5hYmxlZGAgYW5kIGBzbmFwVG9JbnRlcnZhbGAgcHJvcHMuXG4gICAqL1xuICBzbmFwVG9PZmZzZXRzPzogPyRSZWFkT25seUFycmF5PG51bWJlcj4sXG4gIC8qKlxuICAgKiBVc2UgaW4gY29uanVuY3Rpb24gd2l0aCBgc25hcFRvT2Zmc2V0c2AuIEJ5IGRlZmF1bHQsIHRoZSBiZWdpbm5pbmdcbiAgICogb2YgdGhlIGxpc3QgY291bnRzIGFzIGEgc25hcCBvZmZzZXQuIFNldCBgc25hcFRvU3RhcnRgIHRvIGZhbHNlIHRvIGRpc2FibGVcbiAgICogdGhpcyBiZWhhdmlvciBhbmQgYWxsb3cgdGhlIGxpc3QgdG8gc2Nyb2xsIGZyZWVseSBiZXR3ZWVuIGl0cyBzdGFydCBhbmRcbiAgICogdGhlIGZpcnN0IGBzbmFwVG9PZmZzZXRzYCBvZmZzZXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzbmFwVG9TdGFydD86ID9ib29sZWFuLFxuICAvKipcbiAgICogVXNlIGluIGNvbmp1bmN0aW9uIHdpdGggYHNuYXBUb09mZnNldHNgLiBCeSBkZWZhdWx0LCB0aGUgZW5kXG4gICAqIG9mIHRoZSBsaXN0IGNvdW50cyBhcyBhIHNuYXAgb2Zmc2V0LiBTZXQgYHNuYXBUb0VuZGAgdG8gZmFsc2UgdG8gZGlzYWJsZVxuICAgKiB0aGlzIGJlaGF2aW9yIGFuZCBhbGxvdyB0aGUgbGlzdCB0byBzY3JvbGwgZnJlZWx5IGJldHdlZW4gaXRzIGVuZCBhbmRcbiAgICogdGhlIGxhc3QgYHNuYXBUb09mZnNldHNgIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNuYXBUb0VuZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogRXhwZXJpbWVudGFsOiBXaGVuIHRydWUsIG9mZnNjcmVlbiBjaGlsZCB2aWV3cyAod2hvc2UgYG92ZXJmbG93YCB2YWx1ZSBpc1xuICAgKiBgaGlkZGVuYCkgYXJlIHJlbW92ZWQgZnJvbSB0aGVpciBuYXRpdmUgYmFja2luZyBzdXBlcnZpZXcgd2hlbiBvZmZzY3JlZW4uXG4gICAqIFRoaXMgY2FuIGltcHJvdmUgc2Nyb2xsaW5nIHBlcmZvcm1hbmNlIG9uIGxvbmcgbGlzdHMuIFRoZSBkZWZhdWx0IHZhbHVlIGlzXG4gICAqIHRydWUuXG4gICAqL1xuICByZW1vdmVDbGlwcGVkU3Vidmlld3M/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEEgUmVmcmVzaENvbnRyb2wgY29tcG9uZW50LCB1c2VkIHRvIHByb3ZpZGUgcHVsbC10by1yZWZyZXNoXG4gICAqIGZ1bmN0aW9uYWxpdHkgZm9yIHRoZSBTY3JvbGxWaWV3LiBPbmx5IHdvcmtzIGZvciB2ZXJ0aWNhbCBTY3JvbGxWaWV3c1xuICAgKiAoYGhvcml6b250YWxgIHByb3AgbXVzdCBiZSBgZmFsc2VgKS5cbiAgICpcbiAgICogU2VlIFtSZWZyZXNoQ29udHJvbF0oZG9jcy9yZWZyZXNoY29udHJvbC5odG1sKS5cbiAgICovXG4gIC8vICRGbG93Rml4TWUgLSBob3cgdG8gaGFuZGxlIGdlbmVyaWMgdHlwZSB3aXRob3V0IGV4aXN0ZW50aWFsIG9wZXJhdG9yP1xuICByZWZyZXNoQ29udHJvbD86ID9SZWFjdC5FbGVtZW50PGFueT4sXG4gIGNoaWxkcmVuPzogUmVhY3QuTm9kZSxcbiAgLyoqXG4gICAqIEEgcmVmIHRvIHRoZSBpbm5lciBWaWV3IGVsZW1lbnQgb2YgdGhlIFNjcm9sbFZpZXcuIFRoaXMgc2hvdWxkIGJlIHVzZWRcbiAgICogaW5zdGVhZCBvZiBjYWxsaW5nIGBnZXRJbm5lclZpZXdSZWZgLlxuICAgKi9cbiAgaW5uZXJWaWV3UmVmPzogUmVhY3QuUmVmPHR5cGVvZiBWaWV3PixcbiAgLyoqXG4gICAqIEEgcmVmIHRvIHRoZSBOYXRpdmUgU2Nyb2xsVmlldyBjb21wb25lbnQuIFRoaXMgcmVmIGNhbiBiZSB1c2VkIHRvIGNhbGxcbiAgICogYWxsIG9mIFNjcm9sbFZpZXcncyBwdWJsaWMgbWV0aG9kcywgaW4gYWRkaXRpb24gdG8gbmF0aXZlIG1ldGhvZHMgbGlrZVxuICAgKiBtZWFzdXJlLCBtZWFzdXJlTGF5b3V0LCBldGMuXG4gICAqL1xuICBzY3JvbGxWaWV3UmVmPzogUmVhY3QuUmVmPFxuICAgIHR5cGVvZiBTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50ICYgU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzLFxuICA+LFxufH0+O1xuXG50eXBlIFN0YXRlID0ge3xcbiAgbGF5b3V0SGVpZ2h0OiA/bnVtYmVyLFxuICAuLi5TY3JvbGxSZXNwb25kZXJTdGF0ZSxcbnx9O1xuXG5mdW5jdGlvbiBjcmVhdGVTY3JvbGxSZXNwb25kZXIoXG4gIG5vZGU6IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNjcm9sbFZpZXc+LFxuKTogdHlwZW9mIFNjcm9sbFJlc3BvbmRlci5NaXhpbiB7XG4gIGNvbnN0IHNjcm9sbFJlc3BvbmRlciA9IHsuLi5TY3JvbGxSZXNwb25kZXIuTWl4aW59O1xuXG4gIGZvciAoY29uc3Qga2V5IGluIHNjcm9sbFJlc3BvbmRlcikge1xuICAgIGlmICh0eXBlb2Ygc2Nyb2xsUmVzcG9uZGVyW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHNjcm9sbFJlc3BvbmRlcltrZXldID0gc2Nyb2xsUmVzcG9uZGVyW2tleV0uYmluZChub2RlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc2Nyb2xsUmVzcG9uZGVyO1xufVxuXG50eXBlIENvbnRleHRUeXBlID0ge3xob3Jpem9udGFsOiBib29sZWFufH0gfCBudWxsO1xuY29uc3QgQ29udGV4dDogUmVhY3QuQ29udGV4dDxDb250ZXh0VHlwZT4gPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3Qgc3RhbmRhcmRIb3Jpem9udGFsQ29udGV4dDogQ29udGV4dFR5cGUgPSBPYmplY3QuZnJlZXplKHtcbiAgaG9yaXpvbnRhbDogdHJ1ZSxcbn0pO1xuY29uc3Qgc3RhbmRhcmRWZXJ0aWNhbENvbnRleHQ6IENvbnRleHRUeXBlID0gT2JqZWN0LmZyZWV6ZSh7aG9yaXpvbnRhbDogZmFsc2V9KTtcbnR5cGUgU2Nyb2xsVmlld0NvbXBvbmVudFN0YXRpY3MgPSAkUmVhZE9ubHk8e3xcbiAgQ29udGV4dDogdHlwZW9mIENvbnRleHQsXG58fT47XG5cbi8qKlxuICogQ29tcG9uZW50IHRoYXQgd3JhcHMgcGxhdGZvcm0gU2Nyb2xsVmlldyB3aGlsZSBwcm92aWRpbmdcbiAqIGludGVncmF0aW9uIHdpdGggdG91Y2ggbG9ja2luZyBcInJlc3BvbmRlclwiIHN5c3RlbS5cbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCBTY3JvbGxWaWV3cyBtdXN0IGhhdmUgYSBib3VuZGVkIGhlaWdodCBpbiBvcmRlciB0byB3b3JrLFxuICogc2luY2UgdGhleSBjb250YWluIHVuYm91bmRlZC1oZWlnaHQgY2hpbGRyZW4gaW50byBhIGJvdW5kZWQgY29udGFpbmVyICh2aWFcbiAqIGEgc2Nyb2xsIGludGVyYWN0aW9uKS4gSW4gb3JkZXIgdG8gYm91bmQgdGhlIGhlaWdodCBvZiBhIFNjcm9sbFZpZXcsIGVpdGhlclxuICogc2V0IHRoZSBoZWlnaHQgb2YgdGhlIHZpZXcgZGlyZWN0bHkgKGRpc2NvdXJhZ2VkKSBvciBtYWtlIHN1cmUgYWxsIHBhcmVudFxuICogdmlld3MgaGF2ZSBib3VuZGVkIGhlaWdodC4gRm9yZ2V0dGluZyB0byB0cmFuc2ZlciBge2ZsZXg6IDF9YCBkb3duIHRoZVxuICogdmlldyBzdGFjayBjYW4gbGVhZCB0byBlcnJvcnMgaGVyZSwgd2hpY2ggdGhlIGVsZW1lbnQgaW5zcGVjdG9yIG1ha2VzXG4gKiBlYXN5IHRvIGRlYnVnLlxuICpcbiAqIERvZXNuJ3QgeWV0IHN1cHBvcnQgb3RoZXIgY29udGFpbmVkIHJlc3BvbmRlcnMgZnJvbSBibG9ja2luZyB0aGlzIHNjcm9sbFxuICogdmlldyBmcm9tIGJlY29taW5nIHRoZSByZXNwb25kZXIuXG4gKlxuICpcbiAqIGA8U2Nyb2xsVmlldz5gIHZzIFtgPEZsYXRMaXN0PmBdKGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvZmxhdGxpc3QuaHRtbCkgLSB3aGljaCBvbmUgdG8gdXNlP1xuICpcbiAqIGBTY3JvbGxWaWV3YCBzaW1wbHkgcmVuZGVycyBhbGwgaXRzIHJlYWN0IGNoaWxkIGNvbXBvbmVudHMgYXQgb25jZS4gVGhhdFxuICogbWFrZXMgaXQgdmVyeSBlYXN5IHRvIHVuZGVyc3RhbmQgYW5kIHVzZS5cbiAqXG4gKiBPbiB0aGUgb3RoZXIgaGFuZCwgdGhpcyBoYXMgYSBwZXJmb3JtYW5jZSBkb3duc2lkZS4gSW1hZ2luZSB5b3UgaGF2ZSBhIHZlcnlcbiAqIGxvbmcgbGlzdCBvZiBpdGVtcyB5b3Ugd2FudCB0byBkaXNwbGF5LCBtYXliZSBzZXZlcmFsIHNjcmVlbnMgd29ydGggb2ZcbiAqIGNvbnRlbnQuIENyZWF0aW5nIEpTIGNvbXBvbmVudHMgYW5kIG5hdGl2ZSB2aWV3cyBmb3IgZXZlcnl0aGluZyBhbGwgYXQgb25jZSxcbiAqIG11Y2ggb2Ygd2hpY2ggbWF5IG5vdCBldmVuIGJlIHNob3duLCB3aWxsIGNvbnRyaWJ1dGUgdG8gc2xvdyByZW5kZXJpbmcgYW5kXG4gKiBpbmNyZWFzZWQgbWVtb3J5IHVzYWdlLlxuICpcbiAqIFRoaXMgaXMgd2hlcmUgYEZsYXRMaXN0YCBjb21lcyBpbnRvIHBsYXkuIGBGbGF0TGlzdGAgcmVuZGVycyBpdGVtcyBsYXppbHksXG4gKiBqdXN0IHdoZW4gdGhleSBhcmUgYWJvdXQgdG8gYXBwZWFyLCBhbmQgcmVtb3ZlcyBpdGVtcyB0aGF0IHNjcm9sbCB3YXkgb2ZmXG4gKiBzY3JlZW4gdG8gc2F2ZSBtZW1vcnkgYW5kIHByb2Nlc3NpbmcgdGltZS5cbiAqXG4gKiBgRmxhdExpc3RgIGlzIGFsc28gaGFuZHkgaWYgeW91IHdhbnQgdG8gcmVuZGVyIHNlcGFyYXRvcnMgYmV0d2VlbiB5b3VyIGl0ZW1zLFxuICogbXVsdGlwbGUgY29sdW1ucywgaW5maW5pdGUgc2Nyb2xsIGxvYWRpbmcsIG9yIGFueSBudW1iZXIgb2Ygb3RoZXIgZmVhdHVyZXMgaXRcbiAqIHN1cHBvcnRzIG91dCBvZiB0aGUgYm94LlxuICovXG5jbGFzcyBTY3JvbGxWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBzdGF0aWMgQ29udGV4dDogUmVhY3QkQ29udGV4dDxDb250ZXh0VHlwZT4gPSBDb250ZXh0O1xuICAvKipcbiAgICogUGFydCAxOiBSZW1vdmluZyBTY3JvbGxSZXNwb25kZXIuTWl4aW46XG4gICAqXG4gICAqIDEuIE1peGluIG1ldGhvZHMgc2hvdWxkIGJlIGZsb3cgdHlwZWQuIFRoYXQncyB3aHkgd2UgY3JlYXRlIGFcbiAgICogICAgY29weSBvZiBTY3JvbGxSZXNwb25kZXIuTWl4aW4gYW5kIGF0dGFjaCBpdCB0byB0aGlzLl9zY3JvbGxSZXNwb25kZXIuXG4gICAqICAgIE90aGVyd2lzZSwgd2UnZCBoYXZlIHRvIG1hbnVhbGx5IGRlY2xhcmUgZWFjaCBtZXRob2Qgb24gdGhlIGNvbXBvbmVudFxuICAgKiAgICBjbGFzcyBhbmQgYXNzaWduIGl0IGEgZmxvdyB0eXBlLlxuICAgKiAyLiBNaXhpbiBtZXRob2RzIGNhbiBjYWxsIGNvbXBvbmVudCBtZXRob2RzLCBhbmQgYWNjZXNzIHRoZSBjb21wb25lbnQnc1xuICAgKiAgICBwcm9wcyBhbmQgc3RhdGUuIFNvLCB3ZSBuZWVkIHRvIGJpbmQgYWxsIG1peGluIG1ldGhvZHMgdG8gdGhlXG4gICAqICAgIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAgICogMy4gQ29udGludWVkLi4uXG4gICAqL1xuICBfc2Nyb2xsUmVzcG9uZGVyOiB0eXBlb2YgU2Nyb2xsUmVzcG9uZGVyLk1peGluID0gY3JlYXRlU2Nyb2xsUmVzcG9uZGVyKHRoaXMpO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIC8qKlxuICAgICAqIFBhcnQgMjogUmVtb3ZpbmcgU2Nyb2xsUmVzcG9uZGVyLk1peGluXG4gICAgICpcbiAgICAgKiAzLiBNaXhpbiBtZXRob2RzIGFjY2VzcyBvdGhlciBtaXhpbiBtZXRob2RzIHZpYSBkeW5hbWljIGRpc3BhdGNoIHVzaW5nXG4gICAgICogICAgdGhpcy4gU2luY2UgbWl4aW4gbWV0aG9kcyBhcmUgYm91bmQgdG8gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSwgd2UgbmVlZFxuICAgICAqICAgIHRvIGNvcHkgYWxsIG1peGluIG1ldGhvZHMgdG8gdGhlIGNvbXBvbmVudCBpbnN0YW5jZS4gVGhpcyBpcyBhbHNvXG4gICAgICogICAgbmVjZXNzYXJ5IGJlY2F1c2UgZ2V0U2Nyb2xsUmVzcG9uZGVyKCkgaXMgYSBwdWJsaWMgbWV0aG9kIHRoYXQgcmV0dXJuc1xuICAgICAqICAgIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIGV4ZWN1dGUgYWxsIHNjcm9sbFJlc3BvbmRlciBtZXRob2RzLlxuICAgICAqICAgIFNpbmNlIHRoZSBvYmplY3QgcmV0dXJuZWQgZnJvbSB0aGF0IG1ldGhvZCBpcyB0aGUgU2Nyb2xsVmlldyBpbnN0YW5jZSxcbiAgICAgKiAgICB3ZSBuZWVkIHRvIGJpbmQgYWxsIG1peGluIG1ldGhvZHMgdG8gdGhlIFNjcm9sbFZpZXcgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZm9yIChjb25zdCBrZXkgaW4gU2Nyb2xsUmVzcG9uZGVyLk1peGluKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBTY3JvbGxSZXNwb25kZXIuTWl4aW5ba2V5XSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICBrZXkuc3RhcnRzV2l0aCgnc2Nyb2xsUmVzcG9uZGVyJylcbiAgICAgICkge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gZHluYW1pY2FsbHkgYWRkaW5nIHByb3BlcnRpZXMgdG8gYSBjbGFzc1xuICAgICAgICAodGhpczogYW55KVtrZXldID0gU2Nyb2xsUmVzcG9uZGVyLk1peGluW2tleV0uYmluZCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJ0IDM6IFJlbW92aW5nIFNjcm9sbFJlc3BvbmRlci5NaXhpblxuICAgICAqXG4gICAgICogNC4gTWl4aW5zIGNhbiBpbml0aWFsaXplIHByb3BlcnRpZXMgYW5kIHVzZSBwcm9wZXJ0aWVzIG9uIHRoZSBjb21wb25lbnRcbiAgICAgKiAgICBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBPYmplY3Qua2V5cyhTY3JvbGxSZXNwb25kZXIuTWl4aW4pXG4gICAgICAuZmlsdGVyKGtleSA9PiB0eXBlb2YgU2Nyb2xsUmVzcG9uZGVyLk1peGluW2tleV0gIT09ICdmdW5jdGlvbicpXG4gICAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gZHluYW1pY2FsbHkgYWRkaW5nIHByb3BlcnRpZXMgdG8gYSBjbGFzc1xuICAgICAgICAodGhpczogYW55KVtrZXldID0gU2Nyb2xsUmVzcG9uZGVyLk1peGluW2tleV07XG4gICAgICB9KTtcbiAgfVxuXG4gIF9zY3JvbGxBbmltYXRlZFZhbHVlOiBBbmltYXRlZEltcGxlbWVudGF0aW9uLlZhbHVlID0gbmV3IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uVmFsdWUoXG4gICAgMCxcbiAgKTtcbiAgX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50OiA/e2RldGFjaDogKCkgPT4gdm9pZCwgLi4ufSA9IG51bGw7XG4gIF9zdGlja3lIZWFkZXJSZWZzOiBNYXA8XG4gICAgc3RyaW5nLFxuICAgIFJlYWN0LkVsZW1lbnRSZWY8U3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZT4sXG4gID4gPSBuZXcgTWFwKCk7XG4gIF9oZWFkZXJMYXlvdXRZczogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcblxuICBzdGF0ZTogU3RhdGUgPSB7XG4gICAgbGF5b3V0SGVpZ2h0OiBudWxsLFxuICAgIC4uLlNjcm9sbFJlc3BvbmRlci5NaXhpbi5zY3JvbGxSZXNwb25kZXJNaXhpbkdldEluaXRpYWxTdGF0ZSgpLFxuICB9O1xuXG4gIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlID0gbmV3IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uVmFsdWUoXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRPZmZzZXQ/LnkgPz8gMCxcbiAgICApO1xuICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUuc2V0T2Zmc2V0KHRoaXMucHJvcHMuY29udGVudEluc2V0Py50b3AgPz8gMCk7XG4gICAgdGhpcy5fc3RpY2t5SGVhZGVyUmVmcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLl9oZWFkZXJMYXlvdXRZcyA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wczogUHJvcHMpIHtcbiAgICBjb25zdCBjdXJyZW50Q29udGVudEluc2V0VG9wID0gdGhpcy5wcm9wcy5jb250ZW50SW5zZXRcbiAgICAgID8gdGhpcy5wcm9wcy5jb250ZW50SW5zZXQudG9wXG4gICAgICA6IDA7XG4gICAgY29uc3QgbmV4dENvbnRlbnRJbnNldFRvcCA9IG5leHRQcm9wcy5jb250ZW50SW5zZXRcbiAgICAgID8gbmV4dFByb3BzLmNvbnRlbnRJbnNldC50b3BcbiAgICAgIDogMDtcbiAgICBpZiAoY3VycmVudENvbnRlbnRJbnNldFRvcCAhPT0gbmV4dENvbnRlbnRJbnNldFRvcCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZS5zZXRPZmZzZXQobmV4dENvbnRlbnRJbnNldFRvcCB8fCAwKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5fdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG4gICAgaWYgKHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50KSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudC5kZXRhY2goKTtcbiAgICB9XG4gIH1cblxuICBfc2V0TmF0aXZlUmVmID0gc2V0QW5kRm9yd2FyZFJlZih7XG4gICAgZ2V0Rm9yd2FyZGVkUmVmOiAoKSA9PiB0aGlzLnByb3BzLnNjcm9sbFZpZXdSZWYsXG4gICAgc2V0TG9jYWxSZWY6IHJlZiA9PiB7XG4gICAgICB0aGlzLl9zY3JvbGxWaWV3UmVmID0gcmVmO1xuXG4gICAgICAvKlxuICAgICAgICBUaGlzIGlzIGEgaGFjay4gSWRlYWxseSB3ZSB3b3VsZCBmb3J3YXJkUmVmIHRvIHRoZSB1bmRlcmx5aW5nXG4gICAgICAgIGhvc3QgY29tcG9uZW50LiBIb3dldmVyLCBzaW5jZSBTY3JvbGxWaWV3IGhhcyBpdCdzIG93biBtZXRob2RzIHRoYXQgY2FuIGJlXG4gICAgICAgIGNhbGxlZCBhcyB3ZWxsLCBpZiB3ZSB1c2VkIHRoZSBzdGFuZGFyZCBmb3J3YXJkUmVmIHRoZW4gdGhlc2VcbiAgICAgICAgbWV0aG9kcyB3b3VsZG4ndCBiZSBhY2Nlc3NpYmxlIGFuZCB0aHVzIGJlIGEgYnJlYWtpbmcgY2hhbmdlLlxuXG4gICAgICAgIFRoZXJlZm9yZSB3ZSBlZGl0IHJlZiB0byBpbmNsdWRlIFNjcm9sbFZpZXcncyBwdWJsaWMgbWV0aG9kcyBzbyB0aGF0XG4gICAgICAgIHRoZXkgYXJlIGNhbGxhYmxlIGZyb20gdGhlIHJlZi5cbiAgICAgICovXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIHJlZi5nZXRTY3JvbGxSZXNwb25kZXIgPSB0aGlzLmdldFNjcm9sbFJlc3BvbmRlcjtcbiAgICAgICAgcmVmLmdldFNjcm9sbGFibGVOb2RlID0gdGhpcy5nZXRTY3JvbGxhYmxlTm9kZTtcbiAgICAgICAgcmVmLmdldElubmVyVmlld05vZGUgPSB0aGlzLmdldElubmVyVmlld05vZGU7XG4gICAgICAgIHJlZi5nZXRJbm5lclZpZXdSZWYgPSB0aGlzLmdldElubmVyVmlld1JlZjtcbiAgICAgICAgcmVmLmdldE5hdGl2ZVNjcm9sbFJlZiA9IHRoaXMuZ2V0TmF0aXZlU2Nyb2xsUmVmO1xuICAgICAgICByZWYuc2Nyb2xsVG8gPSB0aGlzLnNjcm9sbFRvO1xuICAgICAgICByZWYuc2Nyb2xsVG9FbmQgPSB0aGlzLnNjcm9sbFRvRW5kO1xuICAgICAgICByZWYuZmxhc2hTY3JvbGxJbmRpY2F0b3JzID0gdGhpcy5mbGFzaFNjcm9sbEluZGljYXRvcnM7XG5cbiAgICAgICAgLy8gJEZsb3dGaXhNZSAtIFRoaXMgbWV0aG9kIHdhcyBtYW51YWxseSBib3VuZCBmcm9tIFNjcm9sbFJlc3BvbmRlci5taXhpblxuICAgICAgICByZWYuc2Nyb2xsUmVzcG9uZGVyWm9vbVRvID0gdGhpcy5zY3JvbGxSZXNwb25kZXJab29tVG87XG4gICAgICAgIC8vICRGbG93Rml4TWUgLSBUaGlzIG1ldGhvZCB3YXMgbWFudWFsbHkgYm91bmQgZnJvbSBTY3JvbGxSZXNwb25kZXIubWl4aW5cbiAgICAgICAgcmVmLnNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQgPSB0aGlzLnNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQ7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlciwgd2hpY2ggc3VwcG9ydHNcbiAgICogb3BlcmF0aW9ucyBsaWtlIGBzY3JvbGxUb2AuIEFsbCBTY3JvbGxWaWV3LWxpa2UgY29tcG9uZW50cyBzaG91bGRcbiAgICogaW1wbGVtZW50IHRoaXMgbWV0aG9kIHNvIHRoYXQgdGhleSBjYW4gYmUgY29tcG9zZWQgd2hpbGUgcHJvdmlkaW5nIGFjY2Vzc1xuICAgKiB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyJ3MgbWV0aG9kcy5cbiAgICovXG4gIGdldFNjcm9sbFJlc3BvbmRlcjogKCkgPT4gU2Nyb2xsUmVzcG9uZGVyVHlwZSA9ICgpID0+IHtcbiAgICAvLyAkRmxvd0ZpeE1lIC0gb3ZlcnJpZGluZyB0eXBlIHRvIGluY2x1ZGUgU2Nyb2xsUmVzcG9uZGVyLk1peGluXG4gICAgcmV0dXJuICgodGhpczogYW55KTogU2Nyb2xsUmVzcG9uZGVyVHlwZSk7XG4gIH07XG5cbiAgZ2V0U2Nyb2xsYWJsZU5vZGU6ICgpID0+ID9udW1iZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuIFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKHRoaXMuX3Njcm9sbFZpZXdSZWYpO1xuICB9O1xuXG4gIGdldElubmVyVmlld05vZGUoKTogP251bWJlciB7XG4gICAgcmV0dXJuIFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKHRoaXMuX2lubmVyVmlld1JlZik7XG4gIH1cblxuICBnZXRJbm5lclZpZXdSZWYoKTogP1JlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFZpZXc+IHtcbiAgICByZXR1cm4gdGhpcy5faW5uZXJWaWV3UmVmO1xuICB9XG5cbiAgZ2V0TmF0aXZlU2Nyb2xsUmVmOiAoKSA9PiA/UmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PG1peGVkPj4gPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX3Njcm9sbFZpZXdSZWY7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNjcm9sbHMgdG8gYSBnaXZlbiB4LCB5IG9mZnNldCwgZWl0aGVyIGltbWVkaWF0ZWx5IG9yIHdpdGggYSBzbW9vdGggYW5pbWF0aW9uLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiBgc2Nyb2xsVG8oe3g6IDAsIHk6IDAsIGFuaW1hdGVkOiB0cnVlfSlgXG4gICAqXG4gICAqIE5vdGU6IFRoZSB3ZWlyZCBmdW5jdGlvbiBzaWduYXR1cmUgaXMgZHVlIHRvIHRoZSBmYWN0IHRoYXQsIGZvciBoaXN0b3JpY2FsIHJlYXNvbnMsXG4gICAqIHRoZSBmdW5jdGlvbiBhbHNvIGFjY2VwdHMgc2VwYXJhdGUgYXJndW1lbnRzIGFzIGFuIGFsdGVybmF0aXZlIHRvIHRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogVGhpcyBpcyBkZXByZWNhdGVkIGR1ZSB0byBhbWJpZ3VpdHkgKHkgYmVmb3JlIHgpLCBhbmQgU0hPVUxEIE5PVCBCRSBVU0VELlxuICAgKi9cbiAgc2Nyb2xsVG86IChcbiAgICBvcHRpb25zPzpcbiAgICAgIHwge1xuICAgICAgICAgIHg/OiBudW1iZXIsXG4gICAgICAgICAgeT86IG51bWJlcixcbiAgICAgICAgICBhbmltYXRlZD86IGJvb2xlYW4sXG4gICAgICAgICAgLi4uXG4gICAgICAgIH1cbiAgICAgIHwgbnVtYmVyLFxuICAgIGRlcHJlY2F0ZWRYPzogbnVtYmVyLFxuICAgIGRlcHJlY2F0ZWRBbmltYXRlZD86IGJvb2xlYW4sXG4gICkgPT4gdm9pZCA9IChcbiAgICBvcHRpb25zPzpcbiAgICAgIHwge1xuICAgICAgICAgIHg/OiBudW1iZXIsXG4gICAgICAgICAgeT86IG51bWJlcixcbiAgICAgICAgICBhbmltYXRlZD86IGJvb2xlYW4sXG4gICAgICAgICAgLi4uXG4gICAgICAgIH1cbiAgICAgIHwgbnVtYmVyLFxuICAgIGRlcHJlY2F0ZWRYPzogbnVtYmVyLFxuICAgIGRlcHJlY2F0ZWRBbmltYXRlZD86IGJvb2xlYW4sXG4gICkgPT4ge1xuICAgIGxldCB4LCB5LCBhbmltYXRlZDtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdgc2Nyb2xsVG8oeSwgeCwgYW5pbWF0ZWQpYCBpcyBkZXByZWNhdGVkLiBVc2UgYHNjcm9sbFRvKHt4OiA1LCB5OiA1LCAnICtcbiAgICAgICAgICAnYW5pbWF0ZWQ6IHRydWV9KWAgaW5zdGVhZC4nLFxuICAgICAgKTtcbiAgICAgIHkgPSBvcHRpb25zO1xuICAgICAgeCA9IGRlcHJlY2F0ZWRYO1xuICAgICAgYW5pbWF0ZWQgPSBkZXByZWNhdGVkQW5pbWF0ZWQ7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zKSB7XG4gICAgICB5ID0gb3B0aW9ucy55O1xuICAgICAgeCA9IG9wdGlvbnMueDtcbiAgICAgIGFuaW1hdGVkID0gb3B0aW9ucy5hbmltYXRlZDtcbiAgICB9XG4gICAgdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLnNjcm9sbFJlc3BvbmRlclNjcm9sbFRvKHtcbiAgICAgIHg6IHggfHwgMCxcbiAgICAgIHk6IHkgfHwgMCxcbiAgICAgIGFuaW1hdGVkOiBhbmltYXRlZCAhPT0gZmFsc2UsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIElmIHRoaXMgaXMgYSB2ZXJ0aWNhbCBTY3JvbGxWaWV3IHNjcm9sbHMgdG8gdGhlIGJvdHRvbS5cbiAgICogSWYgdGhpcyBpcyBhIGhvcml6b250YWwgU2Nyb2xsVmlldyBzY3JvbGxzIHRvIHRoZSByaWdodC5cbiAgICpcbiAgICogVXNlIGBzY3JvbGxUb0VuZCh7YW5pbWF0ZWQ6IHRydWV9KWAgZm9yIHNtb290aCBhbmltYXRlZCBzY3JvbGxpbmcsXG4gICAqIGBzY3JvbGxUb0VuZCh7YW5pbWF0ZWQ6IGZhbHNlfSlgIGZvciBpbW1lZGlhdGUgc2Nyb2xsaW5nLlxuICAgKiBJZiBubyBvcHRpb25zIGFyZSBwYXNzZWQsIGBhbmltYXRlZGAgZGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICovXG4gIHNjcm9sbFRvRW5kOiAob3B0aW9ucz86ID97YW5pbWF0ZWQ/OiBib29sZWFuLCAuLi59KSA9PiB2b2lkID0gKFxuICAgIG9wdGlvbnM/OiA/e2FuaW1hdGVkPzogYm9vbGVhbiwgLi4ufSxcbiAgKSA9PiB7XG4gICAgLy8gRGVmYXVsdCB0byB0cnVlXG4gICAgY29uc3QgYW5pbWF0ZWQgPSAob3B0aW9ucyAmJiBvcHRpb25zLmFuaW1hdGVkKSAhPT0gZmFsc2U7XG4gICAgdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLnNjcm9sbFJlc3BvbmRlclNjcm9sbFRvRW5kKHtcbiAgICAgIGFuaW1hdGVkOiBhbmltYXRlZCxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogRGlzcGxheXMgdGhlIHNjcm9sbCBpbmRpY2F0b3JzIG1vbWVudGFyaWx5LlxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBmbGFzaFNjcm9sbEluZGljYXRvcnM6ICgpID0+IHZvaWQgPSAoKSA9PiB7XG4gICAgdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLnNjcm9sbFJlc3BvbmRlckZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpO1xuICB9O1xuXG4gIF9nZXRLZXlGb3JJbmRleChpbmRleCwgY2hpbGRBcnJheSkge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRBcnJheVtpbmRleF07XG4gICAgcmV0dXJuIGNoaWxkICYmIGNoaWxkLmtleTtcbiAgfVxuXG4gIF91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQuZGV0YWNoKCk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcyAmJlxuICAgICAgdGhpcy5wcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDBcbiAgICApIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50ID0gQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5hdHRhY2hOYXRpdmVFdmVudChcbiAgICAgICAgdGhpcy5fc2Nyb2xsVmlld1JlZixcbiAgICAgICAgJ29uU2Nyb2xsJyxcbiAgICAgICAgW3tuYXRpdmVFdmVudDoge2NvbnRlbnRPZmZzZXQ6IHt5OiB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlfX19XSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX3NldFN0aWNreUhlYWRlclJlZihcbiAgICBrZXk6IHN0cmluZyxcbiAgICByZWY6ID9SZWFjdC5FbGVtZW50UmVmPFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGU+LFxuICApIHtcbiAgICBpZiAocmVmKSB7XG4gICAgICB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLnNldChrZXksIHJlZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N0aWNreUhlYWRlclJlZnMuZGVsZXRlKGtleSk7XG4gICAgfVxuICB9XG5cbiAgX29uU3RpY2t5SGVhZGVyTGF5b3V0KGluZGV4LCBldmVudCwga2V5KSB7XG4gICAgY29uc3Qge3N0aWNreUhlYWRlckluZGljZXN9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIXN0aWNreUhlYWRlckluZGljZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRBcnJheSA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgaWYgKGtleSAhPT0gdGhpcy5fZ2V0S2V5Rm9ySW5kZXgoaW5kZXgsIGNoaWxkQXJyYXkpKSB7XG4gICAgICAvLyBpZ25vcmUgc3RhbGUgbGF5b3V0IHVwZGF0ZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGxheW91dFkgPSBldmVudC5uYXRpdmVFdmVudC5sYXlvdXQueTtcbiAgICB0aGlzLl9oZWFkZXJMYXlvdXRZcy5zZXQoa2V5LCBsYXlvdXRZKTtcblxuICAgIGNvbnN0IGluZGV4T2ZJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXMuaW5kZXhPZihpbmRleCk7XG4gICAgY29uc3QgcHJldmlvdXNIZWFkZXJJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXNbaW5kZXhPZkluZGV4IC0gMV07XG4gICAgaWYgKHByZXZpb3VzSGVhZGVySW5kZXggIT0gbnVsbCkge1xuICAgICAgY29uc3QgcHJldmlvdXNIZWFkZXIgPSB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLmdldChcbiAgICAgICAgdGhpcy5fZ2V0S2V5Rm9ySW5kZXgocHJldmlvdXNIZWFkZXJJbmRleCwgY2hpbGRBcnJheSksXG4gICAgICApO1xuICAgICAgcHJldmlvdXNIZWFkZXIgJiZcbiAgICAgICAgcHJldmlvdXNIZWFkZXIuc2V0TmV4dEhlYWRlclkgJiZcbiAgICAgICAgcHJldmlvdXNIZWFkZXIuc2V0TmV4dEhlYWRlclkobGF5b3V0WSk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZVNjcm9sbCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMucHJvcHMub25TY3JvbGwgJiZcbiAgICAgICAgdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlID09IG51bGwgJiZcbiAgICAgICAgUGxhdGZvcm0uT1MgPT09ICdpb3MnXG4gICAgICApIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgJ1lvdSBzcGVjaWZpZWQgYG9uU2Nyb2xsYCBvbiBhIDxTY3JvbGxWaWV3PiBidXQgbm90ICcgK1xuICAgICAgICAgICAgJ2BzY3JvbGxFdmVudFRocm90dGxlYC4gWW91IHdpbGwgb25seSByZWNlaXZlIG9uZSBldmVudC4gJyArXG4gICAgICAgICAgICAnVXNpbmcgYDE2YCB5b3UgZ2V0IGFsbCB0aGUgZXZlbnRzIGJ1dCBiZSBhd2FyZSB0aGF0IGl0IG1heSAnICtcbiAgICAgICAgICAgIFwiY2F1c2UgZnJhbWUgZHJvcHMsIHVzZSBhIGJpZ2dlciBudW1iZXIgaWYgeW91IGRvbid0IG5lZWQgYXMgXCIgK1xuICAgICAgICAgICAgJ211Y2ggcHJlY2lzaW9uLicsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmREaXNtaXNzTW9kZSA9PT0gJ29uLWRyYWcnICYmXG4gICAgICAgIHRoaXMuc3RhdGUuaXNUb3VjaGluZ1xuICAgICAgKSB7XG4gICAgICAgIGRpc21pc3NLZXlib2FyZCgpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsKGUpO1xuICB9O1xuXG4gIF9oYW5kbGVMYXlvdXQgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzID09PSB0cnVlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtsYXlvdXRIZWlnaHQ6IGUubmF0aXZlRXZlbnQubGF5b3V0LmhlaWdodH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5vbkxheW91dCkge1xuICAgICAgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgICB9XG4gIH07XG5cbiAgX2hhbmRsZUNvbnRlbnRPbkxheW91dCA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IGUubmF0aXZlRXZlbnQubGF5b3V0O1xuICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSAmJlxuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKHdpZHRoLCBoZWlnaHQpO1xuICB9O1xuXG4gIF9zY3JvbGxWaWV3UmVmOiA/UmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PG1peGVkPj4gPSBudWxsO1xuXG4gIF9pbm5lclZpZXdSZWY6ID9SZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaWV3PiA9IG51bGw7XG4gIF9zZXRJbm5lclZpZXdSZWYgPSBzZXRBbmRGb3J3YXJkUmVmKHtcbiAgICBnZXRGb3J3YXJkZWRSZWY6ICgpID0+IHRoaXMucHJvcHMuaW5uZXJWaWV3UmVmLFxuICAgIHNldExvY2FsUmVmOiByZWYgPT4ge1xuICAgICAgdGhpcy5faW5uZXJWaWV3UmVmID0gcmVmO1xuICAgIH0sXG4gIH0pO1xuXG4gIHJlbmRlcigpOiBSZWFjdC5Ob2RlIHwgUmVhY3QuRWxlbWVudDxzdHJpbmc+IHtcbiAgICBsZXQgU2Nyb2xsVmlld0NsYXNzO1xuICAgIGxldCBTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzO1xuICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5ob3Jpem9udGFsID09PSB0cnVlKSB7XG4gICAgICAgIFNjcm9sbFZpZXdDbGFzcyA9IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlldztcbiAgICAgICAgU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcyA9IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBTY3JvbGxWaWV3Q2xhc3MgPSBBbmRyb2lkU2Nyb2xsVmlldztcbiAgICAgICAgU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcyA9IFZpZXc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIFNjcm9sbFZpZXdDbGFzcyA9IFJDVFNjcm9sbFZpZXc7XG4gICAgICBTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzID0gUkNUU2Nyb2xsQ29udGVudFZpZXc7XG4gICAgfVxuXG4gICAgaW52YXJpYW50KFxuICAgICAgU2Nyb2xsVmlld0NsYXNzICE9PSB1bmRlZmluZWQsXG4gICAgICAnU2Nyb2xsVmlld0NsYXNzIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcsXG4gICAgKTtcblxuICAgIGludmFyaWFudChcbiAgICAgIFNjcm9sbENvbnRlbnRDb250YWluZXJWaWV3Q2xhc3MgIT09IHVuZGVmaW5lZCxcbiAgICAgICdTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcsXG4gICAgKTtcblxuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXJTdHlsZSA9IFtcbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZSAmJiBzdHlsZXMuY29udGVudENvbnRhaW5lckhvcml6b250YWwsXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSxcbiAgICBdO1xuICAgIGlmIChfX0RFVl9fICYmIHRoaXMucHJvcHMuc3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3Qgc3R5bGUgPSBmbGF0dGVuU3R5bGUodGhpcy5wcm9wcy5zdHlsZSk7XG4gICAgICBjb25zdCBjaGlsZExheW91dFByb3BzID0gWydhbGlnbkl0ZW1zJywgJ2p1c3RpZnlDb250ZW50J10uZmlsdGVyKFxuICAgICAgICBwcm9wID0+IHN0eWxlICYmIHN0eWxlW3Byb3BdICE9PSB1bmRlZmluZWQsXG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBjaGlsZExheW91dFByb3BzLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgJ1Njcm9sbFZpZXcgY2hpbGQgbGF5b3V0ICgnICtcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShjaGlsZExheW91dFByb3BzKSArXG4gICAgICAgICAgJykgbXVzdCBiZSBhcHBsaWVkIHRocm91Z2ggdGhlIGNvbnRlbnRDb250YWluZXJTdHlsZSBwcm9wLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBjb250ZW50U2l6ZUNoYW5nZVByb3BzID0ge307XG4gICAgaWYgKHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSkge1xuICAgICAgY29udGVudFNpemVDaGFuZ2VQcm9wcyA9IHtcbiAgICAgICAgb25MYXlvdXQ6IHRoaXMuX2hhbmRsZUNvbnRlbnRPbkxheW91dCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3Qge3N0aWNreUhlYWRlckluZGljZXN9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuXG4gICAgaWYgKHN0aWNreUhlYWRlckluZGljZXMgIT0gbnVsbCAmJiBzdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGNoaWxkQXJyYXkgPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuXG4gICAgICBjaGlsZHJlbiA9IGNoaWxkQXJyYXkubWFwKChjaGlsZCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXhPZkluZGV4ID0gY2hpbGQgPyBzdGlja3lIZWFkZXJJbmRpY2VzLmluZGV4T2YoaW5kZXgpIDogLTE7XG4gICAgICAgIGlmIChpbmRleE9mSW5kZXggPiAtMSkge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgICBjb25zdCBuZXh0SW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzW2luZGV4T2ZJbmRleCArIDFdO1xuICAgICAgICAgIGNvbnN0IFN0aWNreUhlYWRlckNvbXBvbmVudCA9XG4gICAgICAgICAgICB0aGlzLnByb3BzLlN0aWNreUhlYWRlckNvbXBvbmVudCB8fCBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8U3RpY2t5SGVhZGVyQ29tcG9uZW50XG4gICAgICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgICAgICByZWY9e3JlZiA9PiB0aGlzLl9zZXRTdGlja3lIZWFkZXJSZWYoa2V5LCByZWYpfVxuICAgICAgICAgICAgICBuZXh0SGVhZGVyTGF5b3V0WT17dGhpcy5faGVhZGVyTGF5b3V0WXMuZ2V0KFxuICAgICAgICAgICAgICAgIHRoaXMuX2dldEtleUZvckluZGV4KG5leHRJbmRleCwgY2hpbGRBcnJheSksXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIG9uTGF5b3V0PXtldmVudCA9PiB0aGlzLl9vblN0aWNreUhlYWRlckxheW91dChpbmRleCwgZXZlbnQsIGtleSl9XG4gICAgICAgICAgICAgIHNjcm9sbEFuaW1hdGVkVmFsdWU9e3RoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWV9XG4gICAgICAgICAgICAgIGludmVydGVkPXt0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnN9XG4gICAgICAgICAgICAgIHNjcm9sbFZpZXdIZWlnaHQ9e3RoaXMuc3RhdGUubGF5b3V0SGVpZ2h0fT5cbiAgICAgICAgICAgICAge2NoaWxkfVxuICAgICAgICAgICAgPC9TdGlja3lIZWFkZXJDb21wb25lbnQ+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjaGlsZHJlbiA9IChcbiAgICAgIDxDb250ZXh0LlByb3ZpZGVyXG4gICAgICAgIHZhbHVlPXtcbiAgICAgICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWVcbiAgICAgICAgICAgID8gc3RhbmRhcmRIb3Jpem9udGFsQ29udGV4dFxuICAgICAgICAgICAgOiBzdGFuZGFyZFZlcnRpY2FsQ29udGV4dFxuICAgICAgICB9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L0NvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcblxuICAgIGNvbnN0IGhhc1N0aWNreUhlYWRlcnMgPVxuICAgICAgQXJyYXkuaXNBcnJheShzdGlja3lIZWFkZXJJbmRpY2VzKSAmJiBzdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDA7XG5cbiAgICBjb25zdCBjb250ZW50Q29udGFpbmVyID0gKFxuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuMTEyLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuMTEyIHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciwgZGVsZXRlXG4gICAgICAgKiB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgPFNjcm9sbENvbnRlbnRDb250YWluZXJWaWV3Q2xhc3NcbiAgICAgICAgey4uLmNvbnRlbnRTaXplQ2hhbmdlUHJvcHN9XG4gICAgICAgIHJlZj17dGhpcy5fc2V0SW5uZXJWaWV3UmVmfVxuICAgICAgICBzdHlsZT17Y29udGVudENvbnRhaW5lclN0eWxlfVxuICAgICAgICByZW1vdmVDbGlwcGVkU3Vidmlld3M9e1xuICAgICAgICAgIC8vIFN1YnZpZXcgY2xpcHBpbmcgY2F1c2VzIGlzc3VlcyB3aXRoIHN0aWNreSBoZWFkZXJzIG9uIEFuZHJvaWQgYW5kXG4gICAgICAgICAgLy8gd291bGQgYmUgaGFyZCB0byBmaXggcHJvcGVybHkgaW4gYSBwZXJmb3JtYW50IHdheS5cbiAgICAgICAgICBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnICYmIGhhc1N0aWNreUhlYWRlcnNcbiAgICAgICAgICAgID8gZmFsc2VcbiAgICAgICAgICAgIDogdGhpcy5wcm9wcy5yZW1vdmVDbGlwcGVkU3Vidmlld3NcbiAgICAgICAgfVxuICAgICAgICBjb2xsYXBzYWJsZT17ZmFsc2V9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L1Njcm9sbENvbnRlbnRDb250YWluZXJWaWV3Q2xhc3M+XG4gICAgKTtcblxuICAgIGNvbnN0IGFsd2F5c0JvdW5jZUhvcml6b250YWwgPVxuICAgICAgdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VIb3Jpem9udGFsICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZUhvcml6b250YWxcbiAgICAgICAgOiB0aGlzLnByb3BzLmhvcml6b250YWw7XG5cbiAgICBjb25zdCBhbHdheXNCb3VuY2VWZXJ0aWNhbCA9XG4gICAgICB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZVZlcnRpY2FsICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZVZlcnRpY2FsXG4gICAgICAgIDogIXRoaXMucHJvcHMuaG9yaXpvbnRhbDtcblxuICAgIGNvbnN0IERFUFJFQ0FURURfc2VuZFVwZGF0ZWRDaGlsZEZyYW1lcyA9ICEhdGhpcy5wcm9wc1xuICAgICAgLkRFUFJFQ0FURURfc2VuZFVwZGF0ZWRDaGlsZEZyYW1lcztcblxuICAgIGNvbnN0IGJhc2VTdHlsZSA9XG4gICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWVcbiAgICAgICAgPyBzdHlsZXMuYmFzZUhvcml6b250YWxcbiAgICAgICAgOiBzdHlsZXMuYmFzZVZlcnRpY2FsO1xuICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgLi4udGhpcy5wcm9wcyxcbiAgICAgIGFsd2F5c0JvdW5jZUhvcml6b250YWwsXG4gICAgICBhbHdheXNCb3VuY2VWZXJ0aWNhbCxcbiAgICAgIHN0eWxlOiBbYmFzZVN0eWxlLCB0aGlzLnByb3BzLnN0eWxlXSxcbiAgICAgIC8vIE92ZXJyaWRlIHRoZSBvbkNvbnRlbnRTaXplQ2hhbmdlIGZyb20gcHJvcHMsIHNpbmNlIHRoaXMgZXZlbnQgY2FuXG4gICAgICAvLyBidWJibGUgdXAgZnJvbSBUZXh0SW5wdXRzXG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlOiBudWxsLFxuICAgICAgb25MYXlvdXQ6IHRoaXMuX2hhbmRsZUxheW91dCxcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxCZWdpbjogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEVuZDogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVNb21lbnR1bVNjcm9sbEVuZCxcbiAgICAgIG9uUmVzcG9uZGVyR3JhbnQ6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlUmVzcG9uZGVyR3JhbnQsXG4gICAgICBvblJlc3BvbmRlclJlamVjdDogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJSZWplY3QsXG4gICAgICBvblJlc3BvbmRlclJlbGVhc2U6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlUmVzcG9uZGVyUmVsZWFzZSxcbiAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0OiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZVRlcm1pbmF0aW9uUmVxdWVzdCxcbiAgICAgIG9uU2Nyb2xsQmVnaW5EcmFnOiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbEJlZ2luRHJhZyxcbiAgICAgIG9uU2Nyb2xsRW5kRHJhZzogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLnNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbEVuZERyYWcsXG4gICAgICBvblNjcm9sbFNob3VsZFNldFJlc3BvbmRlcjogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGxTaG91bGRTZXRSZXNwb25kZXIsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyLFxuICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmU6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlLFxuICAgICAgb25Ub3VjaEVuZDogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLnNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoRW5kLFxuICAgICAgb25Ub3VjaE1vdmU6IHRoaXMuX3Njcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaE1vdmUsXG4gICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuX3Njcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaFN0YXJ0LFxuICAgICAgb25Ub3VjaENhbmNlbDogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLnNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoQ2FuY2VsLFxuICAgICAgb25TY3JvbGw6IHRoaXMuX2hhbmRsZVNjcm9sbCxcbiAgICAgIHNjcm9sbEJhclRodW1iSW1hZ2U6IHJlc29sdmVBc3NldFNvdXJjZSh0aGlzLnByb3BzLnNjcm9sbEJhclRodW1iSW1hZ2UpLFxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogaGFzU3RpY2t5SGVhZGVyc1xuICAgICAgICA/IDFcbiAgICAgICAgOiB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUsXG4gICAgICBzZW5kTW9tZW50dW1FdmVudHM6XG4gICAgICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luIHx8IHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZFxuICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgIDogZmFsc2UsXG4gICAgICBERVBSRUNBVEVEX3NlbmRVcGRhdGVkQ2hpbGRGcmFtZXMsXG4gICAgICAvLyBkZWZhdWx0IHRvIHRydWVcbiAgICAgIHNuYXBUb1N0YXJ0OiB0aGlzLnByb3BzLnNuYXBUb1N0YXJ0ICE9PSBmYWxzZSxcbiAgICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZVxuICAgICAgc25hcFRvRW5kOiB0aGlzLnByb3BzLnNuYXBUb0VuZCAhPT0gZmFsc2UsXG4gICAgICAvLyBwYWdpbmdFbmFibGVkIGlzIG92ZXJyaWRkZW4gYnkgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzXG4gICAgICBwYWdpbmdFbmFibGVkOiBQbGF0Zm9ybS5zZWxlY3Qoe1xuICAgICAgICAvLyBvbiBpT1MsIHBhZ2luZ0VuYWJsZWQgbXVzdCBiZSBzZXQgdG8gZmFsc2UgdG8gaGF2ZSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHMgd29ya1xuICAgICAgICBpb3M6XG4gICAgICAgICAgdGhpcy5wcm9wcy5wYWdpbmdFbmFibGVkID09PSB0cnVlICYmXG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9JbnRlcnZhbCA9PSBudWxsICYmXG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9PZmZzZXRzID09IG51bGwsXG4gICAgICAgIC8vIG9uIEFuZHJvaWQsIHBhZ2luZ0VuYWJsZWQgbXVzdCBiZSBzZXQgdG8gdHJ1ZSB0byBoYXZlIHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0cyB3b3JrXG4gICAgICAgIGFuZHJvaWQ6XG4gICAgICAgICAgdGhpcy5wcm9wcy5wYWdpbmdFbmFibGVkID09PSB0cnVlIHx8XG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9JbnRlcnZhbCAhPSBudWxsIHx8XG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9PZmZzZXRzICE9IG51bGwsXG4gICAgICB9KSxcbiAgICB9O1xuXG4gICAgY29uc3Qge2RlY2VsZXJhdGlvblJhdGV9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZGVjZWxlcmF0aW9uUmF0ZSAhPSBudWxsKSB7XG4gICAgICBwcm9wcy5kZWNlbGVyYXRpb25SYXRlID0gcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUoZGVjZWxlcmF0aW9uUmF0ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVmcmVzaENvbnRyb2wgPSB0aGlzLnByb3BzLnJlZnJlc2hDb250cm9sO1xuXG4gICAgaWYgKHJlZnJlc2hDb250cm9sKSB7XG4gICAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gICAgICAgIC8vIE9uIGlPUyB0aGUgUmVmcmVzaENvbnRyb2wgaXMgYSBjaGlsZCBvZiB0aGUgU2Nyb2xsVmlldy5cbiAgICAgICAgLy8gdHZPUyBsYWNrcyBuYXRpdmUgc3VwcG9ydCBmb3IgUmVmcmVzaENvbnRyb2wsIHNvIGRvbid0IGluY2x1ZGUgaXQgaW4gdGhhdCBjYXNlXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgLyogJEZsb3dGaXhNZSg+PTAuMTE3LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzXG4gICAgICAgICAgICogYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjExNyB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsXG4gICAgICAgICAgICogZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICAgICAgPFNjcm9sbFZpZXdDbGFzcyB7Li4ucHJvcHN9IHJlZj17dGhpcy5fc2V0TmF0aXZlUmVmfT5cbiAgICAgICAgICAgIHtQbGF0Zm9ybS5pc1RWID8gbnVsbCA6IHJlZnJlc2hDb250cm9sfVxuICAgICAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICAgICAgPC9TY3JvbGxWaWV3Q2xhc3M+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgICAgICAgLy8gT24gQW5kcm9pZCB3cmFwIHRoZSBTY3JvbGxWaWV3IHdpdGggYSBBbmRyb2lkU3dpcGVSZWZyZXNoTGF5b3V0LlxuICAgICAgICAvLyBTaW5jZSB0aGUgU2Nyb2xsVmlldyBpcyB3cmFwcGVkIGFkZCB0aGUgc3R5bGUgcHJvcHMgdG8gdGhlXG4gICAgICAgIC8vIEFuZHJvaWRTd2lwZVJlZnJlc2hMYXlvdXQgYW5kIHVzZSBmbGV4OiAxIGZvciB0aGUgU2Nyb2xsVmlldy5cbiAgICAgICAgLy8gTm90ZTogd2Ugc2hvdWxkIHNwbGl0IHByb3BzLnN0eWxlIG9uIHRoZSBpbm5lciBhbmQgb3V0ZXIgcHJvcHNcbiAgICAgICAgLy8gaG93ZXZlciwgdGhlIFNjcm9sbFZpZXcgc3RpbGwgbmVlZHMgdGhlIGJhc2VTdHlsZSB0byBiZSBzY3JvbGxhYmxlXG4gICAgICAgIGNvbnN0IHtvdXRlciwgaW5uZXJ9ID0gc3BsaXRMYXlvdXRQcm9wcyhmbGF0dGVuU3R5bGUocHJvcHMuc3R5bGUpKTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChcbiAgICAgICAgICByZWZyZXNoQ29udHJvbCxcbiAgICAgICAgICB7c3R5bGU6IFtiYXNlU3R5bGUsIG91dGVyXX0sXG4gICAgICAgICAgPFNjcm9sbFZpZXdDbGFzc1xuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgc3R5bGU9e1tiYXNlU3R5bGUsIGlubmVyXX1cbiAgICAgICAgICAgIHJlZj17dGhpcy5fc2V0TmF0aXZlUmVmfT5cbiAgICAgICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgICAgIDwvU2Nyb2xsVmlld0NsYXNzPixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxTY3JvbGxWaWV3Q2xhc3Mgey4uLnByb3BzfSByZWY9e3RoaXMuX3NldE5hdGl2ZVJlZn0+XG4gICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgPC9TY3JvbGxWaWV3Q2xhc3M+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGJhc2VWZXJ0aWNhbDoge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIGZsZXhTaHJpbms6IDEsXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgb3ZlcmZsb3c6ICdzY3JvbGwnLFxuICB9LFxuICBiYXNlSG9yaXpvbnRhbDoge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIGZsZXhTaHJpbms6IDEsXG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgb3ZlcmZsb3c6ICdzY3JvbGwnLFxuICB9LFxuICBjb250ZW50Q29udGFpbmVySG9yaXpvbnRhbDoge1xuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICB9LFxufSk7XG5cbmZ1bmN0aW9uIFdyYXBwZXIocHJvcHMsIHJlZikge1xuICByZXR1cm4gPFNjcm9sbFZpZXcgey4uLnByb3BzfSBzY3JvbGxWaWV3UmVmPXtyZWZ9IC8+O1xufVxuV3JhcHBlci5kaXNwbGF5TmFtZSA9ICdTY3JvbGxWaWV3JztcbmNvbnN0IEZvcndhcmRlZFNjcm9sbFZpZXcgPSBSZWFjdC5mb3J3YXJkUmVmKFdyYXBwZXIpO1xuXG4vLyAkRmxvd0ZpeE1lIEFkZCBzdGF0aWMgY29udGV4dCB0byBGb3J3YXJkZWRTY3JvbGxWaWV3XG5Gb3J3YXJkZWRTY3JvbGxWaWV3LkNvbnRleHQgPSBDb250ZXh0O1xuXG5Gb3J3YXJkZWRTY3JvbGxWaWV3LmRpc3BsYXlOYW1lID0gJ1Njcm9sbFZpZXcnO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgoRm9yd2FyZGVkU2Nyb2xsVmlldzogJEZsb3dGaXhNZSk6IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBSZWFjdC5FbGVtZW50Q29uZmlnPHR5cGVvZiBTY3JvbGxWaWV3PixcbiAgJFJlYWRPbmx5PHt8XG4gICAgLi4uJEV4YWN0PFJlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxtaXhlZD4+PixcbiAgICAuLi5TY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHMsXG4gIHx9Pixcbj4gJlxuICBTY3JvbGxWaWV3Q29tcG9uZW50U3RhdGljcyk7XG4iXX0=