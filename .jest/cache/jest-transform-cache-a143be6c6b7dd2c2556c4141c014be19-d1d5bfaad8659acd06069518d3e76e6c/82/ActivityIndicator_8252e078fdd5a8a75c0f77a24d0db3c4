333d6a65bfc31545b9b6ba611c973e21
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _excluded = ["animating", "color", "hidesWhenStopped", "size", "style", "theme"];

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _theming = require("../core/theming");

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

var DURATION = 2400;

var ActivityIndicator = function ActivityIndicator(_ref) {
  var _ref$animating = _ref.animating,
      animating = _ref$animating === void 0 ? true : _ref$animating,
      indicatorColor = _ref.color,
      _ref$hidesWhenStopped = _ref.hidesWhenStopped,
      hidesWhenStopped = _ref$hidesWhenStopped === void 0 ? true : _ref$hidesWhenStopped,
      _ref$size = _ref.size,
      indicatorSize = _ref$size === void 0 ? 'small' : _ref$size,
      style = _ref.style,
      theme = _ref.theme,
      rest = (0, _objectWithoutProperties2.default)(_ref, _excluded);

  var _React$useRef = React.useRef(new _reactNative.Animated.Value(0)),
      timer = _React$useRef.current;

  var _React$useRef2 = React.useRef(new _reactNative.Animated.Value(!animating && hidesWhenStopped ? 0 : 1)),
      fade = _React$useRef2.current;

  var rotation = React.useRef(undefined);
  var scale = theme.animation.scale;
  var startRotation = React.useCallback(function () {
    _reactNative.Animated.timing(fade, {
      duration: 200 * scale,
      toValue: 1,
      isInteraction: false,
      useNativeDriver: true
    }).start();

    if (rotation.current) {
      timer.setValue(0);

      _reactNative.Animated.loop(rotation.current).start();
    }
  }, [scale, fade, timer]);

  var stopRotation = function stopRotation() {
    if (rotation.current) {
      rotation.current.stop();
    }
  };

  React.useEffect(function () {
    if (rotation.current === undefined) {
      rotation.current = _reactNative.Animated.timing(timer, {
        duration: DURATION,
        easing: _reactNative.Easing.linear,
        useNativeDriver: _reactNative.Platform.OS !== 'web',
        toValue: 1,
        isInteraction: false
      });
    }

    if (animating) {
      startRotation();
    } else if (hidesWhenStopped) {
      _reactNative.Animated.timing(fade, {
        duration: 200 * scale,
        toValue: 0,
        useNativeDriver: true,
        isInteraction: false
      }).start(stopRotation);
    } else {
      stopRotation();
    }
  }, [animating, fade, hidesWhenStopped, startRotation, scale, timer]);
  var color = indicatorColor || theme.colors.primary;
  var size = typeof indicatorSize === 'string' ? indicatorSize === 'small' ? 24 : 48 : indicatorSize ? indicatorSize : 24;
  var frames = 60 * DURATION / 1000;

  var easing = _reactNative.Easing.bezier(0.4, 0.0, 0.7, 1.0);

  var containerStyle = {
    width: size,
    height: size / 2,
    overflow: 'hidden'
  };
  return React.createElement(_reactNative.View, _extends({
    style: [styles.container, style]
  }, rest, {
    accessible: true,
    accessibilityRole: "progressbar",
    accessibilityState: {
      busy: animating
    }
  }), React.createElement(_reactNative.Animated.View, {
    style: [{
      width: size,
      height: size,
      opacity: fade
    }],
    collapsable: false
  }, [0, 1].map(function (index) {
    var inputRange = Array.from(new Array(frames), function (_, frameIndex) {
      return frameIndex / (frames - 1);
    });
    var outputRange = Array.from(new Array(frames), function (_, frameIndex) {
      var progress = 2 * frameIndex / (frames - 1);
      var rotation = index ? +(360 - 15) : -(180 - 15);

      if (progress > 1.0) {
        progress = 2.0 - progress;
      }

      var direction = index ? -1 : +1;
      return "".concat(direction * (180 - 30) * easing(progress) + rotation, "deg");
    });
    var layerStyle = {
      width: size,
      height: size,
      transform: [{
        rotate: timer.interpolate({
          inputRange: [0, 1],
          outputRange: ["".concat(0 + 30 + 15, "deg"), "".concat(2 * 360 + 30 + 15, "deg")]
        })
      }]
    };
    var viewportStyle = {
      width: size,
      height: size,
      transform: [{
        translateY: index ? -size / 2 : 0
      }, {
        rotate: timer.interpolate({
          inputRange: inputRange,
          outputRange: outputRange
        })
      }]
    };
    var offsetStyle = index ? {
      top: size / 2
    } : null;
    var lineStyle = {
      width: size,
      height: size,
      borderColor: color,
      borderWidth: size / 10,
      borderRadius: size / 2
    };
    return React.createElement(_reactNative.Animated.View, {
      key: index,
      style: [styles.layer]
    }, React.createElement(_reactNative.Animated.View, {
      style: layerStyle
    }, React.createElement(_reactNative.Animated.View, {
      style: [containerStyle, offsetStyle],
      collapsable: false
    }, React.createElement(_reactNative.Animated.View, {
      style: viewportStyle
    }, React.createElement(_reactNative.Animated.View, {
      style: containerStyle,
      collapsable: false
    }, React.createElement(_reactNative.Animated.View, {
      style: lineStyle
    }))))));
  })));
};

var styles = _reactNative.StyleSheet.create({
  container: {
    justifyContent: 'center',
    alignItems: 'center'
  },
  layer: _objectSpread(_objectSpread({}, _reactNative.StyleSheet.absoluteFillObject), {}, {
    justifyContent: 'center',
    alignItems: 'center'
  })
});

var _default = (0, _theming.withTheme)(ActivityIndicator);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFjdGl2aXR5SW5kaWNhdG9yLnRzeCJdLCJuYW1lcyI6WyJEVVJBVElPTiIsIkFjdGl2aXR5SW5kaWNhdG9yIiwiYW5pbWF0aW5nIiwiY29sb3IiLCJoaWRlc1doZW5TdG9wcGVkIiwic2l6ZSIsImluZGljYXRvclNpemUiLCJyZXN0IiwiY3VycmVudCIsInRpbWVyIiwiUmVhY3QiLCJBbmltYXRlZCIsImZhZGUiLCJyb3RhdGlvbiIsImFuaW1hdGlvbiIsInNjYWxlIiwic3RhcnRSb3RhdGlvbiIsImR1cmF0aW9uIiwidG9WYWx1ZSIsImlzSW50ZXJhY3Rpb24iLCJ1c2VOYXRpdmVEcml2ZXIiLCJzdG9wUm90YXRpb24iLCJlYXNpbmciLCJFYXNpbmciLCJQbGF0Zm9ybSIsImluZGljYXRvckNvbG9yIiwidGhlbWUiLCJmcmFtZXMiLCJjb250YWluZXJTdHlsZSIsIndpZHRoIiwiaGVpZ2h0Iiwib3ZlcmZsb3ciLCJzdHlsZXMiLCJidXN5Iiwib3BhY2l0eSIsImluZGV4IiwiaW5wdXRSYW5nZSIsIkFycmF5IiwiZnJhbWVJbmRleCIsIm91dHB1dFJhbmdlIiwicHJvZ3Jlc3MiLCJkaXJlY3Rpb24iLCJsYXllclN0eWxlIiwidHJhbnNmb3JtIiwicm90YXRlIiwidmlld3BvcnRTdHlsZSIsInRyYW5zbGF0ZVkiLCJvZmZzZXRTdHlsZSIsInRvcCIsImxpbmVTdHlsZSIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJSYWRpdXMiLCJjb250YWluZXIiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJsYXllciIsIlN0eWxlU2hlZXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFBLEtBQUEsR0FBQSx1QkFBQSxDQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLFlBQUEsR0FBQSxPQUFBLENBQUEsY0FBQSxDQUFBOztBQVNBLElBQUEsUUFBQSxHQUFBLE9BQUEsbUJBQUE7Ozs7Ozs7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RixDQUpGLENBREYsQ0FERixDQURGO0FBbkVSLEdBWU8sQ0FKSCxDQVBGLENBREY7QUE3RkYsQ0FBQTs7QUFzTEEsSUFBTWpCLE1BQU0sR0FBRyxZQUFBLENBQUEsVUFBQSxDQUFBLE1BQUEsQ0FBa0I7QUFDL0JxQixFQUFBQSxTQUFTLEVBQUU7QUFDVEMsSUFBQUEsY0FBYyxFQURMLFFBQUE7QUFFVEMsSUFBQUEsVUFBVSxFQUFFO0FBRkgsR0FEb0I7QUFNL0JDLEVBQUFBLEtBQUssa0NBQ0FDLFlBQUFBLENBQUFBLFVBQUFBLENBREUsa0JBQUY7QUFHSEgsSUFBQUEsY0FBYyxFQUhULFFBQUY7QUFJSEMsSUFBQUEsVUFBVSxFQUFFO0FBSlQ7QUFOMEIsQ0FBbEIsQ0FBZjs7ZUFjZSxDQUFBLEdBQUEsUUFBQSxDQUFBLFNBQUEsRUFBQSxpQkFBQSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgQW5pbWF0ZWQsXG4gIEVhc2luZyxcbiAgUGxhdGZvcm0sXG4gIFN0eWxlUHJvcCxcbiAgU3R5bGVTaGVldCxcbiAgVmlldyxcbiAgVmlld1N0eWxlLFxufSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHsgd2l0aFRoZW1lIH0gZnJvbSAnLi4vY29yZS90aGVtaW5nJztcblxudHlwZSBQcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aFJlZjx0eXBlb2YgVmlldz4gJiB7XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHNob3cgdGhlIGluZGljYXRvciBvciBoaWRlIGl0LlxuICAgKi9cbiAgYW5pbWF0aW5nPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFRoZSBjb2xvciBvZiB0aGUgc3Bpbm5lci5cbiAgICovXG4gIGNvbG9yPzogc3RyaW5nO1xuICAvKipcbiAgICogU2l6ZSBvZiB0aGUgaW5kaWNhdG9yLlxuICAgKi9cbiAgc2l6ZT86ICdzbWFsbCcgfCAnbGFyZ2UnIHwgbnVtYmVyO1xuICAvKipcbiAgICogV2hldGhlciB0aGUgaW5kaWNhdG9yIHNob3VsZCBoaWRlIHdoZW4gbm90IGFuaW1hdGluZy5cbiAgICovXG4gIGhpZGVzV2hlblN0b3BwZWQ/OiBib29sZWFuO1xuICBzdHlsZT86IFN0eWxlUHJvcDxWaWV3U3R5bGU+O1xuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqL1xuICB0aGVtZTogUmVhY3ROYXRpdmVQYXBlci5UaGVtZTtcbn07XG5cbmNvbnN0IERVUkFUSU9OID0gMjQwMDtcblxuLyoqXG4gKiBBY3Rpdml0eSBpbmRpY2F0b3IgaXMgdXNlZCB0byBwcmVzZW50IHByb2dyZXNzIG9mIHNvbWUgYWN0aXZpdHkgaW4gdGhlIGFwcC5cbiAqIEl0IGNhbiBiZSB1c2VkIGFzIGEgZHJvcC1pbiBmb3IgdGhlIEFjdGl2aXR5SW5kaWNhdG9yIHNoaXBwZWQgd2l0aCBSZWFjdCBOYXRpdmUuXG4gKlxuICogPGRpdiBjbGFzcz1cInNjcmVlbnNob3RzXCI+XG4gKiAgIDxpbWcgc3JjPVwic2NyZWVuc2hvdHMvYWN0aXZpdHktaW5kaWNhdG9yLmdpZlwiIHN0eWxlPVwid2lkdGg6IDEwMHB4O1wiIC8+XG4gKiA8L2Rpdj5cbiAqXG4gKiAjIyBVc2FnZVxuICogYGBganNcbiAqIGltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbiAqIGltcG9ydCB7IEFjdGl2aXR5SW5kaWNhdG9yLCBDb2xvcnMgfSBmcm9tICdyZWFjdC1uYXRpdmUtcGFwZXInO1xuICpcbiAqIGNvbnN0IE15Q29tcG9uZW50ID0gKCkgPT4gKFxuICogICA8QWN0aXZpdHlJbmRpY2F0b3IgYW5pbWF0aW5nPXt0cnVlfSBjb2xvcj17Q29sb3JzLnJlZDgwMH0gLz5cbiAqICk7XG4gKlxuICogZXhwb3J0IGRlZmF1bHQgTXlDb21wb25lbnQ7XG4gKiBgYGBcbiAqL1xuY29uc3QgQWN0aXZpdHlJbmRpY2F0b3IgPSAoe1xuICBhbmltYXRpbmcgPSB0cnVlLFxuICBjb2xvcjogaW5kaWNhdG9yQ29sb3IsXG4gIGhpZGVzV2hlblN0b3BwZWQgPSB0cnVlLFxuICBzaXplOiBpbmRpY2F0b3JTaXplID0gJ3NtYWxsJyxcbiAgc3R5bGUsXG4gIHRoZW1lLFxuICAuLi5yZXN0XG59OiBQcm9wcykgPT4ge1xuICBjb25zdCB7IGN1cnJlbnQ6IHRpbWVyIH0gPSBSZWFjdC51c2VSZWY8QW5pbWF0ZWQuVmFsdWU+KFxuICAgIG5ldyBBbmltYXRlZC5WYWx1ZSgwKVxuICApO1xuICBjb25zdCB7IGN1cnJlbnQ6IGZhZGUgfSA9IFJlYWN0LnVzZVJlZjxBbmltYXRlZC5WYWx1ZT4oXG4gICAgbmV3IEFuaW1hdGVkLlZhbHVlKCFhbmltYXRpbmcgJiYgaGlkZXNXaGVuU3RvcHBlZCA/IDAgOiAxKVxuICApO1xuXG4gIGNvbnN0IHJvdGF0aW9uID0gUmVhY3QudXNlUmVmPEFuaW1hdGVkLkNvbXBvc2l0ZUFuaW1hdGlvbiB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkXG4gICk7XG5cbiAgY29uc3Qge1xuICAgIGFuaW1hdGlvbjogeyBzY2FsZSB9LFxuICB9ID0gdGhlbWU7XG5cbiAgY29uc3Qgc3RhcnRSb3RhdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAvLyBTaG93IGluZGljYXRvclxuICAgIEFuaW1hdGVkLnRpbWluZyhmYWRlLCB7XG4gICAgICBkdXJhdGlvbjogMjAwICogc2NhbGUsXG4gICAgICB0b1ZhbHVlOiAxLFxuICAgICAgaXNJbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgICB1c2VOYXRpdmVEcml2ZXI6IHRydWUsXG4gICAgfSkuc3RhcnQoKTtcblxuICAgIC8vIENpcmN1bGFyIGFuaW1hdGlvbiBpbiBsb29wXG4gICAgaWYgKHJvdGF0aW9uLmN1cnJlbnQpIHtcbiAgICAgIHRpbWVyLnNldFZhbHVlKDApO1xuICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgQW5pbWF0ZWQubG9vcChyb3RhdGlvbi5jdXJyZW50KS5zdGFydCgpO1xuICAgIH1cbiAgfSwgW3NjYWxlLCBmYWRlLCB0aW1lcl0pO1xuXG4gIGNvbnN0IHN0b3BSb3RhdGlvbiA9ICgpID0+IHtcbiAgICBpZiAocm90YXRpb24uY3VycmVudCkge1xuICAgICAgcm90YXRpb24uY3VycmVudC5zdG9wKCk7XG4gICAgfVxuICB9O1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJvdGF0aW9uLmN1cnJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQ2lyY3VsYXIgYW5pbWF0aW9uIGluIGxvb3BcbiAgICAgIHJvdGF0aW9uLmN1cnJlbnQgPSBBbmltYXRlZC50aW1pbmcodGltZXIsIHtcbiAgICAgICAgZHVyYXRpb246IERVUkFUSU9OLFxuICAgICAgICBlYXNpbmc6IEVhc2luZy5saW5lYXIsXG4gICAgICAgIC8vIEFuaW1hdGVkLmxvb3AgZG9lcyBub3Qgd29yayBpZiB1c2VOYXRpdmVEcml2ZXIgaXMgdHJ1ZSBvbiB3ZWJcbiAgICAgICAgdXNlTmF0aXZlRHJpdmVyOiBQbGF0Zm9ybS5PUyAhPT0gJ3dlYicsXG4gICAgICAgIHRvVmFsdWU6IDEsXG4gICAgICAgIGlzSW50ZXJhY3Rpb246IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGFuaW1hdGluZykge1xuICAgICAgc3RhcnRSb3RhdGlvbigpO1xuICAgIH0gZWxzZSBpZiAoaGlkZXNXaGVuU3RvcHBlZCkge1xuICAgICAgLy8gSGlkZSBpbmRpY2F0b3IgZmlyc3QgYW5kIHRoZW4gc3RvcCByb3RhdGlvblxuICAgICAgQW5pbWF0ZWQudGltaW5nKGZhZGUsIHtcbiAgICAgICAgZHVyYXRpb246IDIwMCAqIHNjYWxlLFxuICAgICAgICB0b1ZhbHVlOiAwLFxuICAgICAgICB1c2VOYXRpdmVEcml2ZXI6IHRydWUsXG4gICAgICAgIGlzSW50ZXJhY3Rpb246IGZhbHNlLFxuICAgICAgfSkuc3RhcnQoc3RvcFJvdGF0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcFJvdGF0aW9uKCk7XG4gICAgfVxuICB9LCBbYW5pbWF0aW5nLCBmYWRlLCBoaWRlc1doZW5TdG9wcGVkLCBzdGFydFJvdGF0aW9uLCBzY2FsZSwgdGltZXJdKTtcblxuICBjb25zdCBjb2xvciA9IGluZGljYXRvckNvbG9yIHx8IHRoZW1lLmNvbG9ycy5wcmltYXJ5O1xuICBjb25zdCBzaXplID1cbiAgICB0eXBlb2YgaW5kaWNhdG9yU2l6ZSA9PT0gJ3N0cmluZydcbiAgICAgID8gaW5kaWNhdG9yU2l6ZSA9PT0gJ3NtYWxsJ1xuICAgICAgICA/IDI0XG4gICAgICAgIDogNDhcbiAgICAgIDogaW5kaWNhdG9yU2l6ZVxuICAgICAgPyBpbmRpY2F0b3JTaXplXG4gICAgICA6IDI0O1xuXG4gIGNvbnN0IGZyYW1lcyA9ICg2MCAqIERVUkFUSU9OKSAvIDEwMDA7XG4gIGNvbnN0IGVhc2luZyA9IEVhc2luZy5iZXppZXIoMC40LCAwLjAsIDAuNywgMS4wKTtcbiAgY29uc3QgY29udGFpbmVyU3R5bGUgPSB7XG4gICAgd2lkdGg6IHNpemUsXG4gICAgaGVpZ2h0OiBzaXplIC8gMixcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicgYXMgY29uc3QsXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8Vmlld1xuICAgICAgc3R5bGU9e1tzdHlsZXMuY29udGFpbmVyLCBzdHlsZV19XG4gICAgICB7Li4ucmVzdH1cbiAgICAgIGFjY2Vzc2libGVcbiAgICAgIGFjY2Vzc2liaWxpdHlSb2xlPVwicHJvZ3Jlc3NiYXJcIlxuICAgICAgYWNjZXNzaWJpbGl0eVN0YXRlPXt7IGJ1c3k6IGFuaW1hdGluZyB9fVxuICAgID5cbiAgICAgIDxBbmltYXRlZC5WaWV3XG4gICAgICAgIHN0eWxlPXtbeyB3aWR0aDogc2l6ZSwgaGVpZ2h0OiBzaXplLCBvcGFjaXR5OiBmYWRlIH1dfVxuICAgICAgICBjb2xsYXBzYWJsZT17ZmFsc2V9XG4gICAgICA+XG4gICAgICAgIHtbMCwgMV0ubWFwKChpbmRleCkgPT4ge1xuICAgICAgICAgIC8vIFRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vbjRrei9yZWFjdC1uYXRpdmUtaW5kaWNhdG9ycyBmb3IgdGhlIGdyZWF0IHdvcmtcbiAgICAgICAgICBjb25zdCBpbnB1dFJhbmdlID0gQXJyYXkuZnJvbShcbiAgICAgICAgICAgIG5ldyBBcnJheShmcmFtZXMpLFxuICAgICAgICAgICAgKF8sIGZyYW1lSW5kZXgpID0+IGZyYW1lSW5kZXggLyAoZnJhbWVzIC0gMSlcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IG91dHB1dFJhbmdlID0gQXJyYXkuZnJvbShuZXcgQXJyYXkoZnJhbWVzKSwgKF8sIGZyYW1lSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGxldCBwcm9ncmVzcyA9ICgyICogZnJhbWVJbmRleCkgLyAoZnJhbWVzIC0gMSk7XG4gICAgICAgICAgICBjb25zdCByb3RhdGlvbiA9IGluZGV4ID8gKygzNjAgLSAxNSkgOiAtKDE4MCAtIDE1KTtcblxuICAgICAgICAgICAgaWYgKHByb2dyZXNzID4gMS4wKSB7XG4gICAgICAgICAgICAgIHByb2dyZXNzID0gMi4wIC0gcHJvZ3Jlc3M7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGluZGV4ID8gLTEgOiArMTtcblxuICAgICAgICAgICAgcmV0dXJuIGAke2RpcmVjdGlvbiAqICgxODAgLSAzMCkgKiBlYXNpbmcocHJvZ3Jlc3MpICsgcm90YXRpb259ZGVnYDtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IGxheWVyU3R5bGUgPSB7XG4gICAgICAgICAgICB3aWR0aDogc2l6ZSxcbiAgICAgICAgICAgIGhlaWdodDogc2l6ZSxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcm90YXRlOiB0aW1lci5pbnRlcnBvbGF0ZSh7XG4gICAgICAgICAgICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICAgICAgICAgICAgICBvdXRwdXRSYW5nZTogW2AkezAgKyAzMCArIDE1fWRlZ2AsIGAkezIgKiAzNjAgKyAzMCArIDE1fWRlZ2BdLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgY29uc3Qgdmlld3BvcnRTdHlsZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVZOiBpbmRleCA/IC1zaXplIC8gMiA6IDAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByb3RhdGU6IHRpbWVyLmludGVycG9sYXRlKHsgaW5wdXRSYW5nZSwgb3V0cHV0UmFuZ2UgfSksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBjb25zdCBvZmZzZXRTdHlsZSA9IGluZGV4ID8geyB0b3A6IHNpemUgLyAyIH0gOiBudWxsO1xuXG4gICAgICAgICAgY29uc3QgbGluZVN0eWxlID0ge1xuICAgICAgICAgICAgd2lkdGg6IHNpemUsXG4gICAgICAgICAgICBoZWlnaHQ6IHNpemUsXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogY29sb3IsXG4gICAgICAgICAgICBib3JkZXJXaWR0aDogc2l6ZSAvIDEwLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBzaXplIC8gMixcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxBbmltYXRlZC5WaWV3IGtleT17aW5kZXh9IHN0eWxlPXtbc3R5bGVzLmxheWVyXX0+XG4gICAgICAgICAgICAgIDxBbmltYXRlZC5WaWV3IHN0eWxlPXtsYXllclN0eWxlfT5cbiAgICAgICAgICAgICAgICA8QW5pbWF0ZWQuVmlld1xuICAgICAgICAgICAgICAgICAgc3R5bGU9e1tjb250YWluZXJTdHlsZSwgb2Zmc2V0U3R5bGVdfVxuICAgICAgICAgICAgICAgICAgY29sbGFwc2FibGU9e2ZhbHNlfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxBbmltYXRlZC5WaWV3IHN0eWxlPXt2aWV3cG9ydFN0eWxlfT5cbiAgICAgICAgICAgICAgICAgICAgPEFuaW1hdGVkLlZpZXcgc3R5bGU9e2NvbnRhaW5lclN0eWxlfSBjb2xsYXBzYWJsZT17ZmFsc2V9PlxuICAgICAgICAgICAgICAgICAgICAgIDxBbmltYXRlZC5WaWV3IHN0eWxlPXtsaW5lU3R5bGV9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvQW5pbWF0ZWQuVmlldz5cbiAgICAgICAgICAgICAgICAgIDwvQW5pbWF0ZWQuVmlldz5cbiAgICAgICAgICAgICAgICA8L0FuaW1hdGVkLlZpZXc+XG4gICAgICAgICAgICAgIDwvQW5pbWF0ZWQuVmlldz5cbiAgICAgICAgICAgIDwvQW5pbWF0ZWQuVmlldz5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvQW5pbWF0ZWQuVmlldz5cbiAgICA8L1ZpZXc+XG4gICk7XG59O1xuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGNvbnRhaW5lcjoge1xuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgfSxcblxuICBsYXllcjoge1xuICAgIC4uLlN0eWxlU2hlZXQuYWJzb2x1dGVGaWxsT2JqZWN0LFxuXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICB9LFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhUaGVtZShBY3Rpdml0eUluZGljYXRvcik7XG4iXX0=