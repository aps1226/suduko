8c491ae6a823fb2ac9e10c52830137a2
"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.getFilename = getFilename;exports.getFileExtension = getFileExtension;exports.getManifestBaseUrl = getManifestBaseUrl;var _urlParse = _interopRequireDefault(require("url-parse"));
function getFilename(url) {
  var _URL = new _urlParse.default(url, {}),pathname = _URL.pathname;
  return pathname.substring(pathname.lastIndexOf('/') + 1);
}
function getFileExtension(url) {
  var filename = getFilename(url);
  var dotIndex = filename.lastIndexOf('.');

  return dotIndex > 0 ? filename.substring(dotIndex) : '';
}











function getManifestBaseUrl(manifestUrl) {
  var urlObject = new _urlParse.default(manifestUrl, {});

  if (urlObject.protocol === 'exp:') {
    urlObject.set('protocol', 'http:');
  } else
  if (urlObject.protocol === 'exps:') {
    urlObject.set('protocol', 'https:');
  }

  var directory = urlObject.pathname.substring(0, urlObject.pathname.lastIndexOf('/') + 1);
  urlObject.set('pathname', directory);
  urlObject.set('query', '');
  urlObject.set('hash', '');
  return urlObject.href;
}