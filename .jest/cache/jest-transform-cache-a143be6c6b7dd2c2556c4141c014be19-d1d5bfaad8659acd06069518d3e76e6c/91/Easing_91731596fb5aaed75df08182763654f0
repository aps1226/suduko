1191628ac59c69c8dea4c455923d31f9
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _ease;

var Easing = function () {
  function Easing() {
    (0, _classCallCheck2.default)(this, Easing);
  }

  (0, _createClass2.default)(Easing, null, [{
    key: "step0",
    value: function step0(n) {
      return n > 0 ? 1 : 0;
    }
  }, {
    key: "step1",
    value: function step1(n) {
      return n >= 1 ? 1 : 0;
    }
  }, {
    key: "linear",
    value: function linear(t) {
      return t;
    }
  }, {
    key: "ease",
    value: function ease(t) {
      if (!_ease) {
        _ease = Easing.bezier(0.42, 0, 1, 1);
      }

      return _ease(t);
    }
  }, {
    key: "quad",
    value: function quad(t) {
      return t * t;
    }
  }, {
    key: "cubic",
    value: function cubic(t) {
      return t * t * t;
    }
  }, {
    key: "poly",
    value: function poly(n) {
      return function (t) {
        return Math.pow(t, n);
      };
    }
  }, {
    key: "sin",
    value: function sin(t) {
      return 1 - Math.cos(t * Math.PI / 2);
    }
  }, {
    key: "circle",
    value: function circle(t) {
      return 1 - Math.sqrt(1 - t * t);
    }
  }, {
    key: "exp",
    value: function exp(t) {
      return Math.pow(2, 10 * (t - 1));
    }
  }, {
    key: "elastic",
    value: function elastic() {
      var bounciness = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var p = bounciness * Math.PI;
      return function (t) {
        return 1 - Math.pow(Math.cos(t * Math.PI / 2), 3) * Math.cos(t * p);
      };
    }
  }, {
    key: "back",
    value: function back() {
      var s = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1.70158;
      return function (t) {
        return t * t * ((s + 1) * t - s);
      };
    }
  }, {
    key: "bounce",
    value: function bounce(t) {
      if (t < 1 / 2.75) {
        return 7.5625 * t * t;
      }

      if (t < 2 / 2.75) {
        var _t = t - 1.5 / 2.75;

        return 7.5625 * _t * _t + 0.75;
      }

      if (t < 2.5 / 2.75) {
        var _t2 = t - 2.25 / 2.75;

        return 7.5625 * _t2 * _t2 + 0.9375;
      }

      var t2 = t - 2.625 / 2.75;
      return 7.5625 * t2 * t2 + 0.984375;
    }
  }, {
    key: "bezier",
    value: function bezier(x1, y1, x2, y2) {
      var _bezier = require("./bezier");

      return _bezier(x1, y1, x2, y2);
    }
  }, {
    key: "in",
    value: function _in(easing) {
      return easing;
    }
  }, {
    key: "out",
    value: function out(easing) {
      return function (t) {
        return 1 - easing(1 - t);
      };
    }
  }, {
    key: "inOut",
    value: function inOut(easing) {
      return function (t) {
        if (t < 0.5) {
          return easing(t * 2) / 2;
        }

        return 1 - easing((1 - t) * 2) / 2;
      };
    }
  }]);
  return Easing;
}();

module.exports = Easing;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkVhc2luZy5qcyJdLCJuYW1lcyI6WyJlYXNlIiwiRWFzaW5nIiwibiIsInQiLCJiZXppZXIiLCJNYXRoIiwicG93IiwiY29zIiwiUEkiLCJzcXJ0IiwiYm91bmNpbmVzcyIsInAiLCJzIiwidDIiLCJ4MSIsInkxIiwieDIiLCJ5MiIsIl9iZXppZXIiLCJyZXF1aXJlIiwiZWFzaW5nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBVUE7Ozs7Ozs7O0FBRUEsSUFBSUEsS0FBSjs7SUErQ01DLE07Ozs7Ozs7V0FJSixlQUFhQyxDQUFiLEVBQWdDO0FBQzlCLGFBQU9BLENBQUMsR0FBRyxDQUFKLEdBQVEsQ0FBUixHQUFZLENBQW5CO0FBQ0Q7OztXQUtELGVBQWFBLENBQWIsRUFBZ0M7QUFDOUIsYUFBT0EsQ0FBQyxJQUFJLENBQUwsR0FBUyxDQUFULEdBQWEsQ0FBcEI7QUFDRDs7O1dBUUQsZ0JBQWNDLENBQWQsRUFBaUM7QUFDL0IsYUFBT0EsQ0FBUDtBQUNEOzs7V0FRRCxjQUFZQSxDQUFaLEVBQStCO0FBQzdCLFVBQUksQ0FBQ0gsS0FBTCxFQUFXO0FBQ1RBLFFBQUFBLEtBQUksR0FBR0MsTUFBTSxDQUFDRyxNQUFQLENBQWMsSUFBZCxFQUFvQixDQUFwQixFQUF1QixDQUF2QixFQUEwQixDQUExQixDQUFQO0FBQ0Q7O0FBQ0QsYUFBT0osS0FBSSxDQUFDRyxDQUFELENBQVg7QUFDRDs7O1dBUUQsY0FBWUEsQ0FBWixFQUErQjtBQUM3QixhQUFPQSxDQUFDLEdBQUdBLENBQVg7QUFDRDs7O1dBUUQsZUFBYUEsQ0FBYixFQUFnQztBQUM5QixhQUFPQSxDQUFDLEdBQUdBLENBQUosR0FBUUEsQ0FBZjtBQUNEOzs7V0FRRCxjQUFZRCxDQUFaLEVBQThDO0FBQzVDLGFBQU8sVUFBQ0MsQ0FBRDtBQUFBLGVBQWVFLElBQUksQ0FBQ0MsR0FBTCxDQUFTSCxDQUFULEVBQVlELENBQVosQ0FBZjtBQUFBLE9BQVA7QUFDRDs7O1dBT0QsYUFBV0MsQ0FB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QUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogQGZsb3cgc3RyaWN0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5sZXQgZWFzZTtcblxuLyoqXG4gKiBUaGUgYEVhc2luZ2AgbW9kdWxlIGltcGxlbWVudHMgY29tbW9uIGVhc2luZyBmdW5jdGlvbnMuIFRoaXMgbW9kdWxlIGlzIHVzZWRcbiAqIGJ5IFtBbmltYXRlLnRpbWluZygpXShkb2NzL2FuaW1hdGUuaHRtbCN0aW1pbmcpIHRvIGNvbnZleSBwaHlzaWNhbGx5XG4gKiBiZWxpZXZhYmxlIG1vdGlvbiBpbiBhbmltYXRpb25zLlxuICpcbiAqIFlvdSBjYW4gZmluZCBhIHZpc3VhbGl6YXRpb24gb2Ygc29tZSBjb21tb24gZWFzaW5nIGZ1bmN0aW9ucyBhdFxuICogaHR0cDovL2Vhc2luZ3MubmV0L1xuICpcbiAqICMjIyBQcmVkZWZpbmVkIGFuaW1hdGlvbnNcbiAqXG4gKiBUaGUgYEVhc2luZ2AgbW9kdWxlIHByb3ZpZGVzIHNldmVyYWwgcHJlZGVmaW5lZCBhbmltYXRpb25zIHRocm91Z2ggdGhlXG4gKiBmb2xsb3dpbmcgbWV0aG9kczpcbiAqXG4gKiAtIFtgYmFja2BdKGRvY3MvZWFzaW5nLmh0bWwjYmFjaykgcHJvdmlkZXMgYSBzaW1wbGUgYW5pbWF0aW9uIHdoZXJlIHRoZVxuICogICBvYmplY3QgZ29lcyBzbGlnaHRseSBiYWNrIGJlZm9yZSBtb3ZpbmcgZm9yd2FyZFxuICogLSBbYGJvdW5jZWBdKGRvY3MvZWFzaW5nLmh0bWwjYm91bmNlKSBwcm92aWRlcyBhIGJvdW5jaW5nIGFuaW1hdGlvblxuICogLSBbYGVhc2VgXShkb2NzL2Vhc2luZy5odG1sI2Vhc2UpIHByb3ZpZGVzIGEgc2ltcGxlIGluZXJ0aWFsIGFuaW1hdGlvblxuICogLSBbYGVsYXN0aWNgXShkb2NzL2Vhc2luZy5odG1sI2VsYXN0aWMpIHByb3ZpZGVzIGEgc2ltcGxlIHNwcmluZyBpbnRlcmFjdGlvblxuICpcbiAqICMjIyBTdGFuZGFyZCBmdW5jdGlvbnNcbiAqXG4gKiBUaHJlZSBzdGFuZGFyZCBlYXNpbmcgZnVuY3Rpb25zIGFyZSBwcm92aWRlZDpcbiAqXG4gKiAtIFtgbGluZWFyYF0oZG9jcy9lYXNpbmcuaHRtbCNsaW5lYXIpXG4gKiAtIFtgcXVhZGBdKGRvY3MvZWFzaW5nLmh0bWwjcXVhZClcbiAqIC0gW2BjdWJpY2BdKGRvY3MvZWFzaW5nLmh0bWwjY3ViaWMpXG4gKlxuICogVGhlIFtgcG9seWBdKGRvY3MvZWFzaW5nLmh0bWwjcG9seSkgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gaW1wbGVtZW50XG4gKiBxdWFydGljLCBxdWludGljLCBhbmQgb3RoZXIgaGlnaGVyIHBvd2VyIGZ1bmN0aW9ucy5cbiAqXG4gKiAjIyMgQWRkaXRpb25hbCBmdW5jdGlvbnNcbiAqXG4gKiBBZGRpdGlvbmFsIG1hdGhlbWF0aWNhbCBmdW5jdGlvbnMgYXJlIHByb3ZpZGVkIGJ5IHRoZSBmb2xsb3dpbmcgbWV0aG9kczpcbiAqXG4gKiAtIFtgYmV6aWVyYF0oZG9jcy9lYXNpbmcuaHRtbCNiZXppZXIpIHByb3ZpZGVzIGEgY3ViaWMgYmV6aWVyIGN1cnZlXG4gKiAtIFtgY2lyY2xlYF0oZG9jcy9lYXNpbmcuaHRtbCNjaXJjbGUpIHByb3ZpZGVzIGEgY2lyY3VsYXIgZnVuY3Rpb25cbiAqIC0gW2BzaW5gXShkb2NzL2Vhc2luZy5odG1sI3NpbikgcHJvdmlkZXMgYSBzaW51c29pZGFsIGZ1bmN0aW9uXG4gKiAtIFtgZXhwYF0oZG9jcy9lYXNpbmcuaHRtbCNleHApIHByb3ZpZGVzIGFuIGV4cG9uZW50aWFsIGZ1bmN0aW9uXG4gKlxuICogVGhlIGZvbGxvd2luZyBoZWxwZXJzIGFyZSB1c2VkIHRvIG1vZGlmeSBvdGhlciBlYXNpbmcgZnVuY3Rpb25zLlxuICpcbiAqIC0gW2BpbmBdKGRvY3MvZWFzaW5nLmh0bWwjaW4pIHJ1bnMgYW4gZWFzaW5nIGZ1bmN0aW9uIGZvcndhcmRzXG4gKiAtIFtgaW5PdXRgXShkb2NzL2Vhc2luZy5odG1sI2lub3V0KSBtYWtlcyBhbnkgZWFzaW5nIGZ1bmN0aW9uIHN5bW1ldHJpY2FsXG4gKiAtIFtgb3V0YF0oZG9jcy9lYXNpbmcuaHRtbCNvdXQpIHJ1bnMgYW4gZWFzaW5nIGZ1bmN0aW9uIGJhY2t3YXJkc1xuICovXG5jbGFzcyBFYXNpbmcge1xuICAvKipcbiAgICogQSBzdGVwcGluZyBmdW5jdGlvbiwgcmV0dXJucyAxIGZvciBhbnkgcG9zaXRpdmUgdmFsdWUgb2YgYG5gLlxuICAgKi9cbiAgc3RhdGljIHN0ZXAwKG46IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIG4gPiAwID8gMSA6IDA7XG4gIH1cblxuICAvKipcbiAgICogQSBzdGVwcGluZyBmdW5jdGlvbiwgcmV0dXJucyAxIGlmIGBuYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMS5cbiAgICovXG4gIHN0YXRpYyBzdGVwMShuOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBuID49IDEgPyAxIDogMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGxpbmVhciBmdW5jdGlvbiwgYGYodCkgPSB0YC4gUG9zaXRpb24gY29ycmVsYXRlcyB0byBlbGFwc2VkIHRpbWUgb25lIHRvXG4gICAqIG9uZS5cbiAgICpcbiAgICogaHR0cDovL2N1YmljLWJlemllci5jb20vIzAsMCwxLDFcbiAgICovXG4gIHN0YXRpYyBsaW5lYXIodDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNpbXBsZSBpbmVydGlhbCBpbnRlcmFjdGlvbiwgc2ltaWxhciB0byBhbiBvYmplY3Qgc2xvd2x5IGFjY2VsZXJhdGluZyB0b1xuICAgKiBzcGVlZC5cbiAgICpcbiAgICogaHR0cDovL2N1YmljLWJlemllci5jb20vIy40MiwwLDEsMVxuICAgKi9cbiAgc3RhdGljIGVhc2UodDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAoIWVhc2UpIHtcbiAgICAgIGVhc2UgPSBFYXNpbmcuYmV6aWVyKDAuNDIsIDAsIDEsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gZWFzZSh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHF1YWRyYXRpYyBmdW5jdGlvbiwgYGYodCkgPSB0ICogdGAuIFBvc2l0aW9uIGVxdWFscyB0aGUgc3F1YXJlIG9mIGVsYXBzZWRcbiAgICogdGltZS5cbiAgICpcbiAgICogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5RdWFkXG4gICAqL1xuICBzdGF0aWMgcXVhZCh0OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiB0ICogdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGN1YmljIGZ1bmN0aW9uLCBgZih0KSA9IHQgKiB0ICogdGAuIFBvc2l0aW9uIGVxdWFscyB0aGUgY3ViZSBvZiBlbGFwc2VkXG4gICAqIHRpbWUuXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluQ3ViaWNcbiAgICovXG4gIHN0YXRpYyBjdWJpYyh0OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiB0ICogdCAqIHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBwb3dlciBmdW5jdGlvbi4gUG9zaXRpb24gaXMgZXF1YWwgdG8gdGhlIE50aCBwb3dlciBvZiBlbGFwc2VkIHRpbWUuXG4gICAqXG4gICAqIG4gPSA0OiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJblF1YXJ0XG4gICAqIG4gPSA1OiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJblF1aW50XG4gICAqL1xuICBzdGF0aWMgcG9seShuOiBudW1iZXIpOiAodDogbnVtYmVyKSA9PiBudW1iZXIge1xuICAgIHJldHVybiAodDogbnVtYmVyKSA9PiBNYXRoLnBvdyh0LCBuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNpbnVzb2lkYWwgZnVuY3Rpb24uXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluU2luZVxuICAgKi9cbiAgc3RhdGljIHNpbih0OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiAxIC0gTWF0aC5jb3MoKHQgKiBNYXRoLlBJKSAvIDIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgY2lyY3VsYXIgZnVuY3Rpb24uXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluQ2lyY1xuICAgKi9cbiAgc3RhdGljIGNpcmNsZSh0OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiAxIC0gTWF0aC5zcXJ0KDEgLSB0ICogdCk7XG4gIH1cblxuICAvKipcbiAgICogQW4gZXhwb25lbnRpYWwgZnVuY3Rpb24uXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluRXhwb1xuICAgKi9cbiAgc3RhdGljIGV4cCh0OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc2ltcGxlIGVsYXN0aWMgaW50ZXJhY3Rpb24sIHNpbWlsYXIgdG8gYSBzcHJpbmcgb3NjaWxsYXRpbmcgYmFjayBhbmRcbiAgICogZm9ydGguXG4gICAqXG4gICAqIERlZmF1bHQgYm91bmNpbmVzcyBpcyAxLCB3aGljaCBvdmVyc2hvb3RzIGEgbGl0dGxlIGJpdCBvbmNlLiAwIGJvdW5jaW5lc3NcbiAgICogZG9lc24ndCBvdmVyc2hvb3QgYXQgYWxsLCBhbmQgYm91bmNpbmVzcyBvZiBOID4gMSB3aWxsIG92ZXJzaG9vdCBhYm91dCBOXG4gICAqIHRpbWVzLlxuICAgKlxuICAgKiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJbkVsYXN0aWNcbiAgICovXG4gIHN0YXRpYyBlbGFzdGljKGJvdW5jaW5lc3M6IG51bWJlciA9IDEpOiAodDogbnVtYmVyKSA9PiBudW1iZXIge1xuICAgIGNvbnN0IHAgPSBib3VuY2luZXNzICogTWF0aC5QSTtcbiAgICByZXR1cm4gdCA9PiAxIC0gTWF0aC5wb3coTWF0aC5jb3MoKHQgKiBNYXRoLlBJKSAvIDIpLCAzKSAqIE1hdGguY29zKHQgKiBwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2Ugd2l0aCBgQW5pbWF0ZWQucGFyYWxsZWwoKWAgdG8gY3JlYXRlIGEgc2ltcGxlIGVmZmVjdCB3aGVyZSB0aGUgb2JqZWN0XG4gICAqIGFuaW1hdGVzIGJhY2sgc2xpZ2h0bHkgYXMgdGhlIGFuaW1hdGlvbiBzdGFydHMuXG4gICAqXG4gICAqIFdvbGZyYW0gUGxvdDpcbiAgICpcbiAgICogLSBodHRwOi8vdGlueS5jYy9iYWNrX2RlZmF1bHQgKHMgPSAxLjcwMTU4LCBkZWZhdWx0KVxuICAgKi9cbiAgc3RhdGljIGJhY2soczogbnVtYmVyID0gMS43MDE1OCk6ICh0OiBudW1iZXIpID0+IG51bWJlciB7XG4gICAgcmV0dXJuIHQgPT4gdCAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIHNpbXBsZSBib3VuY2luZyBlZmZlY3QuXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluQm91bmNlXG4gICAqL1xuICBzdGF0aWMgYm91bmNlKHQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKHQgPCAxIC8gMi43NSkge1xuICAgICAgcmV0dXJuIDcuNTYyNSAqIHQgKiB0O1xuICAgIH1cblxuICAgIGlmICh0IDwgMiAvIDIuNzUpIHtcbiAgICAgIGNvbnN0IHQyID0gdCAtIDEuNSAvIDIuNzU7XG4gICAgICByZXR1cm4gNy41NjI1ICogdDIgKiB0MiArIDAuNzU7XG4gICAgfVxuXG4gICAgaWYgKHQgPCAyLjUgLyAyLjc1KSB7XG4gICAgICBjb25zdCB0MiA9IHQgLSAyLjI1IC8gMi43NTtcbiAgICAgIHJldHVybiA3LjU2MjUgKiB0MiAqIHQyICsgMC45Mzc1O1xuICAgIH1cblxuICAgIGNvbnN0IHQyID0gdCAtIDIuNjI1IC8gMi43NTtcbiAgICByZXR1cm4gNy41NjI1ICogdDIgKiB0MiArIDAuOTg0Mzc1O1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgY3ViaWMgYmV6aWVyIGN1cnZlLCBlcXVpdmFsZW50IHRvIENTUyBUcmFuc2l0aW9ucydcbiAgICogYHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uYC5cbiAgICpcbiAgICogQSB1c2VmdWwgdG9vbCB0byB2aXN1YWxpemUgY3ViaWMgYmV6aWVyIGN1cnZlcyBjYW4gYmUgZm91bmQgYXRcbiAgICogaHR0cDovL2N1YmljLWJlemllci5jb20vXG4gICAqL1xuICBzdGF0aWMgYmV6aWVyKFxuICAgIHgxOiBudW1iZXIsXG4gICAgeTE6IG51bWJlcixcbiAgICB4MjogbnVtYmVyLFxuICAgIHkyOiBudW1iZXIsXG4gICk6ICh0OiBudW1iZXIpID0+IG51bWJlciB7XG4gICAgY29uc3QgX2JlemllciA9IHJlcXVpcmUoJy4vYmV6aWVyJyk7XG4gICAgcmV0dXJuIF9iZXppZXIoeDEsIHkxLCB4MiwgeTIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgYW4gZWFzaW5nIGZ1bmN0aW9uIGZvcndhcmRzLlxuICAgKi9cbiAgc3RhdGljIGluKGVhc2luZzogKHQ6IG51bWJlcikgPT4gbnVtYmVyKTogKHQ6IG51bWJlcikgPT4gbnVtYmVyIHtcbiAgICByZXR1cm4gZWFzaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgYW4gZWFzaW5nIGZ1bmN0aW9uIGJhY2t3YXJkcy5cbiAgICovXG4gIHN0YXRpYyBvdXQoZWFzaW5nOiAodDogbnVtYmVyKSA9PiBudW1iZXIpOiAodDogbnVtYmVyKSA9PiBudW1iZXIge1xuICAgIHJldHVybiB0ID0+IDEgLSBlYXNpbmcoMSAtIHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2VzIGFueSBlYXNpbmcgZnVuY3Rpb24gc3ltbWV0cmljYWwuIFRoZSBlYXNpbmcgZnVuY3Rpb24gd2lsbCBydW5cbiAgICogZm9yd2FyZHMgZm9yIGhhbGYgb2YgdGhlIGR1cmF0aW9uLCB0aGVuIGJhY2t3YXJkcyBmb3IgdGhlIHJlc3Qgb2YgdGhlXG4gICAqIGR1cmF0aW9uLlxuICAgKi9cbiAgc3RhdGljIGluT3V0KGVhc2luZzogKHQ6IG51bWJlcikgPT4gbnVtYmVyKTogKHQ6IG51bWJlcikgPT4gbnVtYmVyIHtcbiAgICByZXR1cm4gdCA9PiB7XG4gICAgICBpZiAodCA8IDAuNSkge1xuICAgICAgICByZXR1cm4gZWFzaW5nKHQgKiAyKSAvIDI7XG4gICAgICB9XG4gICAgICByZXR1cm4gMSAtIGVhc2luZygoMSAtIHQpICogMikgLyAyO1xuICAgIH07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBFYXNpbmc7XG4iXX0=