be054661c1c41d668d53829af24bf3f7
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _react = _interopRequireDefault(require("react"));

var _renderWithRedux = _interopRequireDefault(require("./renderWithRedux"));

var _history = require("history");

var _reactNative = require("@testing-library/react-native");

var _GameDisplay = _interopRequireDefault(require("../../../components/GameDisplay"));

function _getJestObj() {
  var _require = require("@jest/globals"),
      jest = _require.jest;

  _getJestObj = function _getJestObj() {
    return jest;
  };

  return jest;
}

var history = (0, _history.createMemoryHistory)();
var path = "/route/:id";
var match = {
  isExact: false,
  path: path,
  url: path.replace(':id', '1'),
  params: {
    id: '1'
  }
};
var location = (0, _history.createLocation)('/GameDisplay');
var board = [[3, 1, 6, 5, 7, 8, 4, 9, 2], [5, 2, 9, 1, 3, 4, 7, 6, 8], [4, 8, 7, 6, 2, 9, 5, 3, 1], [2, 6, 3, 4, 1, 5, 9, 8, 7], [9, 7, 4, 8, 6, null, 1, 2, 5], [8, 5, 1, 7, 9, 2, 6, 4, 3], [1, 3, 8, 9, 4, 7, 2, null, 6], [6, 9, 2, 3, 5, 1, 8, 7, 4], [7, 4, 5, 2, 8, 6, 3, 1, 9]];
var colors = {
  1: ['transparent', 'black'],
  2: ['transparent', 'black'],
  3: ['transparent', 'black'],
  4: ['transparent', 'black'],
  5: ['transparent', 'black'],
  6: ['transparent', 'black'],
  7: ['transparent', 'black'],
  8: ['transparent', 'black'],
  9: ['transparent', 'black'],
  'Selection_1': '#3297FD',
  'Selection_2': 'transparent',
  'Selection_3': 'transparent',
  'Selection_4': 'transparent',
  'Selection_5': 'transparent',
  'Selection_6': 'transparent',
  'Selection_7': 'transparent',
  'Selection_8': 'transparent',
  'Selection_9': 'transparent',
  'gradient': ["#a37e5c", "#b89372", "#c8a484", "#dcb999", "#d3af8f", "#d9b696", "#ceaa89", "#d2ae8d", "#b38e6d", "#aa8563", "#a37e5c", "#b89372", "#c8a484", "#dcb999", "#d3af8f", "#d9b696", "#ceaa89", "#d2ae8d", "#b38e6d", "#aa8563", "#a37e5c", "#b89372", "#c8a484", "#dcb999", "#d3af8f", "#d9b696", "#ceaa89", "#d2ae8d", "#b38e6d", "#aa8563", "#a37e5c", "#b89372", "#c8a484", "#dcb999", "#d3af8f", "#d9b696", "#ceaa89", "#d2ae8d", "#b38e6d", "#aa8563", "#a37e5c", "#b89372", "#c8a484", "#dcb999", "#d3af8f", "#d9b696", "#ceaa89", "#d2ae8d", "#b38e6d", "#aa8563"]
};
describe('GameDisplay', function () {
  _getJestObj().mock('react-native/Libraries/Components/Switch/Switch', function () {
    var mockComponent = require('react-native/jest/mockComponent');

    return mockComponent('react-native/Libraries/Components/Switch/Switch');
  });

  var mockStore = {
    'board': board,
    'colors': colors
  };
  var gameDisplayComponent;
  beforeEach(function _callee() {
    return _regenerator.default.async(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return _regenerator.default.awrap((0, _reactNative.waitFor)(function () {
              gameDisplayComponent = (0, _renderWithRedux.default)(_react.default.createElement(_GameDisplay.default, {
                history: history,
                location: location,
                match: match
              }), {
                initialState: mockStore
              });
            }));

          case 2:
          case "end":
            return _context.stop();
        }
      }
    }, null, null, null, Promise);
  });
  afterEach(_reactNative.cleanup);
  it('renders without crashing', function _callee2() {
    return _regenerator.default.async(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            expect(gameDisplayComponent.toJSON()).toMatchSnapshot();

          case 1:
          case "end":
            return _context2.stop();
        }
      }
    }, null, null, null, Promise);
  });
  it("should not render the Winner component if the board is not complete", function _callee3() {
    var _gameDisplayComponent, getByTestId, store, queryByTestId, selectionSquare5, gridSquare67, winnerAnimation;

    return _regenerator.default.async(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _gameDisplayComponent = gameDisplayComponent, getByTestId = _gameDisplayComponent.getByTestId, store = _gameDisplayComponent.store, queryByTestId = _gameDisplayComponent.queryByTestId;
            selectionSquare5 = getByTestId('selectionSquare_5');
            gridSquare67 = getByTestId('gridSquare_67');
            winnerAnimation = queryByTestId('winnerAnimation');

            _reactNative.fireEvent.press(selectionSquare5);

            _reactNative.fireEvent.press(gridSquare67);

            expect(winnerAnimation).toEqual(null);

          case 7:
          case "end":
            return _context3.stop();
        }
      }
    }, null, null, null, Promise);
  });
  it("should render the Winner component if the board is complete", function _callee4() {
    var _gameDisplayComponent2, getByTestId, store, queryByTestId, selectionSquare5, selectionSquare3, gridSquare67, gridSquare45;

    return _regenerator.default.async(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _gameDisplayComponent2 = gameDisplayComponent, getByTestId = _gameDisplayComponent2.getByTestId, store = _gameDisplayComponent2.store, queryByTestId = _gameDisplayComponent2.queryByTestId;
            selectionSquare5 = getByTestId('selectionSquare_5');
            selectionSquare3 = getByTestId('selectionSquare_3');
            gridSquare67 = getByTestId('gridSquare_67');
            gridSquare45 = getByTestId('gridSquare_45');

            _reactNative.fireEvent.press(selectionSquare5);

            _reactNative.fireEvent.press(gridSquare67);

            _reactNative.fireEvent.press(selectionSquare3);

            _reactNative.fireEvent.press(gridSquare45);

            _context4.next = 11;
            return _regenerator.default.awrap((0, _reactNative.waitFor)(function () {
              expect(queryByTestId('winnerAnimation')).toBeTruthy();
            }));

          case 11:
          case "end":
            return _context4.stop();
        }
      }
    }, null, null, null, Promise);
  });
  it("should route to the main menu if the board is completed and the screen is, then, pressed", function _callee5() {
    var _gameDisplayComponent3, getByTestId, store, queryByTestId, selectionSquare5, selectionSquare3, gridSquare67, gridSquare45, curHistory;

    return _regenerator.default.async(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            _gameDisplayComponent3 = gameDisplayComponent, getByTestId = _gameDisplayComponent3.getByTestId, store = _gameDisplayComponent3.store, queryByTestId = _gameDisplayComponent3.queryByTestId;
            selectionSquare5 = getByTestId('selectionSquare_5');
            selectionSquare3 = getByTestId('selectionSquare_3');
            gridSquare67 = getByTestId('gridSquare_67');
            gridSquare45 = getByTestId('gridSquare_45');
            curHistory = history.length;
            expect(history.location.pathname).toBe('/GameDisplay');

            _reactNative.fireEvent.press(selectionSquare5);

            _reactNative.fireEvent.press(gridSquare67);

            _reactNative.fireEvent.press(selectionSquare3);

            _reactNative.fireEvent.press(gridSquare45);

            _context5.next = 13;
            return _regenerator.default.awrap((0, _reactNative.waitFor)(function () {
              var winnerAnimationPressable = getByTestId('winnerAnimationPressable');

              _reactNative.fireEvent.press(winnerAnimationPressable);

              expect(history.length).toBe(curHistory + 1);
              expect(history.location.pathname).toBe('/');
            }));

          case 13:
          case "end":
            return _context5.stop();
        }
      }
    }, null, null, null, Promise);
  });
  it("should route to the main menu when the 'Main Menu' button is selected", function () {});
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcYXNoZWVcXERvY3VtZW50c1xcSmF2YXNjcmlwdFxcUmVhY3RcXFJlYWN0IE5hdGl2ZVxcc3VkdWtvXFxzcmNcXF9fdGVzdHNfX1xcQ29tcG9uZW50IFRlc3RzXFxHYW1lRGlzcGxheS50ZXN0LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBS0E7Ozs7Ozs7Ozs7Ozs7QUFHQSxJQUFNLE9BQU8sR0FBRyxtQ0FBaEI7QUFDQSxJQUFNLElBQUksZUFBVjtBQUNBLElBQU0sS0FBSyxHQUEwQjtBQUNqQyxFQUFBLE9BQU8sRUFBRSxLQUR3QjtBQUVqQyxFQUFBLElBQUksRUFBSixJQUZpQztBQUdqQyxFQUFBLEdBQUcsRUFBRSxJQUFJLENBQUMsT0FBTCxDQUFhLEtBQWIsRUFBb0IsR0FBcEIsQ0FINEI7QUFJakMsRUFBQSxNQUFNLEVBQUU7QUFBRSxJQUFBLEVBQUUsRUFBRTtBQUFOO0FBSnlCLENBQXJDO0FBTUEsSUFBTSxRQUFRLEdBQUcsNkJBQWUsY0FBZixDQUFqQjtBQUdBLElBQU0sS0FBSyxHQUF1QixDQUNoQyxDQUFFLENBQUYsRUFBSyxDQUFMLEVBQVEsQ0FBUixFQUFXLENBQVgsRUFBYyxDQUFkLEVBQWlCLENBQWpCLEVBQW9CLENBQXBCLEVBQXVCLENBQXZCLEVBQTBCLENBQTFCLENBRGdDLEVBRWhDLENBQUUsQ0FBRixFQUFLLENBQUwsRUFBUSxDQUFSLEVBQVcsQ0FBWCxFQUFjLENBQWQsRUFBaUIsQ0FBakIsRUFBb0IsQ0FBcEIsRUFBdUIsQ0FBdkIsRUFBMEIsQ0FBMUIsQ0FGZ0MsRUFHaEMsQ0FBRSxDQUFGLEVBQUssQ0FBTCxFQUFRLENBQVIsRUFBVyxDQUFYLEVBQWMsQ0FBZCxFQUFpQixDQUFqQixFQUFvQixDQUFwQixFQUF1QixDQUF2QixFQUEwQixDQUExQixDQUhnQyxFQUloQyxDQUFFLENBQUYsRUFBSyxDQUFMLEVBQVEsQ0FBUixFQUFXLENBQVgsRUFB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VGV4dCxWaWV3IH0gZnJvbSAncmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IHJlbmRlcldpdGhSZWR1eCBmcm9tICcuL3JlbmRlcldpdGhSZWR1eCc7XHJcbmltcG9ydCB7U0VUX0JPQVJEfSBmcm9tICcuLi8uLi9zdGF0ZS9hY3Rpb25zL3R5cGVzJ1xyXG5pbXBvcnQgeyBjcmVhdGVNZW1vcnlIaXN0b3J5LCBjcmVhdGVMb2NhdGlvbiB9IGZyb20gJ2hpc3RvcnknO1xyXG5pbXBvcnQgeyBtYXRjaCB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XHJcbmltcG9ydCB7IGFjdCwgY2xlYW51cCwgZmlyZUV2ZW50LCByZW5kZXIsIHdhaXRGb3J9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IHJlbmRlcmVyIGZyb20gJ3JlYWN0LXRlc3QtcmVuZGVyZXInO1xyXG5pbXBvcnQge0NvbG9ycyxHYW1lU3RhdGV9IGZyb20gJy4uLy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IHtSb290U3RhdGV9IGZyb20gJy4uLy4uL3N0YXRlL3JlZHVjZXJzL2luZGV4JztcclxuXHJcbmltcG9ydCBHYW1lRGlzcGxheSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL0dhbWVEaXNwbGF5JztcclxuXHJcbi8vTW9jayBwcm9wcyBmb3Igcm91dGluZy5cclxuY29uc3QgaGlzdG9yeSA9IGNyZWF0ZU1lbW9yeUhpc3RvcnkoKTtcclxuY29uc3QgcGF0aCA9IGAvcm91dGUvOmlkYDtcclxuY29uc3QgbWF0Y2g6IG1hdGNoPHsgaWQ6IHN0cmluZyB9PiA9IHtcclxuICAgIGlzRXhhY3Q6IGZhbHNlLFxyXG4gICAgcGF0aCxcclxuICAgIHVybDogcGF0aC5yZXBsYWNlKCc6aWQnLCAnMScpLFxyXG4gICAgcGFyYW1zOiB7IGlkOiAnMScgfVxyXG59O1xyXG5jb25zdCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKCcvR2FtZURpc3BsYXknKTtcclxuXHJcbi8vSGFyZCBjb2RlZCBzdGF0ZSBwcm9wZXJ0aWVzLlxyXG5jb25zdCBib2FyZDogKG51bWJlciB8IG51bGwpW11bXSA9WyBcclxuICBbIDMsIDEsIDYsIDUsIDcsIDgsIDQsIDksIDIgXSxcclxuICBbIDUsIDIsIDksIDEsIDMsIDQsIDcsIDYsIDggXSxcclxuICBbIDQsIDgsIDcsIDYsIDIsIDksIDUsIDMsIDEgXSxcclxuICBbIDIsIDYsIDMsIDQsIDEsIDUsIDksIDgsIDcgXSxcclxuICBbIDksIDcsIDQsIDgsIDYsIG51bGwsIDEsIDIsIDUgXSxcclxuICBbIDgsIDUsIDEsIDcsIDksIDIsIDYsIDQsIDMgXSxcclxuICBbIDEsIDMsIDgsIDksIDQsIDcsIDIsIG51bGwsIDYgXSxcclxuICBbIDYsIDksIDIsIDMsIDUsIDEsIDgsIDcsIDQgXSxcclxuICBbIDcsIDQsIDUsIDIsIDgsIDYsIDMsIDEsIDldIFxyXG5dO1xyXG5cclxuY29uc3QgY29sb3JzOkNvbG9ycyA9IHtcclxuICAxOlsndHJhbnNwYXJlbnQnLCdibGFjayddLFxyXG4gIDI6Wyd0cmFuc3BhcmVudCcsJ2JsYWNrJ10sXHJcbiAgMzpbJ3RyYW5zcGFyZW50JywnYmxhY2snXSxcclxuICA0OlsndHJhbnNwYXJlbnQnLCdibGFjayddLFxyXG4gIDU6Wyd0cmFuc3BhcmVudCcsJ2JsYWNrJ10sXHJcbiAgNjpbJ3RyYW5zcGFyZW50JywnYmxhY2snXSxcclxuICA3OlsndHJhbnNwYXJlbnQnLCdibGFjayddLFxyXG4gIDg6Wyd0cmFuc3BhcmVudCcsJ2JsYWNrJ10sXHJcbiAgOTpbJ3RyYW5zcGFyZW50JywnYmxhY2snXSxcclxuICAnU2VsZWN0aW9uXzEnOicjMzI5N0ZEJyxcclxuICAnU2VsZWN0aW9uXzInOid0cmFuc3BhcmVudCcsXHJcbiAgJ1NlbGVjdGlvbl8zJzondHJhbnNwYXJlbnQnLFxyXG4gICdTZWxlY3Rpb25fNCc6J3RyYW5zcGFyZW50JyxcclxuICAnU2VsZWN0aW9uXzUnOid0cmFuc3BhcmVudCcsXHJcbiAgJ1NlbGVjdGlvbl82JzondHJhbnNwYXJlbnQnLFxyXG4gICdTZWxlY3Rpb25fNyc6J3RyYW5zcGFyZW50JyxcclxuICAnU2VsZWN0aW9uXzgnOid0cmFuc3BhcmVudCcsXHJcbiAgJ1NlbGVjdGlvbl85JzondHJhbnNwYXJlbnQnLFxyXG4gICdncmFkaWVudCc6IFsgXHJcbiAgICBcIiNhMzdlNWNcIiwgXCIjYjg5MzcyXCIsXCIjYzhhNDg0XCIsXCIjZGNiOTk5XCIsIFwiI2QzYWY4ZlwiLFwiI2Q5YjY5NlwiLFwiI2NlYWE4OVwiLFwiI2QyYWU4ZFwiLFwiI2IzOGU2ZFwiLFwiI2FhODU2M1wiLFxyXG4gICAgXCIjYTM3ZTVjXCIsIFwiI2I4OTM3MlwiLFwiI2M4YTQ4NFwiLFwiI2RjYjk5OVwiLCBcIiNkM2FmOGZcIixcIiNkOWI2OTZcIixcIiNjZWFhODlcIixcIiNkMmFlOGRcIixcIiNiMzhlNmRcIixcIiNhYTg1NjNcIixcclxuICAgIFwiI2EzN2U1Y1wiLCBcIiNiODkzNzJcIixcIiNjOGE0ODRcIixcIiNkY2I5OTlcIiwgXCIjZDNhZjhmXCIsXCIjZDliNjk2XCIsXCIjY2VhYTg5XCIsXCIjZDJhZThkXCIsXCIjYjM4ZTZkXCIsXCIjYWE4NTYzXCIsXHJcbiAgICBcIiNhMzdlNWNcIiwgXCIjYjg5MzcyXCIsXCIjYzhhNDg0XCIsXCIjZGNiOTk5XCIsIFwiI2QzYWY4ZlwiLFwiI2Q5YjY5NlwiLFwiI2NlYWE4OVwiLFwiI2QyYWU4ZFwiLFwiI2IzOGU2ZFwiLFwiI2FhODU2M1wiLFxyXG4gICAgXCIjYTM3ZTVjXCIsIFwiI2I4OTM3MlwiLFwiI2M4YTQ4NFwiLFwiI2RjYjk5OVwiLCBcIiNkM2FmOGZcIixcIiNkOWI2OTZcIixcIiNjZWFhODlcIixcIiNkMmFlOGRcIixcIiNiMzhlNmRcIixcIiNhYTg1NjNcIlxyXG4gIF1cclxufVxyXG5cclxuLy9HYW1lRGlzcGxheSBjb21wb25lbnQgdGVzdC5cclxuZGVzY3JpYmUoJ0dhbWVEaXNwbGF5JywoKSA9PntcclxuXHJcbiAgLy9Nb2NrIHN0b3JlIG9iamVjdCBmb3Igc3RhdGUgbWFuYWdlbWVudC5cclxuICAgIC8vSGFyZCBjb2RlIHByb3BlcnRpZXMgdGhhdCBhcmUgaW5pdGlhbGl6ZWQgcmFuZG9tbHkgZm9yXHJcbiAgICAvL3NuYXBzaG90IGNvbXBhcmlzb24uXHJcbiAgY29uc3QgbW9ja1N0b3JlOlJvb3RTdGF0ZSA9IHtcclxuICAgICdib2FyZCc6Ym9hcmQsXHJcbiAgICAnY29sb3JzJzpjb2xvcnNcclxuICB9O1xyXG5cclxuICAvL01vY2sgc3dpdGNoIGNvbXBvbmVudC5cclxuICBqZXN0Lm1vY2soJ3JlYWN0LW5hdGl2ZS9MaWJyYXJpZXMvQ29tcG9uZW50cy9Td2l0Y2gvU3dpdGNoJywgKCkgPT4ge1xyXG4gICAgY29uc3QgbW9ja0NvbXBvbmVudCA9IHJlcXVpcmUoJ3JlYWN0LW5hdGl2ZS9qZXN0L21vY2tDb21wb25lbnQnKVxyXG4gICAgcmV0dXJuIG1vY2tDb21wb25lbnQoJ3JlYWN0LW5hdGl2ZS9MaWJyYXJpZXMvQ29tcG9uZW50cy9Td2l0Y2gvU3dpdGNoJylcclxuICB9KVxyXG5cclxuICAvL1JlbmRlciBHYW1lRGlzcGxheSBjb21wb25lbnQgd2l0aCByb3V0aW5nIGFuZCByZWR1eC5cclxuICBsZXQgZ2FtZURpc3BsYXlDb21wb25lbnQ6YW55O1xyXG4gIGJlZm9yZUVhY2goYXN5bmMoKSA9PntcclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT57XHJcbiAgICAgIGdhbWVEaXNwbGF5Q29tcG9uZW50ID0gcmVuZGVyV2l0aFJlZHV4KFxyXG4gICAgICAgIDxHYW1lRGlzcGxheVxyXG4gICAgICAgICAgaGlzdG9yeT17aGlzdG9yeX1cclxuICAgICAgICAgIGxvY2F0aW9uPXtsb2NhdGlvbn1cclxuICAgICAgICAgIG1hdGNoPXttYXRjaH1cclxuICAgICAgICAvPixcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpbml0aWFsU3RhdGU6bW9ja1N0b3JlXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICAvL0NsZWFudXAgYWZ0ZXIgZWFjaCB0ZXN0LlxyXG4gIGFmdGVyRWFjaChjbGVhbnVwKTtcclxuXHJcbiAgLy9Db21wb25lbnQgcmVuZGVycyB3aXRob3V0IGNyYXNoaW5nLlxyXG4gIGl0KCdyZW5kZXJzIHdpdGhvdXQgY3Jhc2hpbmcnLGFzeW5jKCk9PntcclxuICAgIGV4cGVjdChnYW1lRGlzcGxheUNvbXBvbmVudC50b0pTT04oKSkudG9NYXRjaFNuYXBzaG90KCk7XHJcbiAgfSlcclxuXHJcbiAgLy9JZiBib2FyZCBpcyBub3QgY29tcGxldGUsIHdpbm5lciBhbmltYXRpb24gc2hvdWxkIG5vdCBiZSByZW5kZXJlZC5cclxuICBpdChgc2hvdWxkIG5vdCByZW5kZXIgdGhlIFdpbm5lciBjb21wb25lbnQgaWYgdGhlIGJvYXJkIGlzIG5vdCBjb21wbGV0ZWAsIGFzeW5jICgpPT57XHJcbiAgICAvL1NpbXVsYXRlIGEgdmFsdWUgYmVpbmcgaW5wdXR0ZWQgb24gdGhlIGJvYXJkLlxyXG4gICAgY29uc3Qge2dldEJ5VGVzdElkLHN0b3JlLHF1ZXJ5QnlUZXN0SWR9ID0gZ2FtZURpc3BsYXlDb21wb25lbnQ7XHJcbiAgICBjb25zdCBzZWxlY3Rpb25TcXVhcmU1ID0gZ2V0QnlUZXN0SWQoJ3NlbGVjdGlvblNxdWFyZV81Jyk7XHJcbiAgICBjb25zdCBncmlkU3F1YXJlNjcgPSBnZXRCeVRlc3RJZCgnZ3JpZFNxdWFyZV82NycpO1xyXG4gICAgY29uc3Qgd2lubmVyQW5pbWF0aW9uID0gcXVlcnlCeVRlc3RJZCgnd2lubmVyQW5pbWF0aW9uJyk7XHJcbiAgICAvL1NlbGVjdCBzZWxlY3Rpb24gc3F1YXJlIGZvciA1IHZhbHVlLlxyXG4gICAgZmlyZUV2ZW50LnByZXNzKHNlbGVjdGlvblNxdWFyZTUpO1xyXG4gICAgLy9JbnB1dCBhIDUgZm9yIHRoZSBncmlkIHNxdWFyZSBhdCBsb2NhdGlvbiByb3cgNiwgY29sdW1uIDcuXHJcbiAgICBmaXJlRXZlbnQucHJlc3MoZ3JpZFNxdWFyZTY3KTtcclxuICAgIC8vV2lubmVyIGFuaW1hdGlvbiBzaG91bGQgbm90IGJlIGZvdW5kLlxyXG4gICAgZXhwZWN0KHdpbm5lckFuaW1hdGlvbikudG9FcXVhbChudWxsKTtcclxuICB9KVxyXG5cclxuICAvL0lmIGJvYXJkIGlzIGNvbXBsZXRlLCB3aW5uZXIgYW5pbWF0aW9uIHNob3VsZCBiZSByZW5kZXJlZC5cclxuICBpdChgc2hvdWxkIHJlbmRlciB0aGUgV2lubmVyIGNvbXBvbmVudCBpZiB0aGUgYm9hcmQgaXMgY29tcGxldGVgLCBhc3luYyAoKT0+e1xyXG4gICAgLy9TaW11bGF0ZSBhIHZhbHVlIGJlaW5nIGlucHV0dGVkIG9uIHRoZSBib2FyZC5cclxuICAgIGNvbnN0IHtnZXRCeVRlc3RJZCxzdG9yZSxxdWVyeUJ5VGVzdElkfSA9IGdhbWVEaXNwbGF5Q29tcG9uZW50O1xyXG4gICAgY29uc3Qgc2VsZWN0aW9uU3F1YXJlNSA9IGdldEJ5VGVzdElkKCdzZWxlY3Rpb25TcXVhcmVfNScpO1xyXG4gICAgY29uc3Qgc2VsZWN0aW9uU3F1YXJlMyA9IGdldEJ5VGVzdElkKCdzZWxlY3Rpb25TcXVhcmVfMycpO1xyXG4gICAgY29uc3QgZ3JpZFNxdWFyZTY3ID0gZ2V0QnlUZXN0SWQoJ2dyaWRTcXVhcmVfNjcnKTtcclxuICAgIGNvbnN0IGdyaWRTcXVhcmU0NSA9IGdldEJ5VGVzdElkKCdncmlkU3F1YXJlXzQ1Jyk7XHJcbiAgICAvL1NlbGVjdCBzZWxlY3Rpb24gc3F1YXJlIGZvciA1IHZhbHVlLlxyXG4gICAgZmlyZUV2ZW50LnByZXNzKHNlbGVjdGlvblNxdWFyZTUpO1xyXG4gICAgLy9JbnB1dCBhIDUgZm9yIHRoZSBncmlkIHNxdWFyZSBhdCBsb2NhdGlvbiByb3cgNiwgY29sdW1uIDcuXHJcbiAgICBmaXJlRXZlbnQucHJlc3MoZ3JpZFNxdWFyZTY3KTtcclxuICAgIC8vU2VsZWN0IHNlbGVjdGlvbiBzcXVhcmUgZm9yIDMgdmFsdWUuXHJcbiAgICBmaXJlRXZlbnQucHJlc3Moc2VsZWN0aW9uU3F1YXJlMyk7XHJcbiAgICAvL0lucHV0IGEgMyBmb3IgdGhlIGdyaWQgc3F1YXJlIGF0IGxvY2F0aW9uIHJvdyA0LCBjb2x1bW4gNS5cclxuICAgIGZpcmVFdmVudC5wcmVzcyhncmlkU3F1YXJlNDUpO1xyXG4gICAgLy9XaW5uZXIgYW5pbWF0aW9uIHNob3VsZCBub3QgYmUgZm91bmQuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpPT57XHJcbiAgICAgIGV4cGVjdChxdWVyeUJ5VGVzdElkKCd3aW5uZXJBbmltYXRpb24nKSkudG9CZVRydXRoeSgpO1xyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICAvL0lmIGJvYXJkIGlzIGNvbXBsZXRlZCwgcHJlc3NpbmcgdGhlIHNjcmVlbiBzaG91bGQgcm91dGUgdG8gdGhlIG1haW4gbWVudS5cclxuICBpdChgc2hvdWxkIHJvdXRlIHRvIHRoZSBtYWluIG1lbnUgaWYgdGhlIGJvYXJkIGlzIGNvbXBsZXRlZCBhbmQgdGhlIHNjcmVlbiBpcywgdGhlbiwgcHJlc3NlZGAsIGFzeW5jICgpPT57XHJcbiAgICAvL1NpbXVsYXRlIGEgdmFsdWUgYmVpbmcgaW5wdXR0ZWQgb24gdGhlIGJvYXJkLlxyXG4gICAgY29uc3Qge2dldEJ5VGVzdElkLHN0b3JlLHF1ZXJ5QnlUZXN0SWR9ID0gZ2FtZURpc3BsYXlDb21wb25lbnQ7XHJcbiAgICBjb25zdCBzZWxlY3Rpb25TcXVhcmU1ID0gZ2V0QnlUZXN0SWQoJ3NlbGVjdGlvblNxdWFyZV81Jyk7XHJcbiAgICBjb25zdCBzZWxlY3Rpb25TcXVhcmUzID0gZ2V0QnlUZXN0SWQoJ3NlbGVjdGlvblNxdWFyZV8zJyk7XHJcbiAgICBjb25zdCBncmlkU3F1YXJlNjcgPSBnZXRCeVRlc3RJZCgnZ3JpZFNxdWFyZV82NycpO1xyXG4gICAgY29uc3QgZ3JpZFNxdWFyZTQ1ID0gZ2V0QnlUZXN0SWQoJ2dyaWRTcXVhcmVfNDUnKTtcclxuICAgIGNvbnN0IGN1ckhpc3RvcnkgPSBoaXN0b3J5Lmxlbmd0aDtcclxuICAgIC8vTG9jYXRpb24gcGF0aG5hbWUgc2hvdWxkIGluaXRpYWxseSBiZSAnRGlmZmljdWx0eVNlbGVjdGlvbicuXHJcbiAgICBleHBlY3QoaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZSkudG9CZSgnL0dhbWVEaXNwbGF5Jyk7XHJcbiAgICAvL1NlbGVjdCBzZWxlY3Rpb24gc3F1YXJlIGZvciA1IHZhbHVlLlxyXG4gICAgZmlyZUV2ZW50LnByZXNzKHNlbGVjdGlvblNxdWFyZTUpO1xyXG4gICAgLy9JbnB1dCBhIDUgZm9yIHRoZSBncmlkIHNxdWFyZSBhdCBsb2NhdGlvbiByb3cgNiwgY29sdW1uIDcuXHJcbiAgICBmaXJlRXZlbnQucHJlc3MoZ3JpZFNxdWFyZTY3KTtcclxuICAgIC8vU2VsZWN0IHNlbGVjdGlvbiBzcXVhcmUgZm9yIDMgdmFsdWUuXHJcbiAgICBmaXJlRXZlbnQucHJlc3Moc2VsZWN0aW9uU3F1YXJlMyk7XHJcbiAgICAvL0lucHV0IGEgMyBmb3IgdGhlIGdyaWQgc3F1YXJlIGF0IGxvY2F0aW9uIHJvdyA0LCBjb2x1bW4gNS5cclxuICAgIGZpcmVFdmVudC5wcmVzcyhncmlkU3F1YXJlNDUpO1xyXG4gICAgLy9XaW5uZXIgYW5pbWF0aW9uIHNob3VsZCBub3QgYmUgZm91bmQuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpPT57XHJcbiAgICAgIGNvbnN0IHdpbm5lckFuaW1hdGlvblByZXNzYWJsZSA9IGdldEJ5VGVzdElkKCd3aW5uZXJBbmltYXRpb25QcmVzc2FibGUnKTtcclxuICAgICAgZmlyZUV2ZW50LnByZXNzKHdpbm5lckFuaW1hdGlvblByZXNzYWJsZSk7XHJcbiAgICAgIC8vSGlzdG9yeSBsZW5ndGggc2hvdWxkIHJlbWFpbiB0aGUgc2FtZS5cclxuICAgICAgZXhwZWN0KGhpc3RvcnkubGVuZ3RoKS50b0JlKGN1ckhpc3RvcnkgKyAxKTtcclxuICAgICAgLy9Mb2NhdGlvbiBwYXRobmFtZSBzaG91bGQgaW5pdGlhbGx5IGJlICdEaWZmaWN1bHR5U2VsZWN0aW9uJy5cclxuICAgICAgZXhwZWN0KGhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWUpLnRvQmUoJy8nKTtcclxuICAgIH0pXHJcbiAgfSlcclxuXHJcbiAgaXQoYHNob3VsZCByb3V0ZSB0byB0aGUgbWFpbiBtZW51IHdoZW4gdGhlICdNYWluIE1lbnUnIGJ1dHRvbiBpcyBzZWxlY3RlZGAsKCkgPT57XHJcblxyXG4gIH0pXHJcbn0pIl19